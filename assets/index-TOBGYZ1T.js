var Fb=Object.defineProperty;var Mg=e=>{throw TypeError(e)};var Ub=(e,t,n)=>t in e?Fb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var g=(e,t,n)=>Ub(e,typeof t!="symbol"?t+"":t,n),Rg=(e,t,n)=>t.has(e)||Mg("Cannot "+n);var le=(e,t,n)=>(Rg(e,t,"read from private field"),n?n.call(e):t.get(e)),at=(e,t,n)=>t.has(e)?Mg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ue=(e,t,n,r)=>(Rg(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);function Vb(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Hb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var u3={exports:{}},ed={},c3={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=Symbol.for("react.element"),Kb=Symbol.for("react.portal"),Wb=Symbol.for("react.fragment"),Gb=Symbol.for("react.strict_mode"),Xb=Symbol.for("react.profiler"),Yb=Symbol.for("react.provider"),qb=Symbol.for("react.context"),Qb=Symbol.for("react.forward_ref"),Jb=Symbol.for("react.suspense"),Zb=Symbol.for("react.memo"),ew=Symbol.for("react.lazy"),jg=Symbol.iterator;function tw(e){return e===null||typeof e!="object"?null:(e=jg&&e[jg]||e["@@iterator"],typeof e=="function"?e:null)}var f3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d3=Object.assign,h3={};function wa(e,t,n){this.props=e,this.context=t,this.refs=h3,this.updater=n||f3}wa.prototype.isReactComponent={};wa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function p3(){}p3.prototype=wa.prototype;function M1(e,t,n){this.props=e,this.context=t,this.refs=h3,this.updater=n||f3}var R1=M1.prototype=new p3;R1.constructor=M1;d3(R1,wa.prototype);R1.isPureReactComponent=!0;var Ig=Array.isArray,m3=Object.prototype.hasOwnProperty,j1={current:null},g3={key:!0,ref:!0,__self:!0,__source:!0};function v3(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)m3.call(t,r)&&!g3.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:mu,type:e,key:s,ref:o,props:i,_owner:j1.current}}function nw(e,t){return{$$typeof:mu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function I1(e){return typeof e=="object"&&e!==null&&e.$$typeof===mu}function rw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Lg=/\/+/g;function nh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rw(""+e.key):t.toString(36)}function Sc(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case mu:case Kb:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+nh(o,0):r,Ig(i)?(n="",e!=null&&(n=e.replace(Lg,"$&/")+"/"),Sc(i,t,n,"",function(u){return u})):i!=null&&(I1(i)&&(i=nw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Lg,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Ig(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+nh(s,a);o+=Sc(s,t,n,l,i)}else if(l=tw(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+nh(s,a++),o+=Sc(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ku(e,t,n){if(e==null)return e;var r=[],i=0;return Sc(e,r,"","",function(s){return t.call(n,s,i++)}),r}function iw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dt={current:null},Ec={transition:null},sw={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:Ec,ReactCurrentOwner:j1};function y3(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Ku,forEach:function(e,t,n){Ku(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ku(e,function(){t++}),t},toArray:function(e){return Ku(e,function(t){return t})||[]},only:function(e){if(!I1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=wa;re.Fragment=Wb;re.Profiler=Xb;re.PureComponent=M1;re.StrictMode=Gb;re.Suspense=Jb;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sw;re.act=y3;re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=d3({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=j1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)m3.call(t,l)&&!g3.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:mu,type:e.type,key:i,ref:s,props:r,_owner:o}};re.createContext=function(e){return e={$$typeof:qb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Yb,_context:e},e.Consumer=e};re.createElement=v3;re.createFactory=function(e){var t=v3.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:Qb,render:e}};re.isValidElement=I1;re.lazy=function(e){return{$$typeof:ew,_payload:{_status:-1,_result:e},_init:iw}};re.memo=function(e,t){return{$$typeof:Zb,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=Ec.transition;Ec.transition={};try{e()}finally{Ec.transition=t}};re.unstable_act=y3;re.useCallback=function(e,t){return dt.current.useCallback(e,t)};re.useContext=function(e){return dt.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return dt.current.useDeferredValue(e)};re.useEffect=function(e,t){return dt.current.useEffect(e,t)};re.useId=function(){return dt.current.useId()};re.useImperativeHandle=function(e,t,n){return dt.current.useImperativeHandle(e,t,n)};re.useInsertionEffect=function(e,t){return dt.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return dt.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return dt.current.useMemo(e,t)};re.useReducer=function(e,t,n){return dt.current.useReducer(e,t,n)};re.useRef=function(e){return dt.current.useRef(e)};re.useState=function(e){return dt.current.useState(e)};re.useSyncExternalStore=function(e,t,n){return dt.current.useSyncExternalStore(e,t,n)};re.useTransition=function(){return dt.current.useTransition()};re.version="18.3.1";c3.exports=re;var A=c3.exports;const Xn=Hb(A),td=Vb({__proto__:null,default:Xn},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow=A,aw=Symbol.for("react.element"),lw=Symbol.for("react.fragment"),uw=Object.prototype.hasOwnProperty,cw=ow.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fw={key:!0,ref:!0,__self:!0,__source:!0};function x3(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)uw.call(t,r)&&!fw.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:aw,type:e,key:s,ref:o,props:i,_owner:cw.current}}ed.Fragment=lw;ed.jsx=x3;ed.jsxs=x3;u3.exports=ed;var w=u3.exports,b3={exports:{}},Lt={},w3={exports:{}},_3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,z){var B=C.length;C.push(z);e:for(;0<B;){var de=B-1>>>1,ge=C[de];if(0<i(ge,z))C[de]=z,C[B]=ge,B=de;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var z=C[0],B=C.pop();if(B!==z){C[0]=B;e:for(var de=0,ge=C.length,M=ge>>>1;de<M;){var G=2*(de+1)-1,V=C[G],F=G+1,K=C[F];if(0>i(V,B))F<ge&&0>i(K,V)?(C[de]=K,C[F]=B,de=F):(C[de]=V,C[G]=B,de=G);else if(F<ge&&0>i(K,B))C[de]=K,C[F]=B,de=F;else break e}}return z}function i(C,z){var B=C.sortIndex-z.sortIndex;return B!==0?B:C.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(C){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=C)r(u),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(u)}}function _(C){if(x=!1,y(C),!v)if(n(l)!==null)v=!0,U(E);else{var z=n(u);z!==null&&te(_,z.startTime-C)}}function E(C,z){v=!1,x&&(x=!1,m(T),T=-1),h=!0;var B=d;try{for(y(z),f=n(l);f!==null&&(!(f.expirationTime>z)||C&&!ee());){var de=f.callback;if(typeof de=="function"){f.callback=null,d=f.priorityLevel;var ge=de(f.expirationTime<=z);z=e.unstable_now(),typeof ge=="function"?f.callback=ge:f===n(l)&&r(l),y(z)}else r(l);f=n(l)}if(f!==null)var M=!0;else{var G=n(u);G!==null&&te(_,G.startTime-z),M=!1}return M}finally{f=null,d=B,h=!1}}var P=!1,O=null,T=-1,H=5,I=-1;function ee(){return!(e.unstable_now()-I<H)}function Z(){if(O!==null){var C=e.unstable_now();I=C;var z=!0;try{z=O(!0,C)}finally{z?he():(P=!1,O=null)}}else P=!1}var he;if(typeof p=="function")he=function(){p(Z)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Q=j.port2;j.port1.onmessage=Z,he=function(){Q.postMessage(null)}}else he=function(){b(Z,0)};function U(C){O=C,P||(P=!0,he())}function te(C,z){T=b(function(){C(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,U(E))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(C){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var B=d;d=z;try{return C()}finally{d=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,z){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var B=d;d=C;try{return z()}finally{d=B}},e.unstable_scheduleCallback=function(C,z,B){var de=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?de+B:de):B=de,C){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=B+ge,C={id:c++,callback:z,priorityLevel:C,startTime:B,expirationTime:ge,sortIndex:-1},B>de?(C.sortIndex=B,t(u,C),n(l)===null&&C===n(u)&&(x?(m(T),T=-1):x=!0,te(_,B-de))):(C.sortIndex=ge,t(l,C),v||h||(v=!0,U(E))),C},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(C){var z=d;return function(){var B=d;d=z;try{return C.apply(this,arguments)}finally{d=B}}}})(_3);w3.exports=_3;var dw=w3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw=A,jt=dw;function k(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S3=new Set,El={};function cs(e,t){ta(e,t),ta(e+"Capture",t)}function ta(e,t){for(El[e]=t,e=0;e<t.length;e++)S3.add(t[e])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d0=Object.prototype.hasOwnProperty,pw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dg={},zg={};function mw(e){return d0.call(zg,e)?!0:d0.call(Dg,e)?!1:pw.test(e)?zg[e]=!0:(Dg[e]=!0,!1)}function gw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vw(e,t,n,r){if(t===null||typeof t>"u"||gw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ht(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Je[e]=new ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Je[t]=new ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Je[e]=new ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Je[e]=new ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Je[e]=new ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Je[e]=new ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Je[e]=new ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Je[e]=new ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Je[e]=new ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var L1=/[\-:]([a-z])/g;function D1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(L1,D1);Je[t]=new ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(L1,D1);Je[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(L1,D1);Je[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Je[e]=new ht(e,1,!1,e.toLowerCase(),null,!1,!1)});Je.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Je[e]=new ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function z1(e,t,n,r){var i=Je.hasOwnProperty(t)?Je[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vw(t,n,i,r)&&(n=null),r||i===null?mw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Cr=hw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wu=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),B1=Symbol.for("react.strict_mode"),h0=Symbol.for("react.profiler"),E3=Symbol.for("react.provider"),O3=Symbol.for("react.context"),F1=Symbol.for("react.forward_ref"),p0=Symbol.for("react.suspense"),m0=Symbol.for("react.suspense_list"),U1=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),A3=Symbol.for("react.offscreen"),Bg=Symbol.iterator;function La(e){return e===null||typeof e!="object"?null:(e=Bg&&e[Bg]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,rh;function Qa(e){if(rh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rh=t&&t[1]||""}return`
`+rh+e}var ih=!1;function sh(e,t){if(!e||ih)return"";ih=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{ih=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qa(e):""}function yw(e){switch(e.tag){case 5:return Qa(e.type);case 16:return Qa("Lazy");case 13:return Qa("Suspense");case 19:return Qa("SuspenseList");case 0:case 2:case 15:return e=sh(e.type,!1),e;case 11:return e=sh(e.type.render,!1),e;case 1:return e=sh(e.type,!0),e;default:return""}}function g0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zs:return"Fragment";case Ds:return"Portal";case h0:return"Profiler";case B1:return"StrictMode";case p0:return"Suspense";case m0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O3:return(e.displayName||"Context")+".Consumer";case E3:return(e._context.displayName||"Context")+".Provider";case F1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U1:return t=e.displayName||null,t!==null?t:g0(e.type)||"Memo";case Ir:t=e._payload,e=e._init;try{return g0(e(t))}catch{}}return null}function xw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return g0(t);case 8:return t===B1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ii(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function P3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bw(e){var t=P3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gu(e){e._valueTracker||(e._valueTracker=bw(e))}function C3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=P3(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function v0(e,t){var n=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Fg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ii(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function T3(e,t){t=t.checked,t!=null&&z1(e,"checked",t,!1)}function y0(e,t){T3(e,t);var n=ii(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?x0(e,t.type,n):t.hasOwnProperty("defaultValue")&&x0(e,t.type,ii(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ug(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function x0(e,t,n){(t!=="number"||Wc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ja=Array.isArray;function Do(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ii(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function b0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(k(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(k(92));if(Ja(n)){if(1<n.length)throw Error(k(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ii(n)}}function k3(e,t){var n=ii(t.value),r=ii(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function N3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?N3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xu,$3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xu=Xu||document.createElement("div"),Xu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ol(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ww=["Webkit","ms","Moz","O"];Object.keys(sl).forEach(function(e){ww.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sl[t]=sl[e]})});function M3(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||sl.hasOwnProperty(e)&&sl[e]?(""+t).trim():t+"px"}function R3(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=M3(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var _w=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _0(e,t){if(t){if(_w[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(k(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(t.style!=null&&typeof t.style!="object")throw Error(k(62))}}function S0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E0=null;function V1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var O0=null,zo=null,Bo=null;function Kg(e){if(e=yu(e)){if(typeof O0!="function")throw Error(k(280));var t=e.stateNode;t&&(t=od(t),O0(e.stateNode,e.type,t))}}function j3(e){zo?Bo?Bo.push(e):Bo=[e]:zo=e}function I3(){if(zo){var e=zo,t=Bo;if(Bo=zo=null,Kg(e),t)for(e=0;e<t.length;e++)Kg(t[e])}}function L3(e,t){return e(t)}function D3(){}var oh=!1;function z3(e,t,n){if(oh)return e(t,n);oh=!0;try{return L3(e,t,n)}finally{oh=!1,(zo!==null||Bo!==null)&&(D3(),I3())}}function Al(e,t){var n=e.stateNode;if(n===null)return null;var r=od(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var A0=!1;if(wr)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){A0=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{A0=!1}function Sw(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ol=!1,Gc=null,Xc=!1,P0=null,Ew={onError:function(e){ol=!0,Gc=e}};function Ow(e,t,n,r,i,s,o,a,l){ol=!1,Gc=null,Sw.apply(Ew,arguments)}function Aw(e,t,n,r,i,s,o,a,l){if(Ow.apply(this,arguments),ol){if(ol){var u=Gc;ol=!1,Gc=null}else throw Error(k(198));Xc||(Xc=!0,P0=u)}}function fs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function B3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wg(e){if(fs(e)!==e)throw Error(k(188))}function Pw(e){var t=e.alternate;if(!t){if(t=fs(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Wg(i),e;if(s===r)return Wg(i),t;s=s.sibling}throw Error(k(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function F3(e){return e=Pw(e),e!==null?U3(e):null}function U3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=U3(e);if(t!==null)return t;e=e.sibling}return null}var V3=jt.unstable_scheduleCallback,Gg=jt.unstable_cancelCallback,Cw=jt.unstable_shouldYield,Tw=jt.unstable_requestPaint,Le=jt.unstable_now,kw=jt.unstable_getCurrentPriorityLevel,H1=jt.unstable_ImmediatePriority,H3=jt.unstable_UserBlockingPriority,Yc=jt.unstable_NormalPriority,Nw=jt.unstable_LowPriority,K3=jt.unstable_IdlePriority,nd=null,Yn=null;function $w(e){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(nd,e,void 0,(e.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:jw,Mw=Math.log,Rw=Math.LN2;function jw(e){return e>>>=0,e===0?32:31-(Mw(e)/Rw|0)|0}var Yu=64,qu=4194304;function Za(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Za(a):(s&=o,s!==0&&(r=Za(s)))}else o=n&~i,o!==0?r=Za(o):s!==0&&(r=Za(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wn(t),i=1<<n,r|=e[n],t&=~i;return r}function Iw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-wn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Iw(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function C0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function W3(){var e=Yu;return Yu<<=1,!(Yu&4194240)&&(Yu=64),e}function ah(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wn(t),e[t]=n}function Dw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-wn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function K1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var pe=0;function G3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var X3,W1,Y3,q3,Q3,T0=!1,Qu=[],Yr=null,qr=null,Qr=null,Pl=new Map,Cl=new Map,Dr=[],zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xg(e,t){switch(e){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Pl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(t.pointerId)}}function za(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=yu(t),t!==null&&W1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Bw(e,t,n,r,i){switch(t){case"focusin":return Yr=za(Yr,e,t,n,r,i),!0;case"dragenter":return qr=za(qr,e,t,n,r,i),!0;case"mouseover":return Qr=za(Qr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pl.set(s,za(Pl.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Cl.set(s,za(Cl.get(s)||null,e,t,n,r,i)),!0}return!1}function J3(e){var t=Ti(e.target);if(t!==null){var n=fs(t);if(n!==null){if(t=n.tag,t===13){if(t=B3(n),t!==null){e.blockedOn=t,Q3(e.priority,function(){Y3(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=k0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);E0=r,n.target.dispatchEvent(r),E0=null}else return t=yu(n),t!==null&&W1(t),e.blockedOn=n,!1;t.shift()}return!0}function Yg(e,t,n){Oc(e)&&n.delete(t)}function Fw(){T0=!1,Yr!==null&&Oc(Yr)&&(Yr=null),qr!==null&&Oc(qr)&&(qr=null),Qr!==null&&Oc(Qr)&&(Qr=null),Pl.forEach(Yg),Cl.forEach(Yg)}function Ba(e,t){e.blockedOn===t&&(e.blockedOn=null,T0||(T0=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,Fw)))}function Tl(e){function t(i){return Ba(i,e)}if(0<Qu.length){Ba(Qu[0],e);for(var n=1;n<Qu.length;n++){var r=Qu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Yr!==null&&Ba(Yr,e),qr!==null&&Ba(qr,e),Qr!==null&&Ba(Qr,e),Pl.forEach(t),Cl.forEach(t),n=0;n<Dr.length;n++)r=Dr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dr.length&&(n=Dr[0],n.blockedOn===null);)J3(n),n.blockedOn===null&&Dr.shift()}var Fo=Cr.ReactCurrentBatchConfig,Qc=!0;function Uw(e,t,n,r){var i=pe,s=Fo.transition;Fo.transition=null;try{pe=1,G1(e,t,n,r)}finally{pe=i,Fo.transition=s}}function Vw(e,t,n,r){var i=pe,s=Fo.transition;Fo.transition=null;try{pe=4,G1(e,t,n,r)}finally{pe=i,Fo.transition=s}}function G1(e,t,n,r){if(Qc){var i=k0(e,t,n,r);if(i===null)vh(e,t,r,Jc,n),Xg(e,r);else if(Bw(i,e,t,n,r))r.stopPropagation();else if(Xg(e,r),t&4&&-1<zw.indexOf(e)){for(;i!==null;){var s=yu(i);if(s!==null&&X3(s),s=k0(e,t,n,r),s===null&&vh(e,t,r,Jc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vh(e,t,r,null,n)}}var Jc=null;function k0(e,t,n,r){if(Jc=null,e=V1(r),e=Ti(e),e!==null)if(t=fs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=B3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jc=e,null}function Z3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kw()){case H1:return 1;case H3:return 4;case Yc:case Nw:return 16;case K3:return 536870912;default:return 16}default:return 16}}var Vr=null,X1=null,Ac=null;function e6(){if(Ac)return Ac;var e,t=X1,n=t.length,r,i="value"in Vr?Vr.value:Vr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ac=i.slice(e,1<r?1-r:void 0)}function Pc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ju(){return!0}function qg(){return!1}function Dt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ju:qg,this.isPropagationStopped=qg,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ju)},persist:function(){},isPersistent:Ju}),t}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Y1=Dt(_a),vu=Me({},_a,{view:0,detail:0}),Hw=Dt(vu),lh,uh,Fa,rd=Me({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:q1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fa&&(Fa&&e.type==="mousemove"?(lh=e.screenX-Fa.screenX,uh=e.screenY-Fa.screenY):uh=lh=0,Fa=e),lh)},movementY:function(e){return"movementY"in e?e.movementY:uh}}),Qg=Dt(rd),Kw=Me({},rd,{dataTransfer:0}),Ww=Dt(Kw),Gw=Me({},vu,{relatedTarget:0}),ch=Dt(Gw),Xw=Me({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),Yw=Dt(Xw),qw=Me({},_a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qw=Dt(qw),Jw=Me({},_a,{data:0}),Jg=Dt(Jw),Zw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=t_[e])?!!t[e]:!1}function q1(){return n_}var r_=Me({},vu,{key:function(e){if(e.key){var t=Zw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?e_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:q1,charCode:function(e){return e.type==="keypress"?Pc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),i_=Dt(r_),s_=Me({},rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zg=Dt(s_),o_=Me({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:q1}),a_=Dt(o_),l_=Me({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),u_=Dt(l_),c_=Me({},rd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),f_=Dt(c_),d_=[9,13,27,32],Q1=wr&&"CompositionEvent"in window,al=null;wr&&"documentMode"in document&&(al=document.documentMode);var h_=wr&&"TextEvent"in window&&!al,t6=wr&&(!Q1||al&&8<al&&11>=al),ev=" ",tv=!1;function n6(e,t){switch(e){case"keyup":return d_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bs=!1;function p_(e,t){switch(e){case"compositionend":return r6(t);case"keypress":return t.which!==32?null:(tv=!0,ev);case"textInput":return e=t.data,e===ev&&tv?null:e;default:return null}}function m_(e,t){if(Bs)return e==="compositionend"||!Q1&&n6(e,t)?(e=e6(),Ac=X1=Vr=null,Bs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return t6&&t.locale!=="ko"?null:t.data;default:return null}}var g_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!g_[e.type]:t==="textarea"}function i6(e,t,n,r){j3(r),t=Zc(t,"onChange"),0<t.length&&(n=new Y1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ll=null,kl=null;function v_(e){m6(e,0)}function id(e){var t=Vs(e);if(C3(t))return e}function y_(e,t){if(e==="change")return t}var s6=!1;if(wr){var fh;if(wr){var dh="oninput"in document;if(!dh){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),dh=typeof rv.oninput=="function"}fh=dh}else fh=!1;s6=fh&&(!document.documentMode||9<document.documentMode)}function iv(){ll&&(ll.detachEvent("onpropertychange",o6),kl=ll=null)}function o6(e){if(e.propertyName==="value"&&id(kl)){var t=[];i6(t,kl,e,V1(e)),z3(v_,t)}}function x_(e,t,n){e==="focusin"?(iv(),ll=t,kl=n,ll.attachEvent("onpropertychange",o6)):e==="focusout"&&iv()}function b_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return id(kl)}function w_(e,t){if(e==="click")return id(t)}function __(e,t){if(e==="input"||e==="change")return id(t)}function S_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tn=typeof Object.is=="function"?Object.is:S_;function Nl(e,t){if(Tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d0.call(t,i)||!Tn(e[i],t[i]))return!1}return!0}function sv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ov(e,t){var n=sv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sv(n)}}function a6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?a6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function l6(){for(var e=window,t=Wc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wc(e.document)}return t}function J1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function E_(e){var t=l6(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&a6(n.ownerDocument.documentElement,n)){if(r!==null&&J1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ov(n,s);var o=ov(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var O_=wr&&"documentMode"in document&&11>=document.documentMode,Fs=null,N0=null,ul=null,$0=!1;function av(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$0||Fs==null||Fs!==Wc(r)||(r=Fs,"selectionStart"in r&&J1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ul&&Nl(ul,r)||(ul=r,r=Zc(N0,"onSelect"),0<r.length&&(t=new Y1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fs)))}function Zu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Us={animationend:Zu("Animation","AnimationEnd"),animationiteration:Zu("Animation","AnimationIteration"),animationstart:Zu("Animation","AnimationStart"),transitionend:Zu("Transition","TransitionEnd")},hh={},u6={};wr&&(u6=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function sd(e){if(hh[e])return hh[e];if(!Us[e])return e;var t=Us[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in u6)return hh[e]=t[n];return e}var c6=sd("animationend"),f6=sd("animationiteration"),d6=sd("animationstart"),h6=sd("transitionend"),p6=new Map,lv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(e,t){p6.set(e,t),cs(t,[e])}for(var ph=0;ph<lv.length;ph++){var mh=lv[ph],A_=mh.toLowerCase(),P_=mh[0].toUpperCase()+mh.slice(1);di(A_,"on"+P_)}di(c6,"onAnimationEnd");di(f6,"onAnimationIteration");di(d6,"onAnimationStart");di("dblclick","onDoubleClick");di("focusin","onFocus");di("focusout","onBlur");di(h6,"onTransitionEnd");ta("onMouseEnter",["mouseout","mouseover"]);ta("onMouseLeave",["mouseout","mouseover"]);ta("onPointerEnter",["pointerout","pointerover"]);ta("onPointerLeave",["pointerout","pointerover"]);cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C_=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function uv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Aw(r,t,void 0,e),e.currentTarget=null}function m6(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;uv(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;uv(i,a,u),s=l}}}if(Xc)throw e=P0,Xc=!1,P0=null,e}function Ee(e,t){var n=t[L0];n===void 0&&(n=t[L0]=new Set);var r=e+"__bubble";n.has(r)||(g6(t,e,2,!1),n.add(r))}function gh(e,t,n){var r=0;t&&(r|=4),g6(n,e,r,t)}var ec="_reactListening"+Math.random().toString(36).slice(2);function $l(e){if(!e[ec]){e[ec]=!0,S3.forEach(function(n){n!=="selectionchange"&&(C_.has(n)||gh(n,!1,e),gh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ec]||(t[ec]=!0,gh("selectionchange",!1,t))}}function g6(e,t,n,r){switch(Z3(t)){case 1:var i=Uw;break;case 4:i=Vw;break;default:i=G1}n=i.bind(null,t,n,e),i=void 0,!A0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function vh(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ti(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}z3(function(){var u=s,c=V1(n),f=[];e:{var d=p6.get(e);if(d!==void 0){var h=Y1,v=e;switch(e){case"keypress":if(Pc(n)===0)break e;case"keydown":case"keyup":h=i_;break;case"focusin":v="focus",h=ch;break;case"focusout":v="blur",h=ch;break;case"beforeblur":case"afterblur":h=ch;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Ww;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=a_;break;case c6:case f6:case d6:h=Yw;break;case h6:h=u_;break;case"scroll":h=Hw;break;case"wheel":h=f_;break;case"copy":case"cut":case"paste":h=Qw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Zg}var x=(t&4)!==0,b=!x&&e==="scroll",m=x?d!==null?d+"Capture":null:d;x=[];for(var p=u,y;p!==null;){y=p;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,m!==null&&(_=Al(p,m),_!=null&&x.push(Ml(p,_,y)))),b)break;p=p.return}0<x.length&&(d=new h(d,v,null,n,c),f.push({event:d,listeners:x}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==E0&&(v=n.relatedTarget||n.fromElement)&&(Ti(v)||v[_r]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?Ti(v):null,v!==null&&(b=fs(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(x=Qg,_="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=Zg,_="onPointerLeave",m="onPointerEnter",p="pointer"),b=h==null?d:Vs(h),y=v==null?d:Vs(v),d=new x(_,p+"leave",h,n,c),d.target=b,d.relatedTarget=y,_=null,Ti(c)===u&&(x=new x(m,p+"enter",v,n,c),x.target=y,x.relatedTarget=b,_=x),b=_,h&&v)t:{for(x=h,m=v,p=0,y=x;y;y=Ss(y))p++;for(y=0,_=m;_;_=Ss(_))y++;for(;0<p-y;)x=Ss(x),p--;for(;0<y-p;)m=Ss(m),y--;for(;p--;){if(x===m||m!==null&&x===m.alternate)break t;x=Ss(x),m=Ss(m)}x=null}else x=null;h!==null&&cv(f,d,h,x,!1),v!==null&&b!==null&&cv(f,b,v,x,!0)}}e:{if(d=u?Vs(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var E=y_;else if(nv(d))if(s6)E=__;else{E=b_;var P=x_}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=w_);if(E&&(E=E(e,u))){i6(f,E,n,c);break e}P&&P(e,d,u),e==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&x0(d,"number",d.value)}switch(P=u?Vs(u):window,e){case"focusin":(nv(P)||P.contentEditable==="true")&&(Fs=P,N0=u,ul=null);break;case"focusout":ul=N0=Fs=null;break;case"mousedown":$0=!0;break;case"contextmenu":case"mouseup":case"dragend":$0=!1,av(f,n,c);break;case"selectionchange":if(O_)break;case"keydown":case"keyup":av(f,n,c)}var O;if(Q1)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Bs?n6(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(t6&&n.locale!=="ko"&&(Bs||T!=="onCompositionStart"?T==="onCompositionEnd"&&Bs&&(O=e6()):(Vr=c,X1="value"in Vr?Vr.value:Vr.textContent,Bs=!0)),P=Zc(u,T),0<P.length&&(T=new Jg(T,e,null,n,c),f.push({event:T,listeners:P}),O?T.data=O:(O=r6(n),O!==null&&(T.data=O)))),(O=h_?p_(e,n):m_(e,n))&&(u=Zc(u,"onBeforeInput"),0<u.length&&(c=new Jg("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=O))}m6(f,t)})}function Ml(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Al(e,n),s!=null&&r.unshift(Ml(e,s,i)),s=Al(e,t),s!=null&&r.push(Ml(e,s,i))),e=e.return}return r}function Ss(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cv(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Al(n,s),l!=null&&o.unshift(Ml(n,l,a))):i||(l=Al(n,s),l!=null&&o.push(Ml(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var T_=/\r\n?/g,k_=/\u0000|\uFFFD/g;function fv(e){return(typeof e=="string"?e:""+e).replace(T_,`
`).replace(k_,"")}function tc(e,t,n){if(t=fv(t),fv(e)!==t&&n)throw Error(k(425))}function ef(){}var M0=null,R0=null;function j0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var I0=typeof setTimeout=="function"?setTimeout:void 0,N_=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,$_=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(e){return dv.resolve(null).then(e).catch(M_)}:I0;function M_(e){setTimeout(function(){throw e})}function yh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Tl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tl(t)}function Jr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Sa=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Sa,Rl="__reactProps$"+Sa,_r="__reactContainer$"+Sa,L0="__reactEvents$"+Sa,R_="__reactListeners$"+Sa,j_="__reactHandles$"+Sa;function Ti(e){var t=e[Hn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_r]||n[Hn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hv(e);e!==null;){if(n=e[Hn])return n;e=hv(e)}return t}e=n,n=e.parentNode}return null}function yu(e){return e=e[Hn]||e[_r],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function od(e){return e[Rl]||null}var D0=[],Hs=-1;function hi(e){return{current:e}}function Ae(e){0>Hs||(e.current=D0[Hs],D0[Hs]=null,Hs--)}function we(e,t){Hs++,D0[Hs]=e.current,e.current=t}var si={},st=hi(si),wt=hi(!1),Xi=si;function na(e,t){var n=e.type.contextTypes;if(!n)return si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _t(e){return e=e.childContextTypes,e!=null}function tf(){Ae(wt),Ae(st)}function pv(e,t,n){if(st.current!==si)throw Error(k(168));we(st,t),we(wt,n)}function v6(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(k(108,xw(e)||"Unknown",i));return Me({},n,r)}function nf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||si,Xi=st.current,we(st,e),we(wt,wt.current),!0}function mv(e,t,n){var r=e.stateNode;if(!r)throw Error(k(169));n?(e=v6(e,t,Xi),r.__reactInternalMemoizedMergedChildContext=e,Ae(wt),Ae(st),we(st,e)):Ae(wt),we(wt,n)}var ar=null,ad=!1,xh=!1;function y6(e){ar===null?ar=[e]:ar.push(e)}function I_(e){ad=!0,y6(e)}function pi(){if(!xh&&ar!==null){xh=!0;var e=0,t=pe;try{var n=ar;for(pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ar=null,ad=!1}catch(i){throw ar!==null&&(ar=ar.slice(e+1)),V3(H1,pi),i}finally{pe=t,xh=!1}}return null}var Ks=[],Ws=0,rf=null,sf=0,Kt=[],Wt=0,Yi=null,pr=1,mr="";function Si(e,t){Ks[Ws++]=sf,Ks[Ws++]=rf,rf=e,sf=t}function x6(e,t,n){Kt[Wt++]=pr,Kt[Wt++]=mr,Kt[Wt++]=Yi,Yi=e;var r=pr;e=mr;var i=32-wn(r)-1;r&=~(1<<i),n+=1;var s=32-wn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pr=1<<32-wn(t)+i|n<<i|r,mr=s+e}else pr=1<<s|n<<i|r,mr=e}function Z1(e){e.return!==null&&(Si(e,1),x6(e,1,0))}function em(e){for(;e===rf;)rf=Ks[--Ws],Ks[Ws]=null,sf=Ks[--Ws],Ks[Ws]=null;for(;e===Yi;)Yi=Kt[--Wt],Kt[Wt]=null,mr=Kt[--Wt],Kt[Wt]=null,pr=Kt[--Wt],Kt[Wt]=null}var Mt=null,Nt=null,Ce=!1,yn=null;function b6(e,t){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,Nt=Jr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yi!==null?{id:pr,overflow:mr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mt=e,Nt=null,!0):!1;default:return!1}}function z0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function B0(e){if(Ce){var t=Nt;if(t){var n=t;if(!gv(e,t)){if(z0(e))throw Error(k(418));t=Jr(n.nextSibling);var r=Mt;t&&gv(e,t)?b6(r,n):(e.flags=e.flags&-4097|2,Ce=!1,Mt=e)}}else{if(z0(e))throw Error(k(418));e.flags=e.flags&-4097|2,Ce=!1,Mt=e}}}function vv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function nc(e){if(e!==Mt)return!1;if(!Ce)return vv(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!j0(e.type,e.memoizedProps)),t&&(t=Nt)){if(z0(e))throw w6(),Error(k(418));for(;t;)b6(e,t),t=Jr(t.nextSibling)}if(vv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Nt=Jr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=Mt?Jr(e.stateNode.nextSibling):null;return!0}function w6(){for(var e=Nt;e;)e=Jr(e.nextSibling)}function ra(){Nt=Mt=null,Ce=!1}function tm(e){yn===null?yn=[e]:yn.push(e)}var L_=Cr.ReactCurrentBatchConfig;function Ua(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,e))}return e}function rc(e,t){throw e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yv(e){var t=e._init;return t(e._payload)}function _6(e){function t(m,p){if(e){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=ni(m,p),m.index=0,m.sibling=null,m}function s(m,p,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,_){return p===null||p.tag!==6?(p=Ah(y,m.mode,_),p.return=m,p):(p=i(p,y),p.return=m,p)}function l(m,p,y,_){var E=y.type;return E===zs?c(m,p,y.props.children,_,y.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ir&&yv(E)===p.type)?(_=i(p,y.props),_.ref=Ua(m,p,y),_.return=m,_):(_=Rc(y.type,y.key,y.props,null,m.mode,_),_.ref=Ua(m,p,y),_.return=m,_)}function u(m,p,y,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Ph(y,m.mode,_),p.return=m,p):(p=i(p,y.children||[]),p.return=m,p)}function c(m,p,y,_,E){return p===null||p.tag!==7?(p=Ui(y,m.mode,_,E),p.return=m,p):(p=i(p,y),p.return=m,p)}function f(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ah(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Wu:return y=Rc(p.type,p.key,p.props,null,m.mode,y),y.ref=Ua(m,null,p),y.return=m,y;case Ds:return p=Ph(p,m.mode,y),p.return=m,p;case Ir:var _=p._init;return f(m,_(p._payload),y)}if(Ja(p)||La(p))return p=Ui(p,m.mode,y,null),p.return=m,p;rc(m,p)}return null}function d(m,p,y,_){var E=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:a(m,p,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wu:return y.key===E?l(m,p,y,_):null;case Ds:return y.key===E?u(m,p,y,_):null;case Ir:return E=y._init,d(m,p,E(y._payload),_)}if(Ja(y)||La(y))return E!==null?null:c(m,p,y,_,null);rc(m,y)}return null}function h(m,p,y,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(y)||null,a(p,m,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wu:return m=m.get(_.key===null?y:_.key)||null,l(p,m,_,E);case Ds:return m=m.get(_.key===null?y:_.key)||null,u(p,m,_,E);case Ir:var P=_._init;return h(m,p,y,P(_._payload),E)}if(Ja(_)||La(_))return m=m.get(y)||null,c(p,m,_,E,null);rc(p,_)}return null}function v(m,p,y,_){for(var E=null,P=null,O=p,T=p=0,H=null;O!==null&&T<y.length;T++){O.index>T?(H=O,O=null):H=O.sibling;var I=d(m,O,y[T],_);if(I===null){O===null&&(O=H);break}e&&O&&I.alternate===null&&t(m,O),p=s(I,p,T),P===null?E=I:P.sibling=I,P=I,O=H}if(T===y.length)return n(m,O),Ce&&Si(m,T),E;if(O===null){for(;T<y.length;T++)O=f(m,y[T],_),O!==null&&(p=s(O,p,T),P===null?E=O:P.sibling=O,P=O);return Ce&&Si(m,T),E}for(O=r(m,O);T<y.length;T++)H=h(O,m,T,y[T],_),H!==null&&(e&&H.alternate!==null&&O.delete(H.key===null?T:H.key),p=s(H,p,T),P===null?E=H:P.sibling=H,P=H);return e&&O.forEach(function(ee){return t(m,ee)}),Ce&&Si(m,T),E}function x(m,p,y,_){var E=La(y);if(typeof E!="function")throw Error(k(150));if(y=E.call(y),y==null)throw Error(k(151));for(var P=E=null,O=p,T=p=0,H=null,I=y.next();O!==null&&!I.done;T++,I=y.next()){O.index>T?(H=O,O=null):H=O.sibling;var ee=d(m,O,I.value,_);if(ee===null){O===null&&(O=H);break}e&&O&&ee.alternate===null&&t(m,O),p=s(ee,p,T),P===null?E=ee:P.sibling=ee,P=ee,O=H}if(I.done)return n(m,O),Ce&&Si(m,T),E;if(O===null){for(;!I.done;T++,I=y.next())I=f(m,I.value,_),I!==null&&(p=s(I,p,T),P===null?E=I:P.sibling=I,P=I);return Ce&&Si(m,T),E}for(O=r(m,O);!I.done;T++,I=y.next())I=h(O,m,T,I.value,_),I!==null&&(e&&I.alternate!==null&&O.delete(I.key===null?T:I.key),p=s(I,p,T),P===null?E=I:P.sibling=I,P=I);return e&&O.forEach(function(Z){return t(m,Z)}),Ce&&Si(m,T),E}function b(m,p,y,_){if(typeof y=="object"&&y!==null&&y.type===zs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Wu:e:{for(var E=y.key,P=p;P!==null;){if(P.key===E){if(E=y.type,E===zs){if(P.tag===7){n(m,P.sibling),p=i(P,y.props.children),p.return=m,m=p;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ir&&yv(E)===P.type){n(m,P.sibling),p=i(P,y.props),p.ref=Ua(m,P,y),p.return=m,m=p;break e}n(m,P);break}else t(m,P);P=P.sibling}y.type===zs?(p=Ui(y.props.children,m.mode,_,y.key),p.return=m,m=p):(_=Rc(y.type,y.key,y.props,null,m.mode,_),_.ref=Ua(m,p,y),_.return=m,m=_)}return o(m);case Ds:e:{for(P=y.key;p!==null;){if(p.key===P)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=i(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=Ph(y,m.mode,_),p.return=m,m=p}return o(m);case Ir:return P=y._init,b(m,p,P(y._payload),_)}if(Ja(y))return v(m,p,y,_);if(La(y))return x(m,p,y,_);rc(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,y),p.return=m,m=p):(n(m,p),p=Ah(y,m.mode,_),p.return=m,m=p),o(m)):n(m,p)}return b}var ia=_6(!0),S6=_6(!1),of=hi(null),af=null,Gs=null,nm=null;function rm(){nm=Gs=af=null}function im(e){var t=of.current;Ae(of),e._currentValue=t}function F0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Uo(e,t){af=e,nm=Gs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bt=!0),e.firstContext=null)}function an(e){var t=e._currentValue;if(nm!==e)if(e={context:e,memoizedValue:t,next:null},Gs===null){if(af===null)throw Error(k(308));Gs=e,af.dependencies={lanes:0,firstContext:e}}else Gs=Gs.next=e;return t}var ki=null;function sm(e){ki===null?ki=[e]:ki.push(e)}function E6(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,sm(t)):(n.next=i.next,i.next=n),t.interleaved=n,Sr(e,r)}function Sr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Lr=!1;function om(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Sr(e,n)}return i=r.interleaved,i===null?(t.next=t,sm(r)):(t.next=i.next,i.next=t),r.interleaved=t,Sr(e,n)}function Cc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,K1(e,n)}}function xv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lf(e,t,n,r){var i=e.updateQueue;Lr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,x=a;switch(d=t,h=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(h,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,d=typeof v=="function"?v.call(h,f,d):v,d==null)break e;f=Me({},f,d);break e;case 2:Lr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Qi|=o,e.lanes=o,e.memoizedState=f}}function bv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(k(191,i));i.call(r)}}}var xu={},qn=hi(xu),jl=hi(xu),Il=hi(xu);function Ni(e){if(e===xu)throw Error(k(174));return e}function am(e,t){switch(we(Il,t),we(jl,e),we(qn,xu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:w0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=w0(t,e)}Ae(qn),we(qn,t)}function sa(){Ae(qn),Ae(jl),Ae(Il)}function A6(e){Ni(Il.current);var t=Ni(qn.current),n=w0(t,e.type);t!==n&&(we(jl,e),we(qn,n))}function lm(e){jl.current===e&&(Ae(qn),Ae(jl))}var Te=hi(0);function uf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bh=[];function um(){for(var e=0;e<bh.length;e++)bh[e]._workInProgressVersionPrimary=null;bh.length=0}var Tc=Cr.ReactCurrentDispatcher,wh=Cr.ReactCurrentBatchConfig,qi=0,$e=null,Ve=null,Ke=null,cf=!1,cl=!1,Ll=0,D_=0;function et(){throw Error(k(321))}function cm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tn(e[n],t[n]))return!1;return!0}function fm(e,t,n,r,i,s){if(qi=s,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tc.current=e===null||e.memoizedState===null?U_:V_,e=n(r,i),cl){s=0;do{if(cl=!1,Ll=0,25<=s)throw Error(k(301));s+=1,Ke=Ve=null,t.updateQueue=null,Tc.current=H_,e=n(r,i)}while(cl)}if(Tc.current=ff,t=Ve!==null&&Ve.next!==null,qi=0,Ke=Ve=$e=null,cf=!1,t)throw Error(k(300));return e}function dm(){var e=Ll!==0;return Ll=0,e}function Un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?$e.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function ln(){if(Ve===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=Ke===null?$e.memoizedState:Ke.next;if(t!==null)Ke=t,Ve=e;else{if(e===null)throw Error(k(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ke===null?$e.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Dl(e,t){return typeof t=="function"?t(e):t}function _h(e){var t=ln(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=Ve,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((qi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,$e.lanes|=c,Qi|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Tn(r,t.memoizedState)||(bt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,$e.lanes|=s,Qi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sh(e){var t=ln(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Tn(s,t.memoizedState)||(bt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function P6(){}function C6(e,t){var n=$e,r=ln(),i=t(),s=!Tn(r.memoizedState,i);if(s&&(r.memoizedState=i,bt=!0),r=r.queue,hm(N6.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,zl(9,k6.bind(null,n,r,i,t),void 0,null),We===null)throw Error(k(349));qi&30||T6(n,t,i)}return i}function T6(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function k6(e,t,n,r){t.value=n,t.getSnapshot=r,$6(t)&&M6(e)}function N6(e,t,n){return n(function(){$6(t)&&M6(e)})}function $6(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tn(e,n)}catch{return!0}}function M6(e){var t=Sr(e,1);t!==null&&_n(t,e,1,-1)}function wv(e){var t=Un();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:e},t.queue=e,e=e.dispatch=F_.bind(null,$e,e),[t.memoizedState,e]}function zl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function R6(){return ln().memoizedState}function kc(e,t,n,r){var i=Un();$e.flags|=e,i.memoizedState=zl(1|t,n,void 0,r===void 0?null:r)}function ld(e,t,n,r){var i=ln();r=r===void 0?null:r;var s=void 0;if(Ve!==null){var o=Ve.memoizedState;if(s=o.destroy,r!==null&&cm(r,o.deps)){i.memoizedState=zl(t,n,s,r);return}}$e.flags|=e,i.memoizedState=zl(1|t,n,s,r)}function _v(e,t){return kc(8390656,8,e,t)}function hm(e,t){return ld(2048,8,e,t)}function j6(e,t){return ld(4,2,e,t)}function I6(e,t){return ld(4,4,e,t)}function L6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function D6(e,t,n){return n=n!=null?n.concat([e]):null,ld(4,4,L6.bind(null,t,e),n)}function pm(){}function z6(e,t){var n=ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function B6(e,t){var n=ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function F6(e,t,n){return qi&21?(Tn(n,t)||(n=W3(),$e.lanes|=n,Qi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=n)}function z_(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var r=wh.transition;wh.transition={};try{e(!1),t()}finally{pe=n,wh.transition=r}}function U6(){return ln().memoizedState}function B_(e,t,n){var r=ti(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},V6(e))H6(t,n);else if(n=E6(e,t,n,r),n!==null){var i=ft();_n(n,e,r,i),K6(n,t,r)}}function F_(e,t,n){var r=ti(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(V6(e))H6(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Tn(a,o)){var l=t.interleaved;l===null?(i.next=i,sm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=E6(e,t,i,r),n!==null&&(i=ft(),_n(n,e,r,i),K6(n,t,r))}}function V6(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function H6(e,t){cl=cf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function K6(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,K1(e,n)}}var ff={readContext:an,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},U_={readContext:an,useCallback:function(e,t){return Un().memoizedState=[e,t===void 0?null:t],e},useContext:an,useEffect:_v,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,kc(4194308,4,L6.bind(null,t,e),n)},useLayoutEffect:function(e,t){return kc(4194308,4,e,t)},useInsertionEffect:function(e,t){return kc(4,2,e,t)},useMemo:function(e,t){var n=Un();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Un();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=B_.bind(null,$e,e),[r.memoizedState,e]},useRef:function(e){var t=Un();return e={current:e},t.memoizedState=e},useState:wv,useDebugValue:pm,useDeferredValue:function(e){return Un().memoizedState=e},useTransition:function(){var e=wv(!1),t=e[0];return e=z_.bind(null,e[1]),Un().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$e,i=Un();if(Ce){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),We===null)throw Error(k(349));qi&30||T6(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,_v(N6.bind(null,r,s,e),[e]),r.flags|=2048,zl(9,k6.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Un(),t=We.identifierPrefix;if(Ce){var n=mr,r=pr;n=(r&~(1<<32-wn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ll++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=D_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},V_={readContext:an,useCallback:z6,useContext:an,useEffect:hm,useImperativeHandle:D6,useInsertionEffect:j6,useLayoutEffect:I6,useMemo:B6,useReducer:_h,useRef:R6,useState:function(){return _h(Dl)},useDebugValue:pm,useDeferredValue:function(e){var t=ln();return F6(t,Ve.memoizedState,e)},useTransition:function(){var e=_h(Dl)[0],t=ln().memoizedState;return[e,t]},useMutableSource:P6,useSyncExternalStore:C6,useId:U6,unstable_isNewReconciler:!1},H_={readContext:an,useCallback:z6,useContext:an,useEffect:hm,useImperativeHandle:D6,useInsertionEffect:j6,useLayoutEffect:I6,useMemo:B6,useReducer:Sh,useRef:R6,useState:function(){return Sh(Dl)},useDebugValue:pm,useDeferredValue:function(e){var t=ln();return Ve===null?t.memoizedState=e:F6(t,Ve.memoizedState,e)},useTransition:function(){var e=Sh(Dl)[0],t=ln().memoizedState;return[e,t]},useMutableSource:P6,useSyncExternalStore:C6,useId:U6,unstable_isNewReconciler:!1};function gn(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function U0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ud={isMounted:function(e){return(e=e._reactInternals)?fs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ft(),i=ti(e),s=vr(r,i);s.payload=t,n!=null&&(s.callback=n),t=Zr(e,s,i),t!==null&&(_n(t,e,i,r),Cc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ft(),i=ti(e),s=vr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Zr(e,s,i),t!==null&&(_n(t,e,i,r),Cc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ft(),r=ti(e),i=vr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Zr(e,i,r),t!==null&&(_n(t,e,r,n),Cc(t,e,r))}};function Sv(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Nl(n,r)||!Nl(i,s):!0}function W6(e,t,n){var r=!1,i=si,s=t.contextType;return typeof s=="object"&&s!==null?s=an(s):(i=_t(t)?Xi:st.current,r=t.contextTypes,s=(r=r!=null)?na(e,i):si),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ud,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ev(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ud.enqueueReplaceState(t,t.state,null)}function V0(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},om(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=an(s):(s=_t(t)?Xi:st.current,i.context=na(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(U0(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ud.enqueueReplaceState(i,i.state,null),lf(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function oa(e,t){try{var n="",r=t;do n+=yw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Eh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function H0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var K_=typeof WeakMap=="function"?WeakMap:Map;function G6(e,t,n){n=vr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hf||(hf=!0,ep=r),H0(e,t)},n}function X6(e,t,n){n=vr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){H0(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){H0(e,t),typeof r!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ov(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new K_;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=s7.bind(null,e,t,n),t.then(e,e))}function Av(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vr(-1,1),t.tag=2,Zr(n,t,1))),n.lanes|=1),e)}var W_=Cr.ReactCurrentOwner,bt=!1;function lt(e,t,n,r){t.child=e===null?S6(t,null,n,r):ia(t,e.child,n,r)}function Cv(e,t,n,r,i){n=n.render;var s=t.ref;return Uo(t,i),r=fm(e,t,n,r,s,i),n=dm(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Er(e,t,i)):(Ce&&n&&Z1(t),t.flags|=1,lt(e,t,r,i),t.child)}function Tv(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!_m(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Y6(e,t,s,r,i)):(e=Rc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Nl,n(o,r)&&e.ref===t.ref)return Er(e,t,i)}return t.flags|=1,e=ni(s,r),e.ref=t.ref,e.return=t,t.child=e}function Y6(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Nl(s,r)&&e.ref===t.ref)if(bt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,Er(e,t,i)}return K0(e,t,n,r,i)}function q6(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Ys,Ot),Ot|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(Ys,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,we(Ys,Ot),Ot|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,we(Ys,Ot),Ot|=r;return lt(e,t,i,n),t.child}function Q6(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function K0(e,t,n,r,i){var s=_t(n)?Xi:st.current;return s=na(t,s),Uo(t,i),n=fm(e,t,n,r,s,i),r=dm(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Er(e,t,i)):(Ce&&r&&Z1(t),t.flags|=1,lt(e,t,n,i),t.child)}function kv(e,t,n,r,i){if(_t(n)){var s=!0;nf(t)}else s=!1;if(Uo(t,i),t.stateNode===null)Nc(e,t),W6(t,n,r),V0(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=an(u):(u=_t(n)?Xi:st.current,u=na(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ev(t,o,r,u),Lr=!1;var d=t.memoizedState;o.state=d,lf(t,r,o,i),l=t.memoizedState,a!==r||d!==l||wt.current||Lr?(typeof c=="function"&&(U0(t,n,c,r),l=t.memoizedState),(a=Lr||Sv(t,n,a,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,O6(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:gn(t.type,a),o.props=u,f=t.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=an(l):(l=_t(n)?Xi:st.current,l=na(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&Ev(t,o,r,l),Lr=!1,d=t.memoizedState,o.state=d,lf(t,r,o,i);var v=t.memoizedState;a!==f||d!==v||wt.current||Lr?(typeof h=="function"&&(U0(t,n,h,r),v=t.memoizedState),(u=Lr||Sv(t,n,u,r,d,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return W0(e,t,n,r,s,i)}function W0(e,t,n,r,i,s){Q6(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&mv(t,n,!1),Er(e,t,s);r=t.stateNode,W_.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ia(t,e.child,null,s),t.child=ia(t,null,a,s)):lt(e,t,a,s),t.memoizedState=r.state,i&&mv(t,n,!0),t.child}function J6(e){var t=e.stateNode;t.pendingContext?pv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pv(e,t.context,!1),am(e,t.containerInfo)}function Nv(e,t,n,r,i){return ra(),tm(i),t.flags|=256,lt(e,t,n,r),t.child}var G0={dehydrated:null,treeContext:null,retryLane:0};function X0(e){return{baseLanes:e,cachePool:null,transitions:null}}function Z6(e,t,n){var r=t.pendingProps,i=Te.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),we(Te,i&1),e===null)return B0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dd(o,r,0,null),e=Ui(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=X0(n),t.memoizedState=G0,e):mm(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return G_(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ni(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ni(a,s):(s=Ui(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?X0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=G0,r}return s=e.child,e=s.sibling,r=ni(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function mm(e,t){return t=dd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ic(e,t,n,r){return r!==null&&tm(r),ia(t,e.child,null,n),e=mm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function G_(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Eh(Error(k(422))),ic(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=dd({mode:"visible",children:r.children},i,0,null),s=Ui(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ia(t,e.child,null,o),t.child.memoizedState=X0(o),t.memoizedState=G0,s);if(!(t.mode&1))return ic(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(k(419)),r=Eh(s,r,void 0),ic(e,t,o,r)}if(a=(o&e.childLanes)!==0,bt||a){if(r=We,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Sr(e,i),_n(r,e,i,-1))}return wm(),r=Eh(Error(k(421))),ic(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=o7.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Nt=Jr(i.nextSibling),Mt=t,Ce=!0,yn=null,e!==null&&(Kt[Wt++]=pr,Kt[Wt++]=mr,Kt[Wt++]=Yi,pr=e.id,mr=e.overflow,Yi=t),t=mm(t,r.children),t.flags|=4096,t)}function $v(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),F0(e.return,t,n)}function Oh(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function e4(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(lt(e,t,r.children,n),r=Te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$v(e,n,t);else if(e.tag===19)$v(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(we(Te,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&uf(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Oh(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&uf(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Oh(t,!0,n,null,s);break;case"together":Oh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Nc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Er(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=ni(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ni(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function X_(e,t,n){switch(t.tag){case 3:J6(t),ra();break;case 5:A6(t);break;case 1:_t(t.type)&&nf(t);break;case 4:am(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;we(of,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(we(Te,Te.current&1),t.flags|=128,null):n&t.child.childLanes?Z6(e,t,n):(we(Te,Te.current&1),e=Er(e,t,n),e!==null?e.sibling:null);we(Te,Te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return e4(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(Te,Te.current),r)break;return null;case 22:case 23:return t.lanes=0,q6(e,t,n)}return Er(e,t,n)}var t4,Y0,n4,r4;t4=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Y0=function(){};n4=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ni(qn.current);var s=null;switch(n){case"input":i=v0(e,i),r=v0(e,r),s=[];break;case"select":i=Me({},i,{value:void 0}),r=Me({},r,{value:void 0}),s=[];break;case"textarea":i=b0(e,i),r=b0(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ef)}_0(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(El.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(El.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ee("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};r4=function(e,t,n,r){n!==r&&(t.flags|=4)};function Va(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Y_(e,t,n){var r=t.pendingProps;switch(em(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return _t(t.type)&&tf(),tt(t),null;case 3:return r=t.stateNode,sa(),Ae(wt),Ae(st),um(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(nc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yn!==null&&(rp(yn),yn=null))),Y0(e,t),tt(t),null;case 5:lm(t);var i=Ni(Il.current);if(n=t.type,e!==null&&t.stateNode!=null)n4(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(k(166));return tt(t),null}if(e=Ni(qn.current),nc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Hn]=t,r[Rl]=s,e=(t.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(i=0;i<el.length;i++)Ee(el[i],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Fg(r,s),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ee("invalid",r);break;case"textarea":Vg(r,s),Ee("invalid",r)}_0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&tc(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&tc(r.textContent,a,e),i=["children",""+a]):El.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ee("scroll",r)}switch(n){case"input":Gu(r),Ug(r,s,!0);break;case"textarea":Gu(r),Hg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ef)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=N3(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Hn]=t,e[Rl]=r,t4(e,t,!1,!1),t.stateNode=e;e:{switch(o=S0(n,r),n){case"dialog":Ee("cancel",e),Ee("close",e),i=r;break;case"iframe":case"object":case"embed":Ee("load",e),i=r;break;case"video":case"audio":for(i=0;i<el.length;i++)Ee(el[i],e);i=r;break;case"source":Ee("error",e),i=r;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),i=r;break;case"details":Ee("toggle",e),i=r;break;case"input":Fg(e,r),i=v0(e,r),Ee("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Me({},r,{value:void 0}),Ee("invalid",e);break;case"textarea":Vg(e,r),i=b0(e,r),Ee("invalid",e);break;default:i=r}_0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?R3(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$3(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ol(e,l):typeof l=="number"&&Ol(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(El.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ee("scroll",e):l!=null&&z1(e,s,l,o))}switch(n){case"input":Gu(e),Ug(e,r,!1);break;case"textarea":Gu(e),Hg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ii(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Do(e,!!r.multiple,s,!1):r.defaultValue!=null&&Do(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ef)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)r4(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(k(166));if(n=Ni(Il.current),Ni(qn.current),nc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Hn]=t,(s=r.nodeValue!==n)&&(e=Mt,e!==null))switch(e.tag){case 3:tc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&tc(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hn]=t,t.stateNode=r}return tt(t),null;case 13:if(Ae(Te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&Nt!==null&&t.mode&1&&!(t.flags&128))w6(),ra(),t.flags|=98560,s=!1;else if(s=nc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(k(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(k(317));s[Hn]=t}else ra(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),s=!1}else yn!==null&&(rp(yn),yn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?He===0&&(He=3):wm())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return sa(),Y0(e,t),e===null&&$l(t.stateNode.containerInfo),tt(t),null;case 10:return im(t.type._context),tt(t),null;case 17:return _t(t.type)&&tf(),tt(t),null;case 19:if(Ae(Te),s=t.memoizedState,s===null)return tt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Va(s,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=uf(e),o!==null){for(t.flags|=128,Va(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return we(Te,Te.current&1|2),t.child}e=e.sibling}s.tail!==null&&Le()>aa&&(t.flags|=128,r=!0,Va(s,!1),t.lanes=4194304)}else{if(!r)if(e=uf(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Va(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ce)return tt(t),null}else 2*Le()-s.renderingStartTime>aa&&n!==1073741824&&(t.flags|=128,r=!0,Va(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Le(),t.sibling=null,n=Te.current,we(Te,r?n&1|2:n&1),t):(tt(t),null);case 22:case 23:return bm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ot&1073741824&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(k(156,t.tag))}function q_(e,t){switch(em(t),t.tag){case 1:return _t(t.type)&&tf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sa(),Ae(wt),Ae(st),um(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lm(t),null;case 13:if(Ae(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));ra()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(Te),null;case 4:return sa(),null;case 10:return im(t.type._context),null;case 22:case 23:return bm(),null;case 24:return null;default:return null}}var sc=!1,it=!1,Q_=typeof WeakSet=="function"?WeakSet:Set,D=null;function Xs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(e,t,r)}else n.current=null}function q0(e,t,n){try{n()}catch(r){Ie(e,t,r)}}var Mv=!1;function J_(e,t){if(M0=Qc,e=l6(),J1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(R0={focusedElem:e,selectionRange:n},Qc=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,b=v.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:gn(t.type,x),b);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(_){Ie(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return v=Mv,Mv=!1,v}function fl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&q0(t,n,s)}i=i.next}while(i!==r)}}function cd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Q0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function i4(e){var t=e.alternate;t!==null&&(e.alternate=null,i4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hn],delete t[Rl],delete t[L0],delete t[R_],delete t[j_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function s4(e){return e.tag===5||e.tag===3||e.tag===4}function Rv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||s4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function J0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ef));else if(r!==4&&(e=e.child,e!==null))for(J0(e,t,n),e=e.sibling;e!==null;)J0(e,t,n),e=e.sibling}function Z0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Z0(e,t,n),e=e.sibling;e!==null;)Z0(e,t,n),e=e.sibling}var Xe=null,vn=!1;function Mr(e,t,n){for(n=n.child;n!==null;)o4(e,t,n),n=n.sibling}function o4(e,t,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(nd,n)}catch{}switch(n.tag){case 5:it||Xs(n,t);case 6:var r=Xe,i=vn;Xe=null,Mr(e,t,n),Xe=r,vn=i,Xe!==null&&(vn?(e=Xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(vn?(e=Xe,n=n.stateNode,e.nodeType===8?yh(e.parentNode,n):e.nodeType===1&&yh(e,n),Tl(e)):yh(Xe,n.stateNode));break;case 4:r=Xe,i=vn,Xe=n.stateNode.containerInfo,vn=!0,Mr(e,t,n),Xe=r,vn=i;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&q0(n,t,o),i=i.next}while(i!==r)}Mr(e,t,n);break;case 1:if(!it&&(Xs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ie(n,t,a)}Mr(e,t,n);break;case 21:Mr(e,t,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,Mr(e,t,n),it=r):Mr(e,t,n);break;default:Mr(e,t,n)}}function jv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Q_),t.forEach(function(r){var i=a7.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,vn=!1;break e;case 3:Xe=a.stateNode.containerInfo,vn=!0;break e;case 4:Xe=a.stateNode.containerInfo,vn=!0;break e}a=a.return}if(Xe===null)throw Error(k(160));o4(s,o,i),Xe=null,vn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ie(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)a4(t,e),t=t.sibling}function a4(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pn(t,e),zn(e),r&4){try{fl(3,e,e.return),cd(3,e)}catch(x){Ie(e,e.return,x)}try{fl(5,e,e.return)}catch(x){Ie(e,e.return,x)}}break;case 1:pn(t,e),zn(e),r&512&&n!==null&&Xs(n,n.return);break;case 5:if(pn(t,e),zn(e),r&512&&n!==null&&Xs(n,n.return),e.flags&32){var i=e.stateNode;try{Ol(i,"")}catch(x){Ie(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&T3(i,s),S0(a,o);var u=S0(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?R3(i,f):c==="dangerouslySetInnerHTML"?$3(i,f):c==="children"?Ol(i,f):z1(i,c,f,u)}switch(a){case"input":y0(i,s);break;case"textarea":k3(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Do(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?Do(i,!!s.multiple,s.defaultValue,!0):Do(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rl]=s}catch(x){Ie(e,e.return,x)}}break;case 6:if(pn(t,e),zn(e),r&4){if(e.stateNode===null)throw Error(k(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){Ie(e,e.return,x)}}break;case 3:if(pn(t,e),zn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tl(t.containerInfo)}catch(x){Ie(e,e.return,x)}break;case 4:pn(t,e),zn(e);break;case 13:pn(t,e),zn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ym=Le())),r&4&&jv(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(it=(u=it)||c,pn(t,e),it=u):pn(t,e),zn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(D=e,c=e.child;c!==null;){for(f=D=c;D!==null;){switch(d=D,h=d.child,d.tag){case 0:case 11:case 14:case 15:fl(4,d,d.return);break;case 1:Xs(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){Ie(r,n,x)}}break;case 5:Xs(d,d.return);break;case 22:if(d.memoizedState!==null){Lv(f);continue}}h!==null?(h.return=d,D=h):Lv(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=M3("display",o))}catch(x){Ie(e,e.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Ie(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pn(t,e),zn(e),r&4&&jv(e);break;case 21:break;default:pn(t,e),zn(e)}}function zn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(s4(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ol(i,""),r.flags&=-33);var s=Rv(e);Z0(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Rv(e);J0(e,a,o);break;default:throw Error(k(161))}}catch(l){Ie(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Z_(e,t,n){D=e,l4(e)}function l4(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var i=D,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||sc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||it;a=sc;var u=it;if(sc=o,(it=l)&&!u)for(D=i;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?Dv(i):l!==null?(l.return=o,D=l):Dv(i);for(;s!==null;)D=s,l4(s),s=s.sibling;D=i,sc=a,it=u}Iv(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,D=s):Iv(e)}}function Iv(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||cd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!it)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&bv(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bv(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Tl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}it||t.flags&512&&Q0(t)}catch(d){Ie(t,t.return,d)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function Lv(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function Dv(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cd(4,t)}catch(l){Ie(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ie(t,i,l)}}var s=t.return;try{Q0(t)}catch(l){Ie(t,s,l)}break;case 5:var o=t.return;try{Q0(t)}catch(l){Ie(t,o,l)}}}catch(l){Ie(t,t.return,l)}if(t===e){D=null;break}var a=t.sibling;if(a!==null){a.return=t.return,D=a;break}D=t.return}}var e7=Math.ceil,df=Cr.ReactCurrentDispatcher,gm=Cr.ReactCurrentOwner,on=Cr.ReactCurrentBatchConfig,oe=0,We=null,Fe=null,Qe=0,Ot=0,Ys=hi(0),He=0,Bl=null,Qi=0,fd=0,vm=0,dl=null,yt=null,ym=0,aa=1/0,or=null,hf=!1,ep=null,ei=null,oc=!1,Hr=null,pf=0,hl=0,tp=null,$c=-1,Mc=0;function ft(){return oe&6?Le():$c!==-1?$c:$c=Le()}function ti(e){return e.mode&1?oe&2&&Qe!==0?Qe&-Qe:L_.transition!==null?(Mc===0&&(Mc=W3()),Mc):(e=pe,e!==0||(e=window.event,e=e===void 0?16:Z3(e.type)),e):1}function _n(e,t,n,r){if(50<hl)throw hl=0,tp=null,Error(k(185));gu(e,n,r),(!(oe&2)||e!==We)&&(e===We&&(!(oe&2)&&(fd|=n),He===4&&zr(e,Qe)),St(e,r),n===1&&oe===0&&!(t.mode&1)&&(aa=Le()+500,ad&&pi()))}function St(e,t){var n=e.callbackNode;Lw(e,t);var r=qc(e,e===We?Qe:0);if(r===0)n!==null&&Gg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Gg(n),t===1)e.tag===0?I_(zv.bind(null,e)):y6(zv.bind(null,e)),$_(function(){!(oe&6)&&pi()}),n=null;else{switch(G3(r)){case 1:n=H1;break;case 4:n=H3;break;case 16:n=Yc;break;case 536870912:n=K3;break;default:n=Yc}n=g4(n,u4.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function u4(e,t){if($c=-1,Mc=0,oe&6)throw Error(k(327));var n=e.callbackNode;if(Vo()&&e.callbackNode!==n)return null;var r=qc(e,e===We?Qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=mf(e,r);else{t=r;var i=oe;oe|=2;var s=f4();(We!==e||Qe!==t)&&(or=null,aa=Le()+500,Fi(e,t));do try{r7();break}catch(a){c4(e,a)}while(!0);rm(),df.current=s,oe=i,Fe!==null?t=0:(We=null,Qe=0,t=He)}if(t!==0){if(t===2&&(i=C0(e),i!==0&&(r=i,t=np(e,i))),t===1)throw n=Bl,Fi(e,0),zr(e,r),St(e,Le()),n;if(t===6)zr(e,r);else{if(i=e.current.alternate,!(r&30)&&!t7(i)&&(t=mf(e,r),t===2&&(s=C0(e),s!==0&&(r=s,t=np(e,s))),t===1))throw n=Bl,Fi(e,0),zr(e,r),St(e,Le()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(k(345));case 2:Ei(e,yt,or);break;case 3:if(zr(e,r),(r&130023424)===r&&(t=ym+500-Le(),10<t)){if(qc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ft(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=I0(Ei.bind(null,e,yt,or),t);break}Ei(e,yt,or);break;case 4:if(zr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-wn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*e7(r/1960))-r,10<r){e.timeoutHandle=I0(Ei.bind(null,e,yt,or),r);break}Ei(e,yt,or);break;case 5:Ei(e,yt,or);break;default:throw Error(k(329))}}}return St(e,Le()),e.callbackNode===n?u4.bind(null,e):null}function np(e,t){var n=dl;return e.current.memoizedState.isDehydrated&&(Fi(e,t).flags|=256),e=mf(e,t),e!==2&&(t=yt,yt=n,t!==null&&rp(t)),e}function rp(e){yt===null?yt=e:yt.push.apply(yt,e)}function t7(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Tn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zr(e,t){for(t&=~vm,t&=~fd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wn(t),r=1<<n;e[n]=-1,t&=~r}}function zv(e){if(oe&6)throw Error(k(327));Vo();var t=qc(e,0);if(!(t&1))return St(e,Le()),null;var n=mf(e,t);if(e.tag!==0&&n===2){var r=C0(e);r!==0&&(t=r,n=np(e,r))}if(n===1)throw n=Bl,Fi(e,0),zr(e,t),St(e,Le()),n;if(n===6)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ei(e,yt,or),St(e,Le()),null}function xm(e,t){var n=oe;oe|=1;try{return e(t)}finally{oe=n,oe===0&&(aa=Le()+500,ad&&pi())}}function Ji(e){Hr!==null&&Hr.tag===0&&!(oe&6)&&Vo();var t=oe;oe|=1;var n=on.transition,r=pe;try{if(on.transition=null,pe=1,e)return e()}finally{pe=r,on.transition=n,oe=t,!(oe&6)&&pi()}}function bm(){Ot=Ys.current,Ae(Ys)}function Fi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,N_(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(em(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tf();break;case 3:sa(),Ae(wt),Ae(st),um();break;case 5:lm(r);break;case 4:sa();break;case 13:Ae(Te);break;case 19:Ae(Te);break;case 10:im(r.type._context);break;case 22:case 23:bm()}n=n.return}if(We=e,Fe=e=ni(e.current,null),Qe=Ot=t,He=0,Bl=null,vm=fd=Qi=0,yt=dl=null,ki!==null){for(t=0;t<ki.length;t++)if(n=ki[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ki=null}return e}function c4(e,t){do{var n=Fe;try{if(rm(),Tc.current=ff,cf){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cf=!1}if(qi=0,Ke=Ve=$e=null,cl=!1,Ll=0,gm.current=null,n===null||n.return===null){He=1,Bl=t,Fe=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Qe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Av(o);if(h!==null){h.flags&=-257,Pv(h,o,a,s,t),h.mode&1&&Ov(s,u,t),t=h,l=u;var v=t.updateQueue;if(v===null){var x=new Set;x.add(l),t.updateQueue=x}else v.add(l);break e}else{if(!(t&1)){Ov(s,u,t),wm();break e}l=Error(k(426))}}else if(Ce&&a.mode&1){var b=Av(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Pv(b,o,a,s,t),tm(oa(l,a));break e}}s=l=oa(l,a),He!==4&&(He=2),dl===null?dl=[s]:dl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=G6(s,l,t);xv(s,m);break e;case 1:a=l;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ei===null||!ei.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=X6(s,a,t);xv(s,_);break e}}s=s.return}while(s!==null)}h4(n)}catch(E){t=E,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function f4(){var e=df.current;return df.current=ff,e===null?ff:e}function wm(){(He===0||He===3||He===2)&&(He=4),We===null||!(Qi&268435455)&&!(fd&268435455)||zr(We,Qe)}function mf(e,t){var n=oe;oe|=2;var r=f4();(We!==e||Qe!==t)&&(or=null,Fi(e,t));do try{n7();break}catch(i){c4(e,i)}while(!0);if(rm(),oe=n,df.current=r,Fe!==null)throw Error(k(261));return We=null,Qe=0,He}function n7(){for(;Fe!==null;)d4(Fe)}function r7(){for(;Fe!==null&&!Cw();)d4(Fe)}function d4(e){var t=m4(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?h4(e):Fe=t,gm.current=null}function h4(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=q_(n,t),n!==null){n.flags&=32767,Fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Fe=null;return}}else if(n=Y_(n,t,Ot),n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);He===0&&(He=5)}function Ei(e,t,n){var r=pe,i=on.transition;try{on.transition=null,pe=1,i7(e,t,n,r)}finally{on.transition=i,pe=r}return null}function i7(e,t,n,r){do Vo();while(Hr!==null);if(oe&6)throw Error(k(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Dw(e,s),e===We&&(Fe=We=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oc||(oc=!0,g4(Yc,function(){return Vo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=on.transition,on.transition=null;var o=pe;pe=1;var a=oe;oe|=4,gm.current=null,J_(e,n),a4(n,e),E_(R0),Qc=!!M0,R0=M0=null,e.current=n,Z_(n),Tw(),oe=a,pe=o,on.transition=s}else e.current=n;if(oc&&(oc=!1,Hr=e,pf=i),s=e.pendingLanes,s===0&&(ei=null),$w(n.stateNode),St(e,Le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hf)throw hf=!1,e=ep,ep=null,e;return pf&1&&e.tag!==0&&Vo(),s=e.pendingLanes,s&1?e===tp?hl++:(hl=0,tp=e):hl=0,pi(),null}function Vo(){if(Hr!==null){var e=G3(pf),t=on.transition,n=pe;try{if(on.transition=null,pe=16>e?16:e,Hr===null)var r=!1;else{if(e=Hr,Hr=null,pf=0,oe&6)throw Error(k(331));var i=oe;for(oe|=4,D=e.current;D!==null;){var s=D,o=s.child;if(D.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(D=u;D!==null;){var c=D;switch(c.tag){case 0:case 11:case 15:fl(8,c,s)}var f=c.child;if(f!==null)f.return=c,D=f;else for(;D!==null;){c=D;var d=c.sibling,h=c.return;if(i4(c),c===u){D=null;break}if(d!==null){d.return=h,D=d;break}D=h}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}D=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,D=o;else e:for(;D!==null;){if(s=D,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fl(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,D=m;break e}D=s.return}}var p=e.current;for(D=p;D!==null;){o=D;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,D=y;else e:for(o=p;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cd(9,a)}}catch(E){Ie(a,a.return,E)}if(a===o){D=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,D=_;break e}D=a.return}}if(oe=i,pi(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(nd,e)}catch{}r=!0}return r}finally{pe=n,on.transition=t}}return!1}function Bv(e,t,n){t=oa(n,t),t=G6(e,t,1),e=Zr(e,t,1),t=ft(),e!==null&&(gu(e,1,t),St(e,t))}function Ie(e,t,n){if(e.tag===3)Bv(e,e,n);else for(;t!==null;){if(t.tag===3){Bv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){e=oa(n,e),e=X6(t,e,1),t=Zr(t,e,1),e=ft(),t!==null&&(gu(t,1,e),St(t,e));break}}t=t.return}}function s7(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(Qe&n)===n&&(He===4||He===3&&(Qe&130023424)===Qe&&500>Le()-ym?Fi(e,0):vm|=n),St(e,t)}function p4(e,t){t===0&&(e.mode&1?(t=qu,qu<<=1,!(qu&130023424)&&(qu=4194304)):t=1);var n=ft();e=Sr(e,t),e!==null&&(gu(e,t,n),St(e,n))}function o7(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),p4(e,n)}function a7(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(t),p4(e,n)}var m4;m4=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)bt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return bt=!1,X_(e,t,n);bt=!!(e.flags&131072)}else bt=!1,Ce&&t.flags&1048576&&x6(t,sf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Nc(e,t),e=t.pendingProps;var i=na(t,st.current);Uo(t,n),i=fm(null,t,r,e,i,n);var s=dm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(r)?(s=!0,nf(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,om(t),i.updater=ud,t.stateNode=i,i._reactInternals=t,V0(t,r,e,n),t=W0(null,t,r,!0,s,n)):(t.tag=0,Ce&&s&&Z1(t),lt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Nc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=u7(r),e=gn(r,e),i){case 0:t=K0(null,t,r,e,n);break e;case 1:t=kv(null,t,r,e,n);break e;case 11:t=Cv(null,t,r,e,n);break e;case 14:t=Tv(null,t,r,gn(r.type,e),n);break e}throw Error(k(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),K0(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),kv(e,t,r,i,n);case 3:e:{if(J6(t),e===null)throw Error(k(387));r=t.pendingProps,s=t.memoizedState,i=s.element,O6(e,t),lf(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=oa(Error(k(423)),t),t=Nv(e,t,r,n,i);break e}else if(r!==i){i=oa(Error(k(424)),t),t=Nv(e,t,r,n,i);break e}else for(Nt=Jr(t.stateNode.containerInfo.firstChild),Mt=t,Ce=!0,yn=null,n=S6(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ra(),r===i){t=Er(e,t,n);break e}lt(e,t,r,n)}t=t.child}return t;case 5:return A6(t),e===null&&B0(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,j0(r,i)?o=null:s!==null&&j0(r,s)&&(t.flags|=32),Q6(e,t),lt(e,t,o,n),t.child;case 6:return e===null&&B0(t),null;case 13:return Z6(e,t,n);case 4:return am(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ia(t,null,r,n):lt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),Cv(e,t,r,i,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,we(of,r._currentValue),r._currentValue=o,s!==null)if(Tn(s.value,o)){if(s.children===i.children&&!wt.current){t=Er(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=vr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),F0(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(k(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),F0(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}lt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Uo(t,n),i=an(i),r=r(i),t.flags|=1,lt(e,t,r,n),t.child;case 14:return r=t.type,i=gn(r,t.pendingProps),i=gn(r.type,i),Tv(e,t,r,i,n);case 15:return Y6(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),Nc(e,t),t.tag=1,_t(r)?(e=!0,nf(t)):e=!1,Uo(t,n),W6(t,r,i),V0(t,r,i,n),W0(null,t,r,!0,e,n);case 19:return e4(e,t,n);case 22:return q6(e,t,n)}throw Error(k(156,t.tag))};function g4(e,t){return V3(e,t)}function l7(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,n,r){return new l7(e,t,n,r)}function _m(e){return e=e.prototype,!(!e||!e.isReactComponent)}function u7(e){if(typeof e=="function")return _m(e)?1:0;if(e!=null){if(e=e.$$typeof,e===F1)return 11;if(e===U1)return 14}return 2}function ni(e,t){var n=e.alternate;return n===null?(n=Zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")_m(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case zs:return Ui(n.children,i,s,t);case B1:o=8,i|=8;break;case h0:return e=Zt(12,n,t,i|2),e.elementType=h0,e.lanes=s,e;case p0:return e=Zt(13,n,t,i),e.elementType=p0,e.lanes=s,e;case m0:return e=Zt(19,n,t,i),e.elementType=m0,e.lanes=s,e;case A3:return dd(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E3:o=10;break e;case O3:o=9;break e;case F1:o=11;break e;case U1:o=14;break e;case Ir:o=16,r=null;break e}throw Error(k(130,e==null?e:typeof e,""))}return t=Zt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ui(e,t,n,r){return e=Zt(7,e,r,t),e.lanes=n,e}function dd(e,t,n,r){return e=Zt(22,e,r,t),e.elementType=A3,e.lanes=n,e.stateNode={isHidden:!1},e}function Ah(e,t,n){return e=Zt(6,e,null,t),e.lanes=n,e}function Ph(e,t,n){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function c7(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ah(0),this.expirationTimes=ah(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ah(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sm(e,t,n,r,i,s,o,a,l){return e=new c7(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Zt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},om(s),e}function f7(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function v4(e){if(!e)return si;e=e._reactInternals;e:{if(fs(e)!==e||e.tag!==1)throw Error(k(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(k(171))}if(e.tag===1){var n=e.type;if(_t(n))return v6(e,n,t)}return t}function y4(e,t,n,r,i,s,o,a,l){return e=Sm(n,r,!0,e,i,s,o,a,l),e.context=v4(null),n=e.current,r=ft(),i=ti(n),s=vr(r,i),s.callback=t??null,Zr(n,s,i),e.current.lanes=i,gu(e,i,r),St(e,r),e}function hd(e,t,n,r){var i=t.current,s=ft(),o=ti(i);return n=v4(n),t.context===null?t.context=n:t.pendingContext=n,t=vr(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zr(i,t,o),e!==null&&(_n(e,i,o,s),Cc(e,i,o)),o}function gf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Em(e,t){Fv(e,t),(e=e.alternate)&&Fv(e,t)}function d7(){return null}var x4=typeof reportError=="function"?reportError:function(e){console.error(e)};function Om(e){this._internalRoot=e}pd.prototype.render=Om.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));hd(e,t,null,null)};pd.prototype.unmount=Om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ji(function(){hd(null,e,null,null)}),t[_r]=null}};function pd(e){this._internalRoot=e}pd.prototype.unstable_scheduleHydration=function(e){if(e){var t=q3();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dr.length&&t!==0&&t<Dr[n].priority;n++);Dr.splice(n,0,e),n===0&&J3(e)}};function Am(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function md(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uv(){}function h7(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=gf(o);s.call(u)}}var o=y4(t,r,e,0,null,!1,!1,"",Uv);return e._reactRootContainer=o,e[_r]=o.current,$l(e.nodeType===8?e.parentNode:e),Ji(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=gf(l);a.call(u)}}var l=Sm(e,0,!1,null,null,!1,!1,"",Uv);return e._reactRootContainer=l,e[_r]=l.current,$l(e.nodeType===8?e.parentNode:e),Ji(function(){hd(t,l,n,r)}),l}function gd(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=gf(o);a.call(l)}}hd(t,o,e,i)}else o=h7(n,t,e,i,r);return gf(o)}X3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Za(t.pendingLanes);n!==0&&(K1(t,n|1),St(t,Le()),!(oe&6)&&(aa=Le()+500,pi()))}break;case 13:Ji(function(){var r=Sr(e,1);if(r!==null){var i=ft();_n(r,e,1,i)}}),Em(e,1)}};W1=function(e){if(e.tag===13){var t=Sr(e,134217728);if(t!==null){var n=ft();_n(t,e,134217728,n)}Em(e,134217728)}};Y3=function(e){if(e.tag===13){var t=ti(e),n=Sr(e,t);if(n!==null){var r=ft();_n(n,e,t,r)}Em(e,t)}};q3=function(){return pe};Q3=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};O0=function(e,t,n){switch(t){case"input":if(y0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=od(r);if(!i)throw Error(k(90));C3(r),y0(r,i)}}}break;case"textarea":k3(e,n);break;case"select":t=n.value,t!=null&&Do(e,!!n.multiple,t,!1)}};L3=xm;D3=Ji;var p7={usingClientEntryPoint:!1,Events:[yu,Vs,od,j3,I3,xm]},Ha={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m7={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=F3(e),e===null?null:e.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance||d7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{nd=ac.inject(m7),Yn=ac}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p7;Lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Am(t))throw Error(k(200));return f7(e,t,null,n)};Lt.createRoot=function(e,t){if(!Am(e))throw Error(k(299));var n=!1,r="",i=x4;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Sm(e,1,!1,null,null,n,!1,r,i),e[_r]=t.current,$l(e.nodeType===8?e.parentNode:e),new Om(t)};Lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=F3(t),e=e===null?null:e.stateNode,e};Lt.flushSync=function(e){return Ji(e)};Lt.hydrate=function(e,t,n){if(!md(t))throw Error(k(200));return gd(null,e,t,!0,n)};Lt.hydrateRoot=function(e,t,n){if(!Am(e))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=x4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=y4(t,null,e,1,n??null,i,!1,s,o),e[_r]=t.current,$l(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new pd(t)};Lt.render=function(e,t,n){if(!md(t))throw Error(k(200));return gd(null,e,t,!1,n)};Lt.unmountComponentAtNode=function(e){if(!md(e))throw Error(k(40));return e._reactRootContainer?(Ji(function(){gd(null,null,e,!1,function(){e._reactRootContainer=null,e[_r]=null})}),!0):!1};Lt.unstable_batchedUpdates=xm;Lt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!md(n))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return gd(e,t,n,!1,r)};Lt.version="18.3.1-next-f1338f8080-20240426";function b4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b4)}catch(e){console.error(e)}}b4(),b3.exports=Lt;var Pm=b3.exports,w4,Vv=Pm;w4=Vv.createRoot,Vv.hydrateRoot;function g7(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,s,o=[],a="",l=e.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var _4={exports:{}},S4={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var la=A;function v7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var y7=typeof Object.is=="function"?Object.is:v7,x7=la.useState,b7=la.useEffect,w7=la.useLayoutEffect,_7=la.useDebugValue;function S7(e,t){var n=t(),r=x7({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return w7(function(){i.value=n,i.getSnapshot=t,Ch(i)&&s({inst:i})},[e,n,t]),b7(function(){return Ch(i)&&s({inst:i}),e(function(){Ch(i)&&s({inst:i})})},[e]),_7(n),n}function Ch(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!y7(e,n)}catch{return!0}}function E7(e,t){return t()}var O7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?E7:S7;S4.useSyncExternalStore=la.useSyncExternalStore!==void 0?la.useSyncExternalStore:O7;_4.exports=S4;var E4=_4.exports;const A7=td.useInsertionEffect,P7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C7=P7?A.useLayoutEffect:A.useEffect,T7=A7||C7,O4=e=>{const t=A.useRef([e,(...n)=>t[0](...n)]).current;return T7(()=>{t[0]=e}),t[1]},k7="popstate",Cm="pushState",Tm="replaceState",N7="hashchange",Hv=[k7,Cm,Tm,N7],$7=e=>{for(const t of Hv)addEventListener(t,e);return()=>{for(const t of Hv)removeEventListener(t,e)}},A4=(e,t)=>E4.useSyncExternalStore($7,e,t),M7=()=>location.search,R7=({ssrSearch:e=""}={})=>A4(M7,()=>e),Kv=()=>location.pathname,j7=({ssrPath:e}={})=>A4(Kv,e?()=>e:Kv),I7=(e,{replace:t=!1,state:n=null}={})=>history[t?Tm:Cm](n,"",e),L7=(e={})=>[j7(e),I7],Wv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Wv]>"u"){for(const e of[Cm,Tm]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Wv,{value:!0})}const D7=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",P4=(e="")=>e==="/"?"":e,z7=(e,t)=>e[0]==="~"?e.slice(1):P4(t)+e,B7=(e="",t)=>D7(Gv(P4(e)),Gv(t)),Gv=e=>{try{return decodeURI(e)}catch{return e}},C4={hook:L7,searchHook:R7,parser:g7,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},T4=A.createContext(C4),vd=()=>A.useContext(T4),k4={},N4=A.createContext(k4),F7=()=>A.useContext(N4),km=e=>{const[t,n]=e.hook(e);return[B7(e.base,t),O4((r,i)=>n(z7(r,e.base),i))]},$4=()=>km(vd()),U7=(e,t,n,r)=>{const{pattern:i,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=i.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((f,d)=>[f,l[d]])):o.groups;let c={...l};return u&&Object.assign(c,u),c})(),...r?[a]:[]]:[!1,null]},M4=({children:e,...t})=>{var c,f;const n=vd(),r=t.hook?C4:n;let i=r;const[s,o]=((c=t.ssrPath)==null?void 0:c.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=s),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let a=A.useRef({}),l=a.current,u=l;for(let d in r){const h=d==="base"?r[d]+(t[d]||""):t[d]||r[d];l===u&&h!==u[d]&&(a.current=u={...u}),u[d]=h,h!==r[d]&&(i=u)}return A.createElement(T4.Provider,{value:i,children:e})},Xv=({children:e,component:t},n)=>t?A.createElement(t,{params:n}):typeof e=="function"?e(n):e,V7=e=>{let t=A.useRef(k4),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Yv=({path:e,nest:t,match:n,...r})=>{const i=vd(),[s]=km(i),[o,a,l]=n??U7(i.parser,e,s,t),u=V7({...F7(),...a});if(!o)return null;const c=l?A.createElement(M4,{base:l},Xv(r,u)):Xv(r,u);return A.createElement(N4.Provider,{value:u,children:c})};A.forwardRef((e,t)=>{const n=vd(),[r,i]=km(n),{to:s="",href:o=s,onClick:a,asChild:l,children:u,className:c,replace:f,state:d,...h}=e,v=O4(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(a==null||a(b),b.defaultPrevented||(b.preventDefault(),i(o,e)))}),x=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&A.isValidElement(u)?A.cloneElement(u,{onClick:v,href:x}):A.createElement("a",{...h,onClick:v,href:x,className:c!=null&&c.call?c(r===o):c,children:u,ref:t})});const R4=4,Nm=210,$m=297,gr=12,pt={left:gr,right:gr,top:gr,bottom:gr},be=.1,$=2.5,H7=6,lc=$*3,ct=$/4,Es=2.5*ct,bu=e=>$*(.5+.3*e),j4="ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Arial, sans-serif",Vn="Times New Roman, serif",K7="#333333";let R=class Fn{constructor(t,n,r,i){this.x=t,this.y=n,this.width=r,this.height=i}static empty(){return new Fn(0,0,0,0)}static encompass(...t){return t.length==0?Fn.empty():t.reduce((n,r)=>n.encompass(r),Fn.empty())}clone(){return new Fn(this.x,this.y,this.width,this.height)}translate(t,n){return n??(n=t),new Fn(this.x+t,this.y+n,this.width,this.height)}expand(t,n){return n??(n=t),new Fn(this.x-t,this.y-n,this.width+2*t,this.height+2*n)}update(t){return new Fn(t.x??this.x,t.y??this.y,t.width??this.width,t.height??this.height)}encompass(t){const n=Math.min(this.x,t.x),r=Math.min(this.y,t.y),i=Math.max(this.right,t.right),s=Math.max(this.bottom,t.bottom);return new Fn(n,r,i-n,s-r)}contains(t){return t instanceof Fn?this.x<=t.x&&t.right<=this.right&&this.y<=t.y&&t.bottom<=this.bottom:this.x<=t.x&&t.x<=this.right&&this.y<=t.y&&t.y<=this.bottom}overlaps(t){return this.x<=t.right&&this.right>=t.x&&this.y<=t.bottom&&this.bottom>=t.y}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}get top(){return this.y}get left(){return this.x}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get centerX(){return this.x+.5*this.width}get centerY(){return this.y+.5*this.height}toString(){return`Box(${this.x}, ${this.y}, ${this.width}, ${this.height})`}};class Ze{constructor(t=R.empty()){g(this,"parent",null);g(this,"style",{});g(this,"className");g(this,"children");this.box=t}layout(){}}let jc=class extends Ze{constructor(n,r="below"){super(n);g(this,"type","Arc");this.orientation=r}},W7=class extends Ze{constructor(n,r=be){super(new R(0,0,r,(n-1)*$));g(this,"type","BarLine");this.strokeSize=r}},I4=class extends Ze{constructor(n,r){super(n);g(this,"type","Beam");g(this,"size");this.size=r??n.height}};class Mm extends Ze{constructor(){super(...arguments);g(this,"children",[])}reset(){for(const n of this.children)n.parent=null;this.children=[],this.box.width=0,this.box.height=0}}class Tr extends Mm{addElement(t){this.children.push(t),t.parent=this}layout(){let t=R.empty();for(const n of this.children)n.layout(),t=t.encompass(n.box);this.box.width=t.width,this.box.height=t.height}}class yd extends Tr{constructor(){super(...arguments);g(this,"type","Group")}}let qv=class extends Ze{constructor(n,r){super(n);g(this,"type","Path");this.path=r}},ke=class ip extends Ze{constructor(n){super(n.box??new R(0,0,n.size*n.value.length,n.size));g(this,"type","Text");g(this,"size");g(this,"lines_");g(this,"value");g(this,"setText");this.options=n,this.size=n.size,this.value=n.value,this.lines_=n.value.split(`
`),this.setText=n.setText,this.style=n.style??{}}static centered(n){return new ip({...n,style:{...n.style,textAlign:"center",verticalAlign:"middle"}})}static boundText(n,r,i){return new ip({...i,value:n[r]??"",setText:s=>{n[r]=s}})}get isReadOnly(){return!this.setText}get lines(){return this.lines_}get text(){return this.value}set text(n){var r;if(this.isReadOnly)throw new Error("can't set text on a readonly text element");this.lines_=this.value.split(`
`),this.value=n,(r=this.setText)==null||r.call(this,n)}};const Be=4*be;class G7 extends Tr{constructor(n,r){var i;super(new R(0,0,n.points.length*$,3*$));g(this,"type","Bend");g(this,"descent");this.bend=n,this.descent=((((i=r.placement)==null?void 0:i.string)||1)-.5)*$}layout(){this.children.length=0;const n=Y7(this),r=Q7(n,l=>l[1]),i=n.findLast(l=>l[1]==r),s=i?i[0]:n[0][0],o=.1*$,a=new Path2D(L4(n));this.addElement(new qv(this.box.update({x:0,y:0}),a));for(const l of X7(n))if(l){const u=new qv(this.box.update({x:0,y:0}),l);u.style.fill="#555555",u.style.stroke="none",this.addElement(u)}this.addElement(new ke({box:new R(s,o,0,0),value:q7(this.bend),size:$-o,style:{fontFamily:j4,textAlign:"center",alignmentBaseline:"hanging",color:"#333333"}}))}}const X7=e=>{let t=e[0];return e.slice(1).map((n,r)=>{const[i,s]=n,[o,a]=t;if(t=n,a>s+1e-5)return new Path2D(`
        M ${i-Be},${s+2*Be}
        L ${i+Be},${s+2*Be}
        L ${i},${s}
        M ${i-Be},${s+2*Be}
      `);if(a+1e-5<s)return new Path2D(`
        M ${i-Be},${s-2*Be}
        L ${i+Be},${s-2*Be}
        L ${i},${s}
        M ${i-Be},${s-2*Be}
      `);if(r==e.length-2)return new Path2D(`
        M ${i-2*Be},${s-Be}
        L ${i+be},${s}
        L ${i-2*Be},${s+Be}
        M ${i-Be},${s-2*Be}
      `)})},Y7=e=>{const t=.5*$,n=.8*e.box.width,r=1.25*$,i=e.box.height+e.descent-.25*$,s=e.bend.points.map(o=>[t+o.time*n,i-o.amplitude*(i-r)]);return e.bend.points[0].amplitude>0&&s.unshift([t,i]),s},L4=e=>{let[t,n]=e[0];const r=[`M ${t},${n}`];for(const i of e.slice(1)){const[s,o]=i,a=s-t,l=Math.abs(o-n),u=o+2*(n>o?Be:-Be);a==0||l==0?r.push(`L ${s},${o}`):n>o?r.push(`C ${t+.5*a},${n} ${s},${u+.7*l} ${s},${u}`):r.push(`C ${t+.5*a},${n} ${s},${u-.7*l} ${s},${u}`),r.push(`M ${s},${o}`),[t,n]=i}return r.join(" ")},q7=e=>{switch(e.amplitude){case .25:return"";case .5:return"";case .75:return"";case 1:return"full";default:return"other"}};let ua=class extends Tr{constructor(n,r){super(n);g(this,"type","Note");this.note=r,this.addElement(ke.centered({box:new R(0,0,n.width,n.height),size:n.height,value:r.toString()}))}};function Th(e,t){let n=e.parent;for(;n&&n.type!=t;)n=n.parent;return n}function bn(e,t){const n=e.box.clone();let r=e.parent;for(;r&&r.type!=t;)n.x+=r.box.x,n.y+=r.box.y,r=r.parent;return n}function Q7(e,t,n=(r,i)=>r<i){let r;for(const i of e){const s=t(i);(r===void 0||n(s,r))&&(r=s)}return r}function ca(e,t,n=(r,i)=>r<i){if(e.length==0)return;let r=t(e[0]);for(let i=1;i<e.length;++i){const s=t(e[i]);n(r,s)&&(r=s)}return r}function Qv(e,t){const n=[];let r,i=null,s=0;for(const o of e){const a=t(o,r);(a==null||a!=r)&&i!==null&&r!==void 0&&(n.push([i,s-1,r]),i=null,r=void 0),r==null&&a!=null&&(i=s,r=a),++s}return i!==null&&r!==void 0&&n.push([i,s-1,r]),n}const pl=(e,t)=>{let n=e;for(;n;){if(n.type==t)return n;n=n.parent}return n},J7=(e,t)=>{let n=t;for(;n;){if(n===e)return!0;n=n.parent}return!1};let en=class extends Ze{constructor(n,r,i=$){const s=ca(n.notes,l=>l.toString().length)||1,o=bu(s);super(new R(0,0,o,i*r));g(this,"type","Chord");g(this,"children");g(this,"notes");this.chord=n,this.numStaffLines=r,this.staffHeight=i;const a=i-2*be;this.children=[],this.notes=[];for(const l of n.notes){const u=(l.placement?(l.placement.string-1)*i:0)+be,c=new ua(new R(0,u,o,a),l);if(c.parent=this,c.style={display:(!l.tie||l.tie.type=="start")&&l.toString().length>0?"block":"none"},l.graceNote){const f=new ua(new R(-1.2*o,u+.125*a,o,.75*a),l.graceNote);f.parent=this,this.children.push(f)}this.notes.push(c),this.children.push(c)}}};var D4=typeof global=="object"&&global&&global.Object===Object&&global,Z7=typeof self=="object"&&self&&self.Object===Object&&self,ir=D4||Z7||Function("return this")(),un=ir.Symbol,z4=Object.prototype,e9=z4.hasOwnProperty,t9=z4.toString,Ka=un?un.toStringTag:void 0;function n9(e){var t=e9.call(e,Ka),n=e[Ka];try{e[Ka]=void 0;var r=!0}catch{}var i=t9.call(e);return r&&(t?e[Ka]=n:delete e[Ka]),i}var r9=Object.prototype,i9=r9.toString;function s9(e){return i9.call(e)}var o9="[object Null]",a9="[object Undefined]",Jv=un?un.toStringTag:void 0;function mi(e){return e==null?e===void 0?a9:o9:Jv&&Jv in Object(e)?n9(e):s9(e)}function kn(e){return e!=null&&typeof e=="object"}var l9="[object Symbol]";function wu(e){return typeof e=="symbol"||kn(e)&&mi(e)==l9}function xd(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var ot=Array.isArray,u9=1/0,Zv=un?un.prototype:void 0,e2=Zv?Zv.toString:void 0;function Rm(e){if(typeof e=="string")return e;if(ot(e))return xd(e,Rm)+"";if(wu(e))return e2?e2.call(e):"";var t=e+"";return t=="0"&&1/e==-u9?"-0":t}var c9=/\s/;function f9(e){for(var t=e.length;t--&&c9.test(e.charAt(t)););return t}var d9=/^\s+/;function h9(e){return e&&e.slice(0,f9(e)+1).replace(d9,"")}function It(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var t2=NaN,p9=/^[-+]0x[0-9a-f]+$/i,m9=/^0b[01]+$/i,g9=/^0o[0-7]+$/i,v9=parseInt;function ml(e){if(typeof e=="number")return e;if(wu(e))return t2;if(It(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=It(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=h9(e);var n=m9.test(e);return n||g9.test(e)?v9(e.slice(2),n?2:8):p9.test(e)?t2:+e}var n2=1/0,y9=17976931348623157e292;function Ho(e){if(!e)return e===0?e:0;if(e=ml(e),e===n2||e===-n2){var t=e<0?-1:1;return t*y9}return e===e?e:0}function x9(e){var t=Ho(e),n=t%1;return t===t?n?t-n:t:0}function jm(e){return e}var b9="[object AsyncFunction]",w9="[object Function]",_9="[object GeneratorFunction]",S9="[object Proxy]";function Im(e){if(!It(e))return!1;var t=mi(e);return t==w9||t==_9||t==b9||t==S9}var kh=ir["__core-js_shared__"],r2=function(){var e=/[^.]+$/.exec(kh&&kh.keys&&kh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function E9(e){return!!r2&&r2 in e}var O9=Function.prototype,A9=O9.toString;function ds(e){if(e!=null){try{return A9.call(e)}catch{}try{return e+""}catch{}}return""}var P9=/[\\^$.*+?()[\]{}|]/g,C9=/^\[object .+?Constructor\]$/,T9=Function.prototype,k9=Object.prototype,N9=T9.toString,$9=k9.hasOwnProperty,M9=RegExp("^"+N9.call($9).replace(P9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function R9(e){if(!It(e)||E9(e))return!1;var t=Im(e)?M9:C9;return t.test(ds(e))}function j9(e,t){return e==null?void 0:e[t]}function hs(e,t){var n=j9(e,t);return R9(n)?n:void 0}var sp=hs(ir,"WeakMap"),i2=Object.create,I9=function(){function e(){}return function(t){if(!It(t))return{};if(i2)return i2(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function L9(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function D9(){}function B4(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var z9=800,B9=16,F9=Date.now;function U9(e){var t=0,n=0;return function(){var r=F9(),i=B9-(r-n);if(n=r,i>0){if(++t>=z9)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function V9(e){return function(){return e}}var vf=function(){try{var e=hs(Object,"defineProperty");return e({},"",{}),e}catch{}}(),H9=vf?function(e,t){return vf(e,"toString",{configurable:!0,enumerable:!1,value:V9(t),writable:!0})}:jm,F4=U9(H9);function K9(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function W9(e,t,n,r){for(var i=e.length,s=n+-1;++s<i;)if(t(e[s],s,e))return s;return-1}function G9(e){return e!==e}function X9(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function Y9(e,t,n){return t===t?X9(e,t,n):W9(e,G9,n)}function q9(e,t){var n=e==null?0:e.length;return!!n&&Y9(e,t,0)>-1}var Q9=9007199254740991,J9=/^(?:0|[1-9]\d*)$/;function bd(e,t){var n=typeof e;return t=t??Q9,!!t&&(n=="number"||n!="symbol"&&J9.test(e))&&e>-1&&e%1==0&&e<t}function wd(e,t,n){t=="__proto__"&&vf?vf(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function _u(e,t){return e===t||e!==e&&t!==t}var Z9=Object.prototype,eS=Z9.hasOwnProperty;function Lm(e,t,n){var r=e[t];(!(eS.call(e,t)&&_u(r,n))||n===void 0&&!(t in e))&&wd(e,t,n)}function Ea(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=void 0;l===void 0&&(l=e[a]),i?wd(n,a,l):Lm(n,a,l)}return n}var s2=Math.max;function U4(e,t,n){return t=s2(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=s2(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),L9(e,this,a)}}function V4(e,t){return F4(U4(e,t,jm),e+"")}var tS=9007199254740991;function Dm(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=tS}function Su(e){return e!=null&&Dm(e.length)&&!Im(e)}function H4(e,t,n){if(!It(n))return!1;var r=typeof t;return(r=="number"?Su(n)&&bd(t,n.length):r=="string"&&t in n)?_u(n[t],e):!1}function nS(e){return V4(function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,o&&H4(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r,s)}return t})}var rS=Object.prototype;function zm(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||rS;return e===n}function K4(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var iS="[object Arguments]";function o2(e){return kn(e)&&mi(e)==iS}var W4=Object.prototype,sS=W4.hasOwnProperty,oS=W4.propertyIsEnumerable,Fl=o2(function(){return arguments}())?o2:function(e){return kn(e)&&sS.call(e,"callee")&&!oS.call(e,"callee")};function aS(){return!1}var G4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,a2=G4&&typeof module=="object"&&module&&!module.nodeType&&module,lS=a2&&a2.exports===G4,l2=lS?ir.Buffer:void 0,uS=l2?l2.isBuffer:void 0,Ul=uS||aS,cS="[object Arguments]",fS="[object Array]",dS="[object Boolean]",hS="[object Date]",pS="[object Error]",mS="[object Function]",gS="[object Map]",vS="[object Number]",yS="[object Object]",xS="[object RegExp]",bS="[object Set]",wS="[object String]",_S="[object WeakMap]",SS="[object ArrayBuffer]",ES="[object DataView]",OS="[object Float32Array]",AS="[object Float64Array]",PS="[object Int8Array]",CS="[object Int16Array]",TS="[object Int32Array]",kS="[object Uint8Array]",NS="[object Uint8ClampedArray]",$S="[object Uint16Array]",MS="[object Uint32Array]",Oe={};Oe[OS]=Oe[AS]=Oe[PS]=Oe[CS]=Oe[TS]=Oe[kS]=Oe[NS]=Oe[$S]=Oe[MS]=!0;Oe[cS]=Oe[fS]=Oe[SS]=Oe[dS]=Oe[ES]=Oe[hS]=Oe[pS]=Oe[mS]=Oe[gS]=Oe[vS]=Oe[yS]=Oe[xS]=Oe[bS]=Oe[wS]=Oe[_S]=!1;function RS(e){return kn(e)&&Dm(e.length)&&!!Oe[mi(e)]}function Bm(e){return function(t){return e(t)}}var X4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,gl=X4&&typeof module=="object"&&module&&!module.nodeType&&module,jS=gl&&gl.exports===X4,Nh=jS&&D4.process,fa=function(){try{var e=gl&&gl.require&&gl.require("util").types;return e||Nh&&Nh.binding&&Nh.binding("util")}catch{}}(),u2=fa&&fa.isTypedArray,Fm=u2?Bm(u2):RS,IS=Object.prototype,LS=IS.hasOwnProperty;function Y4(e,t){var n=ot(e),r=!n&&Fl(e),i=!n&&!r&&Ul(e),s=!n&&!r&&!i&&Fm(e),o=n||r||i||s,a=o?K4(e.length,String):[],l=a.length;for(var u in e)(t||LS.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||bd(u,l)))&&a.push(u);return a}function q4(e,t){return function(n){return e(t(n))}}var DS=q4(Object.keys,Object),zS=Object.prototype,BS=zS.hasOwnProperty;function FS(e){if(!zm(e))return DS(e);var t=[];for(var n in Object(e))BS.call(e,n)&&n!="constructor"&&t.push(n);return t}function Eu(e){return Su(e)?Y4(e):FS(e)}function US(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var VS=Object.prototype,HS=VS.hasOwnProperty;function KS(e){if(!It(e))return US(e);var t=zm(e),n=[];for(var r in e)r=="constructor"&&(t||!HS.call(e,r))||n.push(r);return n}function Ou(e){return Su(e)?Y4(e,!0):KS(e)}var WS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,GS=/^\w*$/;function Um(e,t){if(ot(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||wu(e)?!0:GS.test(e)||!WS.test(e)||t!=null&&e in Object(t)}var Vl=hs(Object,"create");function XS(){this.__data__=Vl?Vl(null):{},this.size=0}function YS(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qS="__lodash_hash_undefined__",QS=Object.prototype,JS=QS.hasOwnProperty;function ZS(e){var t=this.__data__;if(Vl){var n=t[e];return n===qS?void 0:n}return JS.call(t,e)?t[e]:void 0}var eE=Object.prototype,tE=eE.hasOwnProperty;function nE(e){var t=this.__data__;return Vl?t[e]!==void 0:tE.call(t,e)}var rE="__lodash_hash_undefined__";function iE(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Vl&&t===void 0?rE:t,this}function Zi(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Zi.prototype.clear=XS;Zi.prototype.delete=YS;Zi.prototype.get=ZS;Zi.prototype.has=nE;Zi.prototype.set=iE;function sE(){this.__data__=[],this.size=0}function _d(e,t){for(var n=e.length;n--;)if(_u(e[n][0],t))return n;return-1}var oE=Array.prototype,aE=oE.splice;function lE(e){var t=this.__data__,n=_d(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():aE.call(t,n,1),--this.size,!0}function uE(e){var t=this.__data__,n=_d(t,e);return n<0?void 0:t[n][1]}function cE(e){return _d(this.__data__,e)>-1}function fE(e,t){var n=this.__data__,r=_d(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function kr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}kr.prototype.clear=sE;kr.prototype.delete=lE;kr.prototype.get=uE;kr.prototype.has=cE;kr.prototype.set=fE;var Hl=hs(ir,"Map");function dE(){this.size=0,this.__data__={hash:new Zi,map:new(Hl||kr),string:new Zi}}function hE(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Sd(e,t){var n=e.__data__;return hE(t)?n[typeof t=="string"?"string":"hash"]:n.map}function pE(e){var t=Sd(this,e).delete(e);return this.size-=t?1:0,t}function mE(e){return Sd(this,e).get(e)}function gE(e){return Sd(this,e).has(e)}function vE(e,t){var n=Sd(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Nr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Nr.prototype.clear=dE;Nr.prototype.delete=pE;Nr.prototype.get=mE;Nr.prototype.has=gE;Nr.prototype.set=vE;var yE="Expected a function";function Au(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(yE);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Au.Cache||Nr),n}Au.Cache=Nr;var xE=500;function bE(e){var t=Au(e,function(r){return n.size===xE&&n.clear(),r}),n=t.cache;return t}var wE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_E=/\\(\\)?/g,SE=bE(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(wE,function(n,r,i,s){t.push(i?s.replace(_E,"$1"):r||n)}),t});function Oa(e){return e==null?"":Rm(e)}function Aa(e,t){return ot(e)?e:Um(e,t)?[e]:SE(Oa(e))}var EE=1/0;function Pa(e){if(typeof e=="string"||wu(e))return e;var t=e+"";return t=="0"&&1/e==-EE?"-0":t}function Ed(e,t){t=Aa(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Pa(t[n++])];return n&&n==r?e:void 0}function OE(e,t,n){var r=e==null?void 0:Ed(e,t);return r===void 0?n:r}function Vm(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var c2=un?un.isConcatSpreadable:void 0;function AE(e){return ot(e)||Fl(e)||!!(c2&&e&&e[c2])}function PE(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=AE),i||(i=[]);++s<o;){var a=e[s];n(a)?Vm(i,a):i[i.length]=a}return i}function CE(e){var t=e==null?0:e.length;return t?PE(e):[]}function TE(e){return F4(U4(e,void 0,CE),e+"")}var Hm=q4(Object.getPrototypeOf,Object),kE="[object Object]",NE=Function.prototype,$E=Object.prototype,Q4=NE.toString,ME=$E.hasOwnProperty,RE=Q4.call(Object);function J4(e){if(!kn(e)||mi(e)!=kE)return!1;var t=Hm(e);if(t===null)return!0;var n=ME.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Q4.call(n)==RE}function Z4(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function e5(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Z4(e,t,n)}var jE="\\ud800-\\udfff",IE="\\u0300-\\u036f",LE="\\ufe20-\\ufe2f",DE="\\u20d0-\\u20ff",zE=IE+LE+DE,BE="\\ufe0e\\ufe0f",FE="\\u200d",UE=RegExp("["+FE+jE+zE+BE+"]");function Od(e){return UE.test(e)}function VE(e){return e.split("")}var t5="\\ud800-\\udfff",HE="\\u0300-\\u036f",KE="\\ufe20-\\ufe2f",WE="\\u20d0-\\u20ff",GE=HE+KE+WE,XE="\\ufe0e\\ufe0f",YE="["+t5+"]",op="["+GE+"]",ap="\\ud83c[\\udffb-\\udfff]",qE="(?:"+op+"|"+ap+")",n5="[^"+t5+"]",r5="(?:\\ud83c[\\udde6-\\uddff]){2}",i5="[\\ud800-\\udbff][\\udc00-\\udfff]",QE="\\u200d",s5=qE+"?",o5="["+XE+"]?",JE="(?:"+QE+"(?:"+[n5,r5,i5].join("|")+")"+o5+s5+")*",ZE=o5+s5+JE,eO="(?:"+[n5+op+"?",op,r5,i5,YE].join("|")+")",tO=RegExp(ap+"(?="+ap+")|"+eO+ZE,"g");function nO(e){return e.match(tO)||[]}function a5(e){return Od(e)?nO(e):VE(e)}function rO(e){return function(t){t=Oa(t);var n=Od(t)?a5(t):void 0,r=n?n[0]:t.charAt(0),i=n?e5(n,1).join(""):t.slice(1);return r[e]()+i}}var iO=rO("toUpperCase");function sO(e){return iO(Oa(e).toLowerCase())}function oO(e,t,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)n=t(n,e[i],i,e);return n}function aO(e){return function(t){return e==null?void 0:e[t]}}var lO={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},uO=aO(lO),cO=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,fO="\\u0300-\\u036f",dO="\\ufe20-\\ufe2f",hO="\\u20d0-\\u20ff",pO=fO+dO+hO,mO="["+pO+"]",gO=RegExp(mO,"g");function vO(e){return e=Oa(e),e&&e.replace(cO,uO).replace(gO,"")}var yO=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function xO(e){return e.match(yO)||[]}var bO=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function wO(e){return bO.test(e)}var l5="\\ud800-\\udfff",_O="\\u0300-\\u036f",SO="\\ufe20-\\ufe2f",EO="\\u20d0-\\u20ff",OO=_O+SO+EO,u5="\\u2700-\\u27bf",c5="a-z\\xdf-\\xf6\\xf8-\\xff",AO="\\xac\\xb1\\xd7\\xf7",PO="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",CO="\\u2000-\\u206f",TO=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",f5="A-Z\\xc0-\\xd6\\xd8-\\xde",kO="\\ufe0e\\ufe0f",d5=AO+PO+CO+TO,h5="[']",f2="["+d5+"]",NO="["+OO+"]",p5="\\d+",$O="["+u5+"]",m5="["+c5+"]",g5="[^"+l5+d5+p5+u5+c5+f5+"]",MO="\\ud83c[\\udffb-\\udfff]",RO="(?:"+NO+"|"+MO+")",jO="[^"+l5+"]",v5="(?:\\ud83c[\\udde6-\\uddff]){2}",y5="[\\ud800-\\udbff][\\udc00-\\udfff]",$s="["+f5+"]",IO="\\u200d",d2="(?:"+m5+"|"+g5+")",LO="(?:"+$s+"|"+g5+")",h2="(?:"+h5+"(?:d|ll|m|re|s|t|ve))?",p2="(?:"+h5+"(?:D|LL|M|RE|S|T|VE))?",x5=RO+"?",b5="["+kO+"]?",DO="(?:"+IO+"(?:"+[jO,v5,y5].join("|")+")"+b5+x5+")*",zO="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",BO="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",FO=b5+x5+DO,UO="(?:"+[$O,v5,y5].join("|")+")"+FO,VO=RegExp([$s+"?"+m5+"+"+h2+"(?="+[f2,$s,"$"].join("|")+")",LO+"+"+p2+"(?="+[f2,$s+d2,"$"].join("|")+")",$s+"?"+d2+"+"+h2,$s+"+"+p2,BO,zO,p5,UO].join("|"),"g");function HO(e){return e.match(VO)||[]}function KO(e,t,n){return e=Oa(e),t=t,t===void 0?wO(e)?HO(e):xO(e):e.match(t)||[]}var WO="[']",GO=RegExp(WO,"g");function XO(e){return function(t){return oO(KO(vO(t).replace(GO,"")),e,"")}}var YO=XO(function(e,t,n){return t=t.toLowerCase(),e+(n?sO(t):t)});function qO(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}function da(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=ml(n),n=n===n?n:0),t!==void 0&&(t=ml(t),t=t===t?t:0),qO(ml(e),t,n)}function QO(){this.__data__=new kr,this.size=0}function JO(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function ZO(e){return this.__data__.get(e)}function eA(e){return this.__data__.has(e)}var tA=200;function nA(e,t){var n=this.__data__;if(n instanceof kr){var r=n.__data__;if(!Hl||r.length<tA-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Nr(r)}return n.set(e,t),this.size=n.size,this}function Sn(e){var t=this.__data__=new kr(e);this.size=t.size}Sn.prototype.clear=QO;Sn.prototype.delete=JO;Sn.prototype.get=ZO;Sn.prototype.has=eA;Sn.prototype.set=nA;function rA(e,t){return e&&Ea(t,Eu(t),e)}function iA(e,t){return e&&Ea(t,Ou(t),e)}var w5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,m2=w5&&typeof module=="object"&&module&&!module.nodeType&&module,sA=m2&&m2.exports===w5,g2=sA?ir.Buffer:void 0,v2=g2?g2.allocUnsafe:void 0;function _5(e,t){if(t)return e.slice();var n=e.length,r=v2?v2(n):new e.constructor(n);return e.copy(r),r}function S5(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function E5(){return[]}var oA=Object.prototype,aA=oA.propertyIsEnumerable,y2=Object.getOwnPropertySymbols,Km=y2?function(e){return e==null?[]:(e=Object(e),S5(y2(e),function(t){return aA.call(e,t)}))}:E5;function lA(e,t){return Ea(e,Km(e),t)}var uA=Object.getOwnPropertySymbols,O5=uA?function(e){for(var t=[];e;)Vm(t,Km(e)),e=Hm(e);return t}:E5;function cA(e,t){return Ea(e,O5(e),t)}function A5(e,t,n){var r=t(e);return ot(e)?r:Vm(r,n(e))}function lp(e){return A5(e,Eu,Km)}function Wm(e){return A5(e,Ou,O5)}var up=hs(ir,"DataView"),cp=hs(ir,"Promise"),Ko=hs(ir,"Set"),x2="[object Map]",fA="[object Object]",b2="[object Promise]",w2="[object Set]",_2="[object WeakMap]",S2="[object DataView]",dA=ds(up),hA=ds(Hl),pA=ds(cp),mA=ds(Ko),gA=ds(sp),xn=mi;(up&&xn(new up(new ArrayBuffer(1)))!=S2||Hl&&xn(new Hl)!=x2||cp&&xn(cp.resolve())!=b2||Ko&&xn(new Ko)!=w2||sp&&xn(new sp)!=_2)&&(xn=function(e){var t=mi(e),n=t==fA?e.constructor:void 0,r=n?ds(n):"";if(r)switch(r){case dA:return S2;case hA:return x2;case pA:return b2;case mA:return w2;case gA:return _2}return t});var vA=Object.prototype,yA=vA.hasOwnProperty;function xA(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&yA.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var yf=ir.Uint8Array;function Gm(e){var t=new e.constructor(e.byteLength);return new yf(t).set(new yf(e)),t}function bA(e,t){var n=t?Gm(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var wA=/\w*$/;function _A(e){var t=new e.constructor(e.source,wA.exec(e));return t.lastIndex=e.lastIndex,t}var E2=un?un.prototype:void 0,O2=E2?E2.valueOf:void 0;function SA(e){return O2?Object(O2.call(e)):{}}function P5(e,t){var n=t?Gm(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var EA="[object Boolean]",OA="[object Date]",AA="[object Map]",PA="[object Number]",CA="[object RegExp]",TA="[object Set]",kA="[object String]",NA="[object Symbol]",$A="[object ArrayBuffer]",MA="[object DataView]",RA="[object Float32Array]",jA="[object Float64Array]",IA="[object Int8Array]",LA="[object Int16Array]",DA="[object Int32Array]",zA="[object Uint8Array]",BA="[object Uint8ClampedArray]",FA="[object Uint16Array]",UA="[object Uint32Array]";function VA(e,t,n){var r=e.constructor;switch(t){case $A:return Gm(e);case EA:case OA:return new r(+e);case MA:return bA(e,n);case RA:case jA:case IA:case LA:case DA:case zA:case BA:case FA:case UA:return P5(e,n);case AA:return new r;case PA:case kA:return new r(e);case CA:return _A(e);case TA:return new r;case NA:return SA(e)}}function C5(e){return typeof e.constructor=="function"&&!zm(e)?I9(Hm(e)):{}}var HA="[object Map]";function KA(e){return kn(e)&&xn(e)==HA}var A2=fa&&fa.isMap,WA=A2?Bm(A2):KA,GA="[object Set]";function XA(e){return kn(e)&&xn(e)==GA}var P2=fa&&fa.isSet,YA=P2?Bm(P2):XA,qA=1,QA=2,JA=4,T5="[object Arguments]",ZA="[object Array]",eP="[object Boolean]",tP="[object Date]",nP="[object Error]",k5="[object Function]",rP="[object GeneratorFunction]",iP="[object Map]",sP="[object Number]",N5="[object Object]",oP="[object RegExp]",aP="[object Set]",lP="[object String]",uP="[object Symbol]",cP="[object WeakMap]",fP="[object ArrayBuffer]",dP="[object DataView]",hP="[object Float32Array]",pP="[object Float64Array]",mP="[object Int8Array]",gP="[object Int16Array]",vP="[object Int32Array]",yP="[object Uint8Array]",xP="[object Uint8ClampedArray]",bP="[object Uint16Array]",wP="[object Uint32Array]",ye={};ye[T5]=ye[ZA]=ye[fP]=ye[dP]=ye[eP]=ye[tP]=ye[hP]=ye[pP]=ye[mP]=ye[gP]=ye[vP]=ye[iP]=ye[sP]=ye[N5]=ye[oP]=ye[aP]=ye[lP]=ye[uP]=ye[yP]=ye[xP]=ye[bP]=ye[wP]=!0;ye[nP]=ye[k5]=ye[cP]=!1;function Ic(e,t,n,r,i,s){var o,a=t&qA,l=t&QA,u=t&JA;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!It(e))return e;var c=ot(e);if(c){if(o=xA(e),!a)return B4(e,o)}else{var f=xn(e),d=f==k5||f==rP;if(Ul(e))return _5(e,a);if(f==N5||f==T5||d&&!i){if(o=l||d?{}:C5(e),!a)return l?cA(e,iA(o,e)):lA(e,rA(o,e))}else{if(!ye[f])return i?e:{};o=VA(e,f,a)}}s||(s=new Sn);var h=s.get(e);if(h)return h;s.set(e,o),YA(e)?e.forEach(function(b){o.add(Ic(b,t,n,b,e,s))}):WA(e)&&e.forEach(function(b,m){o.set(m,Ic(b,t,n,m,e,s))});var v=u?l?Wm:lp:l?Ou:Eu,x=c?void 0:v(e);return K9(x||e,function(b,m){x&&(m=b,b=e[m]),Lm(o,m,Ic(b,t,n,m,e,s))}),o}function Kl(e){for(var t=-1,n=e==null?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i}var _P="__lodash_hash_undefined__";function SP(e){return this.__data__.set(e,_P),this}function EP(e){return this.__data__.has(e)}function Wl(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Nr;++t<n;)this.add(e[t])}Wl.prototype.add=Wl.prototype.push=SP;Wl.prototype.has=EP;function OP(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function $5(e,t){return e.has(t)}var AP=1,PP=2;function M5(e,t,n,r,i,s){var o=n&AP,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(e),c=s.get(t);if(u&&c)return u==t&&c==e;var f=-1,d=!0,h=n&PP?new Wl:void 0;for(s.set(e,t),s.set(t,e);++f<a;){var v=e[f],x=t[f];if(r)var b=o?r(x,v,f,t,e,s):r(v,x,f,e,t,s);if(b!==void 0){if(b)continue;d=!1;break}if(h){if(!OP(t,function(m,p){if(!$5(h,p)&&(v===m||i(v,m,n,r,s)))return h.push(p)})){d=!1;break}}else if(!(v===x||i(v,x,n,r,s))){d=!1;break}}return s.delete(e),s.delete(t),d}function CP(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function Xm(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var TP=1,kP=2,NP="[object Boolean]",$P="[object Date]",MP="[object Error]",RP="[object Map]",jP="[object Number]",IP="[object RegExp]",LP="[object Set]",DP="[object String]",zP="[object Symbol]",BP="[object ArrayBuffer]",FP="[object DataView]",C2=un?un.prototype:void 0,$h=C2?C2.valueOf:void 0;function UP(e,t,n,r,i,s,o){switch(n){case FP:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case BP:return!(e.byteLength!=t.byteLength||!s(new yf(e),new yf(t)));case NP:case $P:case jP:return _u(+e,+t);case MP:return e.name==t.name&&e.message==t.message;case IP:case DP:return e==t+"";case RP:var a=CP;case LP:var l=r&TP;if(a||(a=Xm),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=kP,o.set(e,t);var c=M5(a(e),a(t),r,i,s,o);return o.delete(e),c;case zP:if($h)return $h.call(e)==$h.call(t)}return!1}var VP=1,HP=Object.prototype,KP=HP.hasOwnProperty;function WP(e,t,n,r,i,s){var o=n&VP,a=lp(e),l=a.length,u=lp(t),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=a[f];if(!(o?d in t:KP.call(t,d)))return!1}var h=s.get(e),v=s.get(t);if(h&&v)return h==t&&v==e;var x=!0;s.set(e,t),s.set(t,e);for(var b=o;++f<l;){d=a[f];var m=e[d],p=t[d];if(r)var y=o?r(p,m,d,t,e,s):r(m,p,d,e,t,s);if(!(y===void 0?m===p||i(m,p,n,r,s):y)){x=!1;break}b||(b=d=="constructor")}if(x&&!b){var _=e.constructor,E=t.constructor;_!=E&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof E=="function"&&E instanceof E)&&(x=!1)}return s.delete(e),s.delete(t),x}var GP=1,T2="[object Arguments]",k2="[object Array]",uc="[object Object]",XP=Object.prototype,N2=XP.hasOwnProperty;function YP(e,t,n,r,i,s){var o=ot(e),a=ot(t),l=o?k2:xn(e),u=a?k2:xn(t);l=l==T2?uc:l,u=u==T2?uc:u;var c=l==uc,f=u==uc,d=l==u;if(d&&Ul(e)){if(!Ul(t))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new Sn),o||Fm(e)?M5(e,t,n,r,i,s):UP(e,t,l,n,r,i,s);if(!(n&GP)){var h=c&&N2.call(e,"__wrapped__"),v=f&&N2.call(t,"__wrapped__");if(h||v){var x=h?e.value():e,b=v?t.value():t;return s||(s=new Sn),i(x,b,n,r,s)}}return d?(s||(s=new Sn),WP(e,t,n,r,i,s)):!1}function Ym(e,t,n,r,i){return e===t?!0:e==null||t==null||!kn(e)&&!kn(t)?e!==e&&t!==t:YP(e,t,n,r,Ym,i)}var qP=1,QP=2;function JP(e,t,n,r){var i=n.length,s=i;if(e==null)return!s;for(e=Object(e);i--;){var o=n[i];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<s;){o=n[i];var a=o[0],l=e[a],u=o[1];if(o[2]){if(l===void 0&&!(a in e))return!1}else{var c=new Sn,f;if(!(f===void 0?Ym(u,l,qP|QP,r,c):f))return!1}}return!0}function R5(e){return e===e&&!It(e)}function ZP(e){for(var t=Eu(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,R5(i)]}return t}function j5(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function eC(e){var t=ZP(e);return t.length==1&&t[0][2]?j5(t[0][0],t[0][1]):function(n){return n===e||JP(n,e,t)}}function tC(e,t){return e!=null&&t in Object(e)}function nC(e,t,n){t=Aa(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=Pa(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&Dm(i)&&bd(o,i)&&(ot(e)||Fl(e)))}function rC(e,t){return e!=null&&nC(e,t,tC)}var iC=1,sC=2;function oC(e,t){return Um(e)&&R5(t)?j5(Pa(e),t):function(n){var r=OE(n,e);return r===void 0&&r===t?rC(n,e):Ym(t,r,iC|sC)}}function qm(e){return function(t){return t==null?void 0:t[e]}}function aC(e){return function(t){return Ed(t,e)}}function lC(e){return Um(e)?qm(Pa(e)):aC(e)}function Ca(e){return typeof e=="function"?e:e==null?jm:typeof e=="object"?ot(e)?oC(e[0],e[1]):eC(e):lC(e)}function uC(e,t,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;){var o=e[i];t(r,o,n(o),e)}return r}function cC(e){return function(t,n,r){for(var i=-1,s=Object(t),o=r(t),a=o.length;a--;){var l=o[++i];if(n(s[l],l,s)===!1)break}return t}}var I5=cC();function fC(e,t){return e&&I5(e,t,Eu)}function dC(e,t){return function(n,r){if(n==null)return n;if(!Su(n))return e(n,r);for(var i=n.length,s=-1,o=Object(n);++s<i&&r(o[s],s,o)!==!1;);return n}}var L5=dC(fC);function hC(e,t,n,r){return L5(e,function(i,s,o){t(r,i,n(i),o)}),r}function pC(e,t){return function(n,r){var i=ot(n)?uC:hC,s={};return i(n,e,Ca(r),s)}}function fp(e,t,n){(n!==void 0&&!_u(e[t],n)||n===void 0&&!(t in e))&&wd(e,t,n)}function D5(e){return kn(e)&&Su(e)}function dp(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function mC(e){return Ea(e,Ou(e))}function gC(e,t,n,r,i,s,o){var a=dp(e,n),l=dp(t,n),u=o.get(l);if(u){fp(e,n,u);return}var c=s?s(a,l,n+"",e,t,o):void 0,f=c===void 0;if(f){var d=ot(l),h=!d&&Ul(l),v=!d&&!h&&Fm(l);c=l,d||h||v?ot(a)?c=a:D5(a)?c=B4(a):h?(f=!1,c=_5(l,!0)):v?(f=!1,c=P5(l,!0)):c=[]:J4(l)||Fl(l)?(c=a,Fl(a)?c=mC(a):(!It(a)||Im(a))&&(c=C5(l))):f=!1}f&&(o.set(l,c),i(c,l,r,s,o),o.delete(l)),fp(e,n,c)}function z5(e,t,n,r,i){e!==t&&I5(t,function(s,o){if(i||(i=new Sn),It(s))gC(e,t,o,n,z5,r,i);else{var a=r?r(dp(e,o),s,o+"",e,t,i):void 0;a===void 0&&(a=s),fp(e,o,a)}},Ou)}function Gl(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function vC(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function yC(e,t){var n=!0;return L5(e,function(r,i,s){return n=!!t(r,i,s),n}),n}function xC(e,t,n){var r=ot(e)?vC:yC;return r(e,Ca(t))}var bC=Object.prototype,wC=bC.hasOwnProperty,_C=pC(function(e,t,n){wC.call(e,n)?e[n].push(t):wd(e,n,[t])}),SC=Math.max,EC=Math.min;function OC(e,t,n){return e>=EC(t,n)&&e<SC(t,n)}function AC(e,t,n){return t=Ho(t),n===void 0?(n=t,t=0):n=Ho(n),e=ml(e),OC(e,t,n)}var PC="[object String]";function B5(e){return typeof e=="string"||!ot(e)&&kn(e)&&mi(e)==PC}function CC(e,t){return t.length<2?e:Ed(e,Z4(t,0,-1))}function TC(e,t){return e<t}function kC(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],o=t(s);if(o!=null&&(a===void 0?o===o&&!wu(o):n(o,a)))var a=o,l=s}return l}function NC(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);s!==void 0&&(n=n===void 0?s:n+s)}return n}var F5=nS(function(e,t,n){z5(e,t,n)});function $2(e,t){return e&&e.length?kC(e,Ca(t),TC):void 0}function $C(e,t){return t=Aa(t,e),e=CC(e,t),e==null||delete e[Pa(Gl(t))]}function MC(e){return J4(e)?void 0:e}var RC=1,jC=2,IC=4,LC=TE(function(e,t){var n={};if(e==null)return n;var r=!1;t=xd(t,function(s){return s=Aa(s,e),r||(r=s.length>1),s}),Ea(e,Wm(e),n),r&&(n=Ic(n,RC|jC|IC,MC));for(var i=t.length;i--;)$C(n,t[i]);return n});function DC(e,t,n,r){if(!It(e))return e;t=Aa(t,e);for(var i=-1,s=t.length,o=s-1,a=e;a!=null&&++i<s;){var l=Pa(t[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=o){var c=a[l];u=void 0,u===void 0&&(u=It(c)?c:bd(t[i+1])?[]:{})}Lm(a,l,u),a=a[l]}return e}function zC(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var o=t[r],a=Ed(e,o);n(a,o)&&DC(s,Aa(o,e),a)}return s}function BC(e,t){if(e==null)return{};var n=xd(Wm(e),function(r){return[r]});return t=Ca(t),zC(e,n,function(r,i){return t(r,i[0])})}var FC=9007199254740991,UC=Math.floor;function M2(e,t){var n="";if(!e||t<1||t>FC)return n;do t%2&&(n+=e),t=UC(t/2),t&&(e+=e);while(t);return n}var VC=qm("length"),U5="\\ud800-\\udfff",HC="\\u0300-\\u036f",KC="\\ufe20-\\ufe2f",WC="\\u20d0-\\u20ff",GC=HC+KC+WC,XC="\\ufe0e\\ufe0f",YC="["+U5+"]",hp="["+GC+"]",pp="\\ud83c[\\udffb-\\udfff]",qC="(?:"+hp+"|"+pp+")",V5="[^"+U5+"]",H5="(?:\\ud83c[\\udde6-\\uddff]){2}",K5="[\\ud800-\\udbff][\\udc00-\\udfff]",QC="\\u200d",W5=qC+"?",G5="["+XC+"]?",JC="(?:"+QC+"(?:"+[V5,H5,K5].join("|")+")"+G5+W5+")*",ZC=G5+W5+JC,eT="(?:"+[V5+hp+"?",hp,H5,K5,YC].join("|")+")",R2=RegExp(pp+"(?="+pp+")|"+eT+ZC,"g");function tT(e){for(var t=R2.lastIndex=0;R2.test(e);)++t;return t}function X5(e){return Od(e)?tT(e):VC(e)}var nT=Math.ceil;function rT(e,t){t=t===void 0?" ":Rm(t);var n=t.length;if(n<2)return n?M2(t,e):t;var r=M2(t,nT(e/X5(t)));return Od(t)?e5(a5(r),0,e).join(""):r.slice(0,e)}function iT(e,t,n){e=Oa(e),t=x9(t);var r=t?X5(e):0;return t&&r<t?rT(t-r,n)+e:e}var sT=Math.ceil,oT=Math.max;function aT(e,t,n,r){for(var i=-1,s=oT(sT((t-e)/(n||1)),0),o=Array(s);s--;)o[++i]=e,e+=n;return o}function lT(e){return function(t,n,r){return r&&typeof r!="number"&&H4(t,n,r)&&(n=r=void 0),t=Ho(t),n===void 0?(n=t,t=0):n=Ho(n),r=r===void 0?t<n?1:-1:Ho(r),aT(t,n,r)}}var ze=lT();function uT(e,t){return e&&e.length?NC(e,Ca(t)):0}var cT=1/0,fT=Ko&&1/Xm(new Ko([,-0]))[1]==cT?function(e){return new Ko(e)}:D9,dT=200;function hT(e,t,n){var r=-1,i=q9,s=e.length,o=!0,a=[],l=a;if(s>=dT){var u=t?null:fT(e);if(u)return Xm(u);o=!1,i=$5,l=new Wl}else l=t?[]:a;e:for(;++r<s;){var c=e[r],f=t?t(c):c;if(c=c!==0?c:0,o&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;t&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}function Y5(e,t){return e&&e.length?hT(e,Ca(t)):[]}var pT=Math.max;function mT(e){if(!(e&&e.length))return[];var t=0;return e=S5(e,function(n){if(D5(n))return t=pT(n.length,t),!0}),K4(t,function(n){return xd(e,qm(n))})}var q5=V4(mT);let Mh=class Q5 extends Ze{constructor(){super(...arguments);g(this,"type","Ellipse")}static circle(n,r,i){return new Q5(new R(n-i,r-i,2*i,2*i))}},Kr=class mp extends Ze{constructor(){super(...arguments);g(this,"type","Line")}static vertical(n,r,i){return new mp(new R(i,n,0,r-n))}static horizontal(n,r,i){return new mp(new R(n,i,r-n,0))}};class Ad extends Tr{constructor(n,r=!0){super(R.empty());g(this,"type","ChordDiagram");this.diagram=n;const i=r?n.diagram:void 0;let s;i?s="top":s="bottom";const o=4*$,a=(i?7:1)*$;let l=0;if(n.name&&(this.addElement(new ke({box:new R(0,0,o,$),value:n.name,size:$,style:{textAlign:i?"center":"left",verticalAlign:s,fontFamily:Vn}})),l+=$),i){const f=1.25*$,d=a-f-$,h=o/5,v=d/5;i.baseFret>1&&this.addElement(ke.centered({value:i.baseFret.toString(),box:new R(-f+2*be,l+$,v,v),size:v,style:{fontFamily:Vn}}));const x=i.frets.slice(0,6);i.barres.forEach(m=>{x.fill(1,m.firstString,m.lastString+1)}),x.forEach((m,p)=>{let y,_=$;switch(m){case void 0:case-1:{y="";break}case 0:{_*=.94,y="";break}default:return}this.addElement(new ke({box:new R((6-p-1.5)*h,l,h,_),size:f,value:y,style:{textAlign:"center",verticalAlign:"bottom",fontFamily:Vn}}))}),l+=$;const b=Kr.horizontal(-.5*be,o+.5*be,l);b.style.strokeWidth=String(be*(i.baseFret==1?5:1)),this.addElement(b),ze(1,6).forEach(m=>{this.addElement(Kr.horizontal(0,o,l+v*m))}),ze(6).forEach(m=>{this.addElement(Kr.vertical(l,l+d,h*m))}),i.frets.forEach((m,p)=>{if(m&&m>0){const y=(6-p-1)*h,_=l+(m-i.baseFret+.5)*v;this.addElement(Mh.circle(y,_,.3*h))}}),i.barres.forEach(m=>{const p=(6-m.firstString-1)*h,y=(6-m.lastString-1)*h,_=l+(m.baseFret-i.baseFret+.5)*v,E=Kr.horizontal(p,y,_);E.style.strokeWidth=String(.6*h),this.addElement(Mh.circle(p,l,.3*h)),this.addElement(Mh.circle(y,l,.3*h)),this.addElement(E)})}this.layout()}}let J5=class extends Tr{constructor(n,r,i,s={}){super(n);g(this,"type","DecoratedText");g(this,"textElement");this.text=r,this.size=i,this.decorations=s;let o;s.start&&!s.end?o="right":!s.start&&s.end?o="left":o="center",this.style.textAlign=o,this.textElement=new ke({box:new R(0,0,n.width,n.height),size:i,value:r,style:{textAlign:o,verticalAlign:"middle"}}),this.addElement(this.textElement)}layout(){this.textElement.box.width=this.box.width,this.textElement.box.height=this.box.height}};const gp=2*ct;let gT=class extends Ze{constructor(n,r){super(new R(n,r,gp,gp));g(this,"type","Dot")}};var rt=(e=>(e.Bend="Bend",e.BendRelease="Bend and Release",e.BendReleaseBend="Bend and Release and Bend",e.Prebend="Prebend",e.PrebendRelease="Prebend and Release",e.Dip="Dip",e.Dive="Dive",e.ReleaseUp="Release (up)",e.InvertedDip="Inverted Dip",e.Return="Return",e.ReleaseDown="Release (down)",e))(rt||{});const j2=e=>{switch(e){case"Bend":return[{time:0,amplitude:0},{time:1,amplitude:1}];case"Bend and Release":return[{time:0,amplitude:0},{time:.5,amplitude:1},{time:1,amplitude:0}];case"Bend and Release and Bend":return[{time:0,amplitude:0},{time:.333,amplitude:1},{time:.666,amplitude:0},{time:1,amplitude:1}];case"Prebend":return[{time:0,amplitude:1},{time:1,amplitude:1}];case"Prebend and Release":return[{time:0,amplitude:1},{time:1,amplitude:0}];case"Dip":case"Dive":case"Release (up)":case"Inverted Dip":case"Return":case"Release (down)":return[{time:0,amplitude:1},{time:1,amplitude:0}]}};function ae(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var vT={};function Qm(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:vT}var Z5=Object.assign,xf=Object.getOwnPropertyDescriptor,Qn=Object.defineProperty,Pd=Object.prototype,vp=[];Object.freeze(vp);var Jm={};Object.freeze(Jm);var yT=typeof Proxy<"u",xT=Object.toString();function e8(){yT||ae("Proxy not available")}function t8(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var qs=function(){};function Nn(e){return typeof e=="function"}function es(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Cd(e){return e!==null&&typeof e=="object"}function Or(e){if(!Cd(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===xT}function n8(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Pu(e,t,n){Qn(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function r8(e,t,n){Qn(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function ps(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return Cd(r)&&r[n]===!0}}function Ta(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function bT(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function lr(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var i8=typeof Object.getOwnPropertySymbols<"u";function wT(e){var t=Object.keys(e);if(!i8)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return Pd.propertyIsEnumerable.call(e,r)})):t}var ha=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:i8?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function s8(e){return e===null?null:typeof e=="object"?""+e:e}function yr(e,t){return Pd.hasOwnProperty.call(e,t)}var _T=Object.getOwnPropertyDescriptors||function(t){var n={};return ha(t).forEach(function(r){n[r]=xf(t,r)}),n};function Pt(e,t){return!!(e&t)}function Ct(e,t,n){return n?e|=t:e&=~t,e}function I2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ST(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OT(r.key),r)}}function ka(e,t,n){return t&&ST(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qs(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=AT(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oi.apply(null,arguments)}function o8(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,yp(e,t)}function yp(e,t){return yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},yp(e,t)}function ET(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function OT(e){var t=ET(e,"string");return typeof t=="symbol"?t:t+""}function AT(e,t){if(e){if(typeof e=="string")return I2(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I2(e,t):void 0}}var Gn=Symbol("mobx-stored-annotations");function Jn(e){function t(n,r){if(Tu(r))return e.decorate_20223_(n,r);Cu(n,r,e)}return Object.assign(t,e)}function Cu(e,t,n){yr(e,Gn)||Pu(e,Gn,oi({},e[Gn])),jT(n)||(e[Gn][t]=n)}function PT(e){return yr(e,Gn)||Pu(e,Gn,oi({},e[Gn])),e[Gn]}function Tu(e){return typeof e=="object"&&typeof e.kind=="string"}var X=Symbol("mobx administration"),gi=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=ue.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return S8(this)},t.reportChanged=function(){tn(),E8(this),nn()},t.toString=function(){return this.name_},ka(e,[{key:"isBeingObserved",get:function(){return Pt(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Ct(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Pt(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Ct(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Pt(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Ct(this.flags_,e.diffValueMask_,r===1)}}])}();gi.isBeingObservedMask_=1;gi.isPendingUnobservationMask_=2;gi.diffValueMask_=4;var Zm=ps("Atom",gi);function a8(e,t,n){t===void 0&&(t=qs),n===void 0&&(n=qs);var r=new gi(e);return t!==qs&&Dk(r,t),n!==qs&&k8(r,n),r}function CT(e,t){return e===t}function TT(e,t){return sg(e,t)}function kT(e,t){return sg(e,t,1)}function NT(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ts={identity:CT,structural:TT,default:NT,shallow:kT};function ns(e,t,n){return j8(e)?e:Array.isArray(e)?ve.array(e,{name:n}):Or(e)?ve.object(e,void 0,{name:n}):Ta(e)?ve.map(e,{name:n}):lr(e)?ve.set(e,{name:n}):typeof e=="function"&&!Yl(e)&&!ql(e)?n8(e)?li(e):Xl(n,e):e}function $T(e,t,n){if(e==null||Id(e)||jd(e)||gs(e)||Kn(e))return e;if(Array.isArray(e))return ve.array(e,{name:n,deep:!1});if(Or(e))return ve.object(e,void 0,{name:n,deep:!1});if(Ta(e))return ve.map(e,{name:n,deep:!1});if(lr(e))return ve.set(e,{name:n,deep:!1})}function Td(e){return e}function MT(e,t){return sg(e,t)?t:e}var RT="override";function jT(e){return e.annotationType_===RT}function ku(e,t){return{annotationType_:e,options_:t,make_:IT,extend_:LT,decorate_20223_:DT}}function IT(e,t,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(Yl(n.value))return 1;var s=l8(e,this,t,n,!1);return Qn(r,t,s),2}function LT(e,t,n,r){var i=l8(e,this,t,n);return e.defineProperty_(t,i,r)}function DT(e,t){var n=t.kind,r=t.name,i=t.addInitializer,s=this,o=function(u){var c,f,d,h;return ai((c=(f=s.options_)==null?void 0:f.name)!=null?c:r.toString(),u,(d=(h=s.options_)==null?void 0:h.autoAction)!=null?d:!1)};if(n=="field")return function(l){var u,c=l;return Yl(c)||(c=o(c)),(u=s.options_)!=null&&u.bound&&(c=c.bind(this),c.isMobxAction=!0),c};if(n=="method"){var a;return Yl(e)||(e=o(e)),(a=this.options_)!=null&&a.bound&&i(function(){var l=this,u=l[r].bind(l);u.isMobxAction=!0,l[r]=u}),e}ae("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function zT(e,t,n,r){t.annotationType_,r.value}function l8(e,t,n,r,i){var s,o,a,l,u,c,f;i===void 0&&(i=N.safeDescriptors),zT(e,t,n,r);var d=r.value;if((s=t.options_)!=null&&s.bound){var h;d=d.bind((h=e.proxy_)!=null?h:e.target_)}return{value:ai((o=(a=t.options_)==null?void 0:a.name)!=null?o:n.toString(),d,(l=(u=t.options_)==null?void 0:u.autoAction)!=null?l:!1,(c=t.options_)!=null&&c.bound?(f=e.proxy_)!=null?f:e.target_:void 0),configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function u8(e,t){return{annotationType_:e,options_:t,make_:BT,extend_:FT,decorate_20223_:UT}}function BT(e,t,n,r){var i;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!yr(e.target_,t)||!ql(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(ql(n.value))return 1;var s=c8(e,this,t,n,!1,!1);return Qn(r,t,s),2}function FT(e,t,n,r){var i,s=c8(e,this,t,n,(i=this.options_)==null?void 0:i.bound);return e.defineProperty_(t,s,r)}function UT(e,t){var n,r=t.name,i=t.addInitializer;return ql(e)||(e=li(e)),(n=this.options_)!=null&&n.bound&&i(function(){var s=this,o=s[r].bind(s);o.isMobXFlow=!0,s[r]=o}),e}function VT(e,t,n,r){t.annotationType_,r.value}function c8(e,t,n,r,i,s){s===void 0&&(s=N.safeDescriptors),VT(e,t,n,r);var o=r.value;if(ql(o)||(o=li(o)),i){var a;o=o.bind((a=e.proxy_)!=null?a:e.target_),o.isMobXFlow=!0}return{value:o,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function eg(e,t){return{annotationType_:e,options_:t,make_:HT,extend_:KT,decorate_20223_:WT}}function HT(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function KT(e,t,n,r){return GT(e,this,t,n),e.defineComputedProperty_(t,oi({},this.options_,{get:n.get,set:n.set}),r)}function WT(e,t){var n=this,r=t.name,i=t.addInitializer;return i(function(){var s=vs(this)[X],o=oi({},n.options_,{get:e,context:this});o.name||(o.name="ObservableObject."+r.toString()),s.values_.set(r,new $n(o))}),function(){return this[X].getObservablePropValue_(r)}}function GT(e,t,n,r){t.annotationType_,r.get}function kd(e,t){return{annotationType_:e,options_:t,make_:XT,extend_:YT,decorate_20223_:qT}}function XT(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function YT(e,t,n,r){var i,s;return QT(e,this),e.defineObservableProperty_(t,n.value,(i=(s=this.options_)==null?void 0:s.enhancer)!=null?i:ns,r)}function qT(e,t){var n=this,r=t.kind,i=t.name,s=new WeakSet;function o(a,l){var u,c,f=vs(a)[X],d=new Vi(l,(u=(c=n.options_)==null?void 0:c.enhancer)!=null?u:ns,"ObservableObject."+i.toString(),!1);f.values_.set(i,d),s.add(a)}if(r=="accessor")return{get:function(){return s.has(this)||o(this,e.get.call(this)),this[X].getObservablePropValue_(i)},set:function(l){return s.has(this)||o(this,l),this[X].setObservablePropValue_(i,l)},init:function(l){return s.has(this)||o(this,l),l}}}function QT(e,t,n,r){t.annotationType_}var JT="true",ZT=f8();function f8(e){return{annotationType_:JT,options_:e,make_:ek,extend_:tk,decorate_20223_:nk}}function ek(e,t,n,r){var i,s;if(n.get)return Nd.make_(e,t,n,r);if(n.set){var o=ai(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:N.safeDescriptors?e.isPlainObject_:!0,set:o})===null?0:2:(Qn(r,t,{configurable:!0,set:o}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(n8(n.value)){var l,u=(l=this.options_)!=null&&l.autoBind?li.bound:li;return u.make_(e,t,n,r)}var c=(a=this.options_)!=null&&a.autoBind?Xl.bound:Xl;return c.make_(e,t,n,r)}var f=((i=this.options_)==null?void 0:i.deep)===!1?ve.ref:ve;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var d;n.value=n.value.bind((d=e.proxy_)!=null?d:e.target_)}return f.make_(e,t,n,r)}function tk(e,t,n,r){var i,s;if(n.get)return Nd.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:N.safeDescriptors?e.isPlainObject_:!0,set:ai(t.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var o;n.value=n.value.bind((o=e.proxy_)!=null?o:e.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?ve.ref:ve;return a.extend_(e,t,n,r)}function nk(e,t){ae("'"+this.annotationType_+"' cannot be used as a decorator")}var rk="observable",ik="observable.ref",sk="observable.shallow",ok="observable.struct",d8={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(d8);function cc(e){return e||d8}var xp=kd(rk),ak=kd(ik,{enhancer:Td}),lk=kd(sk,{enhancer:$T}),uk=kd(ok,{enhancer:MT}),h8=Jn(xp);function fc(e){return e.deep===!0?ns:e.deep===!1?Td:fk(e.defaultDecorator)}function ck(e){var t;return e?(t=e.defaultDecorator)!=null?t:f8(e):void 0}function fk(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:ns}function p8(e,t,n){if(Tu(t))return xp.decorate_20223_(e,t);if(es(t)){Cu(e,t,xp);return}return j8(e)?e:Or(e)?ve.object(e,t,n):Array.isArray(e)?ve.array(e,t):Ta(e)?ve.map(e,t):lr(e)?ve.set(e,t):typeof e=="object"&&e!==null?e:ve.box(e,t)}Z5(p8,h8);var dk={box:function(t,n){var r=cc(n);return new Vi(t,fc(r),r.name,!0,r.equals)},array:function(t,n){var r=cc(n);return(N.useProxies===!1||r.proxy===!1?uN:Zk)(t,fc(r),r.name)},map:function(t,n){var r=cc(n);return new D8(t,fc(r),r.name)},set:function(t,n){var r=cc(n);return new z8(t,fc(r),r.name)},object:function(t,n,r){return yi(function(){return $8(N.useProxies===!1||(r==null?void 0:r.proxy)===!1?vs({},r):qk({},r),t,n)})},ref:Jn(ak),shallow:Jn(lk),deep:h8,struct:Jn(uk)},ve=Z5(p8,dk),m8="computed",hk="computed.struct",bp=eg(m8),pk=eg(hk,{equals:ts.structural}),Nd=function(t,n){if(Tu(n))return bp.decorate_20223_(t,n);if(es(n))return Cu(t,n,bp);if(Or(t))return Jn(eg(m8,t));var r=Or(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new $n(r)};Object.assign(Nd,bp);Nd.struct=Jn(pk);var L2,D2,bf=0,mk=1,gk=(L2=(D2=xf(function(){},"name"))==null?void 0:D2.configurable)!=null?L2:!1,z2={value:"action",configurable:!0,writable:!1,enumerable:!1};function ai(e,t,n,r){n===void 0&&(n=!1);function i(){return vk(e,n,t,r||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return t.toString()},gk&&(z2.value=e,Qn(i,"name",z2)),i}function vk(e,t,n,r,i){var s=yk(e,t);try{return n.apply(r,i)}catch(o){throw s.error_=o,o}finally{xk(s)}}function yk(e,t,n,r){var i=!1,s=0,o=N.trackingDerivation,a=!t||!o;tn();var l=N.allowStateChanges;a&&(ms(),l=$d(!0));var u=tg(!0),c={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:l,prevAllowStateReads_:u,notifySpy_:i,startTime_:s,actionId_:mk++,parentActionId_:bf};return bf=c.actionId_,c}function xk(e){bf!==e.actionId_&&ae(30),bf=e.parentActionId_,e.error_!==void 0&&(N.suppressReactionErrors=!0),Md(e.prevAllowStateChanges_),vl(e.prevAllowStateReads_),nn(),e.runAsAction_&&xr(e.prevDerivation_),N.suppressReactionErrors=!1}function g8(e,t){var n=$d(e);try{return t()}finally{Md(n)}}function $d(e){var t=N.allowStateChanges;return N.allowStateChanges=e,t}function Md(e){N.allowStateChanges=e}var Vi=function(e){function t(r,i,s,o,a){var l;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=ts.default),l=e.call(this,s)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=i,l.name_=s,l.equals=a,l.value_=i(r,void 0,s),l}o8(t,e);var n=t.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==N.UNCHANGED&&this.setNewValue_(i)},n.prepareNewValue_=function(i){if(Xt(this)){var s=Yt(this,{object:this,type:Zn,newValue:i});if(!s)return N.UNCHANGED;i=s.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?N.UNCHANGED:i},n.setNewValue_=function(i){var s=this.value_;this.value_=i,this.reportChanged(),En(this)&&On(this,{type:Zn,object:this,newValue:i,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return Nu(this,i)},n.observe_=function(i,s){return s&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:Zn,newValue:this.value_,oldValue:void 0}),$u(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return s8(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(gi),$n=function(){function e(n){this.dependenciesState_=ue.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ue.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new _f(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=wf.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||ae(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=ai("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?ts.structural:ts.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){Ek(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&ae(32,this.name_,this.derivation),N.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)wp(this)&&(this.warnAboutUntrackedRead_(),tn(),this.value_=this.computeValue_(!1),nn());else if(S8(this),wp(this)){var r=N.trackingContext;this.keepAlive_&&!r&&(N.trackingContext=this),this.trackAndCompute()&&Sk(this),N.trackingContext=r}var i=this.value_;if(Lc(i))throw i.cause;return i},t.set=function(r){if(this.setter_){this.isRunningSetter&&ae(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else ae(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===ue.NOT_TRACKING_,s=this.computeValue_(!0),o=i||Lc(r)||Lc(s)||!this.equals_(r,s);return o&&(this.value_=s),o},t.computeValue_=function(r){this.isComputing=!0;var i=$d(!1),s;if(r)s=v8(this,this.derivation,this.scope_);else if(N.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new _f(o)}return Md(i),this.isComputing=!1,s},t.suspend_=function(){this.keepAlive_||(_p(this),this.value_=void 0)},t.observe_=function(r,i){var s=this,o=!0,a=void 0;return ng(function(){var l=s.get();if(!o||i){var u=ms();r({observableKind:"computed",debugObjectName:s.name_,type:Zn,object:s,newValue:l,oldValue:a}),xr(u)}o=!1,a=l})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return s8(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},ka(e,[{key:"isComputing",get:function(){return Pt(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=Ct(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Pt(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=Ct(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Pt(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Ct(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Pt(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Ct(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Pt(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Ct(this.flags_,e.diffValueMask_,r===1)}}])}();$n.isComputingMask_=1;$n.isRunningSetterMask_=2;$n.isBeingObservedMask_=4;$n.isPendingUnobservationMask_=8;$n.diffValueMask_=16;var Rd=ps("ComputedValue",$n),ue;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(ue||(ue={}));var wf;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(wf||(wf={}));var _f=function(t){this.cause=void 0,this.cause=t};function Lc(e){return e instanceof _f}function wp(e){switch(e.dependenciesState_){case ue.UP_TO_DATE_:return!1;case ue.NOT_TRACKING_:case ue.STALE_:return!0;case ue.POSSIBLY_STALE_:{for(var t=tg(!0),n=ms(),r=e.observing_,i=r.length,s=0;s<i;s++){var o=r[s];if(Rd(o)){if(N.disableErrorBoundaries)o.get();else try{o.get()}catch{return xr(n),vl(t),!0}if(e.dependenciesState_===ue.STALE_)return xr(n),vl(t),!0}}return x8(e),xr(n),vl(t),!1}}}function v8(e,t,n){var r=tg(!0);x8(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++N.runId;var i=N.trackingDerivation;N.trackingDerivation=e,N.inBatch++;var s;if(N.disableErrorBoundaries===!0)s=t.call(n);else try{s=t.call(n)}catch(o){s=new _f(o)}return N.inBatch--,N.trackingDerivation=i,bk(e),vl(r),s}function bk(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=ue.UP_TO_DATE_,i=0,s=e.unboundDepsCount_,o=0;o<s;o++){var a=n[o];a.diffValue===0&&(a.diffValue=1,i!==o&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=i,e.newObserving_=null,s=t.length;s--;){var l=t[s];l.diffValue===0&&w8(l,e),l.diffValue=0}for(;i--;){var u=n[i];u.diffValue===1&&(u.diffValue=0,_k(u,e))}r!==ue.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function _p(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)w8(t[n],e);e.dependenciesState_=ue.NOT_TRACKING_}function y8(e){var t=ms();try{return e()}finally{xr(t)}}function ms(){var e=N.trackingDerivation;return N.trackingDerivation=null,e}function xr(e){N.trackingDerivation=e}function tg(e){var t=N.allowStateReads;return N.allowStateReads=e,t}function vl(e){N.allowStateReads=e}function x8(e){if(e.dependenciesState_!==ue.UP_TO_DATE_){e.dependenciesState_=ue.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=ue.UP_TO_DATE_}}var Dc=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},zc=!0,b8=!1,N=function(){var e=Qm();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(zc=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new Dc().version&&(zc=!1),zc?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Dc):(setTimeout(function(){b8||ae(35)},1),new Dc)}();function wk(){if((N.pendingReactions.length||N.inBatch||N.isRunningReactions)&&ae(36),b8=!0,zc){var e=Qm();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),N=new Dc}}function _k(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function w8(e,t){e.observers_.delete(t),e.observers_.size===0&&_8(e)}function _8(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,N.pendingUnobservations.push(e))}function tn(){N.inBatch++}function nn(){if(--N.inBatch===0){O8();for(var e=N.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof $n&&n.suspend_())}N.pendingUnobservations=[]}}function S8(e){var t=N.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&N.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&N.inBatch>0&&_8(e),!1)}function E8(e){e.lowestObserverState_!==ue.STALE_&&(e.lowestObserverState_=ue.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ue.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=ue.STALE_}))}function Sk(e){e.lowestObserverState_!==ue.STALE_&&(e.lowestObserverState_=ue.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ue.POSSIBLY_STALE_?t.dependenciesState_=ue.STALE_:t.dependenciesState_===ue.UP_TO_DATE_&&(e.lowestObserverState_=ue.UP_TO_DATE_)}))}function Ek(e){e.lowestObserverState_===ue.UP_TO_DATE_&&(e.lowestObserverState_=ue.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ue.UP_TO_DATE_&&(t.dependenciesState_=ue.POSSIBLY_STALE_,t.onBecomeStale_())}))}var rr=function(){function e(n,r,i,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=ue.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=wf.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,N.pendingReactions.push(this),O8())},t.runReaction_=function(){if(!this.isDisposed){tn(),this.isScheduled=!1;var r=N.trackingContext;if(N.trackingContext=this,wp(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}N.trackingContext=r,nn()}},t.track=function(r){if(!this.isDisposed){tn(),this.isRunning=!0;var i=N.trackingContext;N.trackingContext=this;var s=v8(this,r,void 0);N.trackingContext=i,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&_p(this),Lc(s)&&this.reportExceptionInDerivation_(s.cause),nn()}},t.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(N.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";N.suppressReactionErrors||console.error(s,r),N.globalReactionErrorHandlers.forEach(function(o){return o(r,i)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(tn(),_p(this),nn()))},t.getDisposer_=function(r){var i=this,s=function o(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",o)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[X]=this,s},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},ka(e,[{key:"isDisposed",get:function(){return Pt(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=Ct(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Pt(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=Ct(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Pt(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=Ct(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Pt(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=Ct(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return Pt(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Ct(this.flags_,e.diffValueMask_,r===1)}}])}();rr.isDisposedMask_=1;rr.isScheduledMask_=2;rr.isTrackPendingMask_=4;rr.isRunningMask_=8;rr.diffValueMask_=16;var Ok=100,Sp=function(t){return t()};function O8(){N.inBatch>0||N.isRunningReactions||Sp(Ak)}function Ak(){N.isRunningReactions=!0;for(var e=N.pendingReactions,t=0;e.length>0;){++t===Ok&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}N.isRunningReactions=!1}var Sf=ps("Reaction",rr);function Pk(e){var t=Sp;Sp=function(r){return e(function(){return t(r)})}}function yl(){return!1}function Ck(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var A8="action",Tk="action.bound",P8="autoAction",kk="autoAction.bound",Nk="<unnamed action>",Ep=ku(A8),$k=ku(Tk,{bound:!0}),Op=ku(P8,{autoAction:!0}),Mk=ku(kk,{autoAction:!0,bound:!0});function C8(e){var t=function(r,i){if(Nn(r))return ai(r.name||Nk,r,e);if(Nn(i))return ai(r,i,e);if(Tu(i))return(e?Op:Ep).decorate_20223_(r,i);if(es(i))return Cu(r,i,e?Op:Ep);if(es(r))return Jn(ku(e?P8:A8,{name:r,autoAction:e}))};return t}var $t=C8(!1);Object.assign($t,Ep);var Xl=C8(!0);Object.assign(Xl,Op);$t.bound=Jn($k);Xl.bound=Jn(Mk);function Yl(e){return Nn(e)&&e.isMobxAction===!0}function ng(e,t){var n,r,i,s;t===void 0&&(t=Jm);var o=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",a=!t.scheduler&&!t.delay,l;if(a)l=new rr(o,function(){this.track(f)},t.onError,t.requiresObservable);else{var u=T8(t),c=!1;l=new rr(o,function(){c||(c=!0,u(function(){c=!1,l.isDisposed||l.track(f)}))},t.onError,t.requiresObservable)}function f(){e(l)}return(i=t)!=null&&(i=i.signal)!=null&&i.aborted||l.schedule_(),l.getDisposer_((s=t)==null?void 0:s.signal)}var Rk=function(t){return t()};function T8(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Rk}function rs(e,t,n){var r,i,s;n===void 0&&(n=Jm);var o=(r=n.name)!=null?r:"Reaction",a=$t(o,n.onError?jk(n.onError,t):t),l=!n.scheduler&&!n.delay,u=T8(n),c=!0,f=!1,d,h=n.compareStructural?ts.structural:n.equals||ts.default,v=new rr(o,function(){c||l?x():f||(f=!0,u(x))},n.onError,n.requiresObservable);function x(){if(f=!1,!v.isDisposed){var b=!1,m=d;v.track(function(){var p=g8(!1,function(){return e(v)});b=c||!h(d,p),d=p}),(c&&n.fireImmediately||!c&&b)&&a(d,m,v),c=!1}}return(i=n)!=null&&(i=i.signal)!=null&&i.aborted||v.schedule_(),v.getDisposer_((s=n)==null?void 0:s.signal)}function jk(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var Ik="onBO",Lk="onBUO";function Dk(e,t,n){return N8(Ik,e,t,n)}function k8(e,t,n){return N8(Lk,e,t,n)}function N8(e,t,n,r){var i=Af(t),s=Nn(r)?r:n,o=e+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var a=i[o];a&&(a.delete(s),a.size===0&&delete i[o])}}var zk="never",dc="always",Bk="observed";function Fk(e){e.isolateGlobalState===!0&&wk();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(N.useProxies=t===dc?!0:t===zk?!1:typeof Proxy<"u"),t==="ifavailable"&&(N.verifyProxies=!0),n!==void 0){var r=n===dc?dc:n===Bk;N.enforceActions=r,N.allowStateChanges=!(r===!0||r===dc)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in e&&(N[i]=!!e[i])}),N.allowStateReads=!N.observableRequiresReaction,e.reactionScheduler&&Pk(e.reactionScheduler)}function $8(e,t,n,r){var i=_T(t);return yi(function(){var s=vs(e,r)[X];ha(i).forEach(function(o){s.extend_(o,i[o],n&&o in n?n[o]:!0)})}),e}function Uk(e,t){return M8(Af(e,t))}function M8(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=Vk(e.observing_).map(M8)),t}function Vk(e){return Array.from(new Set(e))}var Hk=0;function R8(){this.message="FLOW_CANCELLED"}R8.prototype=Object.create(Error.prototype);var Rh=u8("flow"),Kk=u8("flow.bound",{bound:!0}),li=Object.assign(function(t,n){if(Tu(n))return Rh.decorate_20223_(t,n);if(es(n))return Cu(t,n,Rh);var r=t,i=r.name||"<unnamed flow>",s=function(){var a=this,l=arguments,u=++Hk,c=$t(i+" - runid: "+u+" - init",r).apply(a,l),f,d=void 0,h=new Promise(function(v,x){var b=0;f=x;function m(_){d=void 0;var E;try{E=$t(i+" - runid: "+u+" - yield "+b++,c.next).call(c,_)}catch(P){return x(P)}y(E)}function p(_){d=void 0;var E;try{E=$t(i+" - runid: "+u+" - yield "+b++,c.throw).call(c,_)}catch(P){return x(P)}y(E)}function y(_){if(Nn(_==null?void 0:_.then)){_.then(y,x);return}return _.done?v(_.value):(d=Promise.resolve(_.value),d.then(m,p))}m(void 0)});return h.cancel=$t(i+" - runid: "+u+" - cancel",function(){try{d&&B2(d);var v=c.return(void 0),x=Promise.resolve(v.value);x.then(qs,qs),B2(x),f(new R8)}catch(b){f(b)}}),h};return s.isMobXFlow=!0,s},Rh);li.bound=Jn(Kk);function B2(e){Nn(e.cancel)&&e.cancel()}function ql(e){return(e==null?void 0:e.isMobXFlow)===!0}function Wk(e,t){return e?Id(e)||!!e[X]||Zm(e)||Sf(e)||Rd(e):!1}function j8(e){return Wk(e)}function ur(e,t){t===void 0&&(t=void 0),tn();try{return e.apply(t)}finally{nn()}}function Gk(e,t,n){return arguments.length===1||t?Xk(e,t):I8(e,t,{})}function I8(e,t,n){var r;if(typeof n.timeout=="number"){var i=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!o[X].isDisposed)if(o(),n.onError)n.onError(i);else throw i},n.timeout)}n.name="When";var s=ai("When-effect",t),o=ng(function(a){var l=g8(!1,e);l&&(a.dispose(),r&&clearTimeout(r),s())},n);return o}function Xk(e,t){var n,r=new Promise(function(i,s){var o=I8(e,i,oi({},t,{onError:s}));n=function(){o(),s(new Error("WHEN_CANCELLED"))}}).finally(function(){});return r.cancel=n,r}function Os(e){return e[X]}var Yk={has:function(t,n){return Os(t).has_(n)},get:function(t,n){return Os(t).get_(n)},set:function(t,n,r){var i;return es(n)?(i=Os(t).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(t,n){var r;return es(n)?(r=Os(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var i;return(i=Os(t).defineProperty_(n,r))!=null?i:!0},ownKeys:function(t){return Os(t).ownKeys_()},preventExtensions:function(t){ae(13)}};function qk(e,t){var n,r;return e8(),e=vs(e,t),(r=(n=e[X]).proxy_)!=null?r:n.proxy_=new Proxy(e,Yk)}function Xt(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Nu(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),t8(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Yt(e,t){var n=ms();try{for(var r=[].concat(e.interceptors_||[]),i=0,s=r.length;i<s&&(t=r[i](t),t&&!t.type&&ae(14),!!t);i++);return t}finally{xr(n)}}function En(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function $u(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),t8(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function On(e,t){var n=ms(),r=e.changeListeners_;if(r){r=r.slice();for(var i=0,s=r.length;i<s;i++)r[i](t);xr(n)}}function Na(e,t,n){return yi(function(){var r,i=vs(e,n)[X];(r=t)!=null||(t=PT(e)),ha(t).forEach(function(s){return i.make_(s,t[s])})}),e}var jh=Symbol("mobx-keys");function vi(e,t,n){return Or(e)?$8(e,e,t,n):(yi(function(){var r=vs(e,n)[X];if(!e[jh]){var i=Object.getPrototypeOf(e),s=new Set([].concat(ha(e),ha(i)));s.delete("constructor"),s.delete(X),Pu(i,jh,s)}e[jh].forEach(function(o){return r.make_(o,t&&o in t?t[o]:!0)})}),e)}var F2="splice",Zn="update",Qk=1e4,Jk={get:function(t,n){var r=t[X];return n===X?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):yr(Ef,n)?Ef[n]:t[n]},set:function(t,n,r){var i=t[X];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){ae(15)}},rg=function(){function e(n,r,i,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=s,this.atom_=new gi(n),this.enhancer_=function(o,a){return r(o,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return Nu(this,r)},t.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),$u(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&ae("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var s=new Array(r-i),o=0;o<r-i;o++)s[o]=void 0;this.spliceWithArray_(i,0,s)}else this.spliceWithArray_(r,i-r)},t.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&ae(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&V8(r+i+1)},t.spliceWithArray_=function(r,i,s){var o=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?i=a-r:i==null?i=0:i=Math.max(0,Math.min(i,a-r)),s===void 0&&(s=vp),Xt(this)){var l=Yt(this,{object:this.proxy_,type:F2,index:r,removedCount:i,added:s});if(!l)return vp;i=l.removedCount,s=l.added}if(s=s.length===0?s:s.map(function(f){return o.enhancer_(f,void 0)}),this.legacyMode_){var u=s.length-i;this.updateArrayLength_(a,u)}var c=this.spliceItemsIntoValues_(r,i,s);return(i!==0||s.length!==0)&&this.notifyArraySplice_(r,s,c),this.dehanceValues_(c)},t.spliceItemsIntoValues_=function(r,i,s){if(s.length<Qk){var o;return(o=this.values_).splice.apply(o,[r,i].concat(s))}else{var a=this.values_.slice(r,r+i),l=this.values_.slice(r+i);this.values_.length+=s.length-i;for(var u=0;u<s.length;u++)this.values_[r+u]=s[u];for(var c=0;c<l.length;c++)this.values_[r+s.length+c]=l[c];return a}},t.notifyArrayChildUpdate_=function(r,i,s){var o=!this.owned_&&yl(),a=En(this),l=a||o?{observableKind:"array",object:this.proxy_,type:Zn,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:s}:null;this.atom_.reportChanged(),a&&On(this,l)},t.notifyArraySplice_=function(r,i,s){var o=!this.owned_&&yl(),a=En(this),l=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:F2,index:r,removed:s,added:i,removedCount:s.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&On(this,l)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,i){var s=this.values_;if(this.legacyMode_&&r>s.length&&ae(17,r,s.length),r<s.length){this.atom_;var o=s[r];if(Xt(this)){var a=Yt(this,{type:Zn,object:this.proxy_,index:r,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,o);var l=i!==o;l&&(s[r]=i,this.notifyArrayChildUpdate_(r,i,o))}else{for(var u=new Array(r+1-s.length),c=0;c<u.length-1;c++)u[c]=void 0;u[u.length-1]=i,this.spliceWithArray_(s.length,0,u)}},e}();function Zk(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),e8(),yi(function(){var i=new rg(n,t,r,!1);r8(i.values_,X,i);var s=new Proxy(i.values_,Jk);return i.proxy_=s,e&&e.length&&i.spliceWithArray_(0,0,e),s})}var Ef={clear:function(){return this.splice(0)},replace:function(t){var n=this[X];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];var o=this[X];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(t);case 2:return o.spliceWithArray_(t,n)}return o.spliceWithArray_(t,n,i)},spliceWithArray:function(t,n,r){return this[X].spliceWithArray_(t,n,r)},push:function(){for(var t=this[X],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[X].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[X],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return N.trackingDerivation&&ae(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){N.trackingDerivation&&ae(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[X],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};_e("at",zt);_e("concat",zt);_e("flat",zt);_e("includes",zt);_e("indexOf",zt);_e("join",zt);_e("lastIndexOf",zt);_e("slice",zt);_e("toString",zt);_e("toLocaleString",zt);_e("toSorted",zt);_e("toSpliced",zt);_e("with",zt);_e("every",Ln);_e("filter",Ln);_e("find",Ln);_e("findIndex",Ln);_e("findLast",Ln);_e("findLastIndex",Ln);_e("flatMap",Ln);_e("forEach",Ln);_e("map",Ln);_e("some",Ln);_e("toReversed",Ln);_e("reduce",L8);_e("reduceRight",L8);function _e(e,t){typeof Array.prototype[e]=="function"&&(Ef[e]=t(e))}function zt(e){return function(){var t=this[X];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Ln(e){return function(t,n){var r=this,i=this[X];i.atom_.reportObserved();var s=i.dehanceValues_(i.values_);return s[e](function(o,a){return t.call(n,o,a,r)})}}function L8(e){return function(){var t=this,n=this[X];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(s,o,a){return i(s,o,a,t)},r[e].apply(r,arguments)}}var eN=ps("ObservableArrayAdministration",rg);function jd(e){return Cd(e)&&eN(e[X])}var tN={},Wr="add",Of="delete",D8=function(){function e(n,r,i){var s=this;r===void 0&&(r=ns),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[X]=tN,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,Nn(Map)||ae(18),yi(function(){s.keysAtom_=a8("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var i=this;if(!N.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var o=s=new Vi(this.has_(r),Td,"ObservableMap.key?",!1);this.hasMap_.set(r,o),k8(o,function(){return i.hasMap_.delete(r)})}return s.get()},t.set=function(r,i){var s=this.has_(r);if(Xt(this)){var o=Yt(this,{type:s?Zn:Wr,object:this,newValue:i,name:r});if(!o)return this;i=o.newValue}return s?this.updateValue_(r,i):this.addValue_(r,i),this},t.delete=function(r){var i=this;if(this.keysAtom_,Xt(this)){var s=Yt(this,{type:Of,object:this,name:r});if(!s)return!1}if(this.has_(r)){var o=yl(),a=En(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:Of,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return ur(function(){var u;i.keysAtom_.reportChanged(),(u=i.hasMap_.get(r))==null||u.setNewValue_(!1);var c=i.data_.get(r);c.setNewValue_(void 0),i.data_.delete(r)}),a&&On(this,l),!0}return!1},t.updateValue_=function(r,i){var s=this.data_.get(r);if(i=s.prepareNewValue_(i),i!==N.UNCHANGED){var o=yl(),a=En(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:Zn,object:this,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&On(this,l)}},t.addValue_=function(r,i){var s=this;this.keysAtom_,ur(function(){var u,c=new Vi(i,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,c),i=c.value_,(u=s.hasMap_.get(r))==null||u.setNewValue_(!0),s.keysAtom_.reportChanged()});var o=yl(),a=En(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:Wr,object:this,name:r,newValue:i}:null;a&&On(this,l)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,i=this.keys();return Ql({next:function(){var o=i.next(),a=o.done,l=o.value;return{done:a,value:a?void 0:r.get(l)}}})},t.entries=function(){var r=this,i=this.keys();return Ql({next:function(){var o=i.next(),a=o.done,l=o.value;return{done:a,value:a?void 0:[l,r.get(l)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,i){for(var s=Qs(this),o;!(o=s()).done;){var a=o.value,l=a[0],u=a[1];r.call(i,u,l,this)}},t.merge=function(r){var i=this;return gs(r)&&(r=new Map(r)),ur(function(){Or(r)?wT(r).forEach(function(s){return i.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var o=s[0],a=s[1];return i.set(o,a)}):Ta(r)?(bT(r)||ae(19,r),r.forEach(function(s,o){return i.set(o,s)})):r!=null&&ae(20,r)}),this},t.clear=function(){var r=this;ur(function(){y8(function(){for(var i=Qs(r.keys()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},t.replace=function(r){var i=this;return ur(function(){for(var s=nN(r),o=new Map,a=!1,l=Qs(i.data_.keys()),u;!(u=l()).done;){var c=u.value;if(!s.has(c)){var f=i.delete(c);if(f)a=!0;else{var d=i.data_.get(c);o.set(c,d)}}}for(var h=Qs(s.entries()),v;!(v=h()).done;){var x=v.value,b=x[0],m=x[1],p=i.data_.has(b);if(i.set(b,m),i.data_.has(b)){var y=i.data_.get(b);o.set(b,y),p||(a=!0)}}if(!a)if(i.data_.size!==o.size)i.keysAtom_.reportChanged();else for(var _=i.data_.keys(),E=o.keys(),P=_.next(),O=E.next();!P.done;){if(P.value!==O.value){i.keysAtom_.reportChanged();break}P=_.next(),O=E.next()}i.data_=o}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,i){return $u(this,r)},t.intercept_=function(r){return Nu(this,r)},ka(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),gs=ps("ObservableMap",D8);function nN(e){if(Ta(e)||gs(e))return e;if(Array.isArray(e))return new Map(e);if(Or(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return ae(21,e)}var rN={},z8=function(){function e(n,r,i){var s=this;r===void 0&&(r=ns),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[X]=rN,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,Nn(Set)||ae(22),this.enhancer_=function(o,a){return r(o,a,i)},yi(function(){s.atom_=a8(s.name_),n&&s.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;ur(function(){y8(function(){for(var i=Qs(r.data_.values()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},t.forEach=function(r,i){for(var s=Qs(this),o;!(o=s()).done;){var a=o.value;r.call(i,a,a,this)}},t.add=function(r){var i=this;if(this.atom_,Xt(this)){var s=Yt(this,{type:Wr,object:this,newValue:r});if(!s)return this}if(!this.has(r)){ur(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var o=!1,a=En(this),l=a||o?{observableKind:"set",debugObjectName:this.name_,type:Wr,object:this,newValue:r}:null;a&&On(this,l)}return this},t.delete=function(r){var i=this;if(Xt(this)){var s=Yt(this,{type:Of,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var o=!1,a=En(this),l=a||o?{observableKind:"set",debugObjectName:this.name_,type:Of,object:this,oldValue:r}:null;return ur(function(){i.atom_.reportChanged(),i.data_.delete(r)}),a&&On(this,l),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=0,i=Array.from(this.keys()),s=Array.from(this.values());return Ql({next:function(){var a=r;return r+=1,a<s.length?{value:[i[a],s[a]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,i=0,s=Array.from(this.data_.values());return Ql({next:function(){return i<s.length?{value:r.dehanceValue_(s[i++]),done:!1}:{done:!0}}})},t.intersection=function(r){if(lr(r)&&!Kn(r))return r.intersection(this);var i=new Set(this);return i.intersection(r)},t.union=function(r){if(lr(r)&&!Kn(r))return r.union(this);var i=new Set(this);return i.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(lr(r)&&!Kn(r))return r.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(lr(r)&&!Kn(r))return r.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(r)},t.replace=function(r){var i=this;return Kn(r)&&(r=new Set(r)),ur(function(){Array.isArray(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):lr(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):r!=null&&ae("Cannot initialize set from "+r)}),this},t.observe_=function(r,i){return $u(this,r)},t.intercept_=function(r){return Nu(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},ka(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Kn=ps("ObservableSet",z8),U2=Object.create(null),V2="remove",B8=function(){function e(n,r,i,s){r===void 0&&(r=new Map),s===void 0&&(s=ZT),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=s,this.keysAtom_=new gi("ObservableObject.keys"),this.isPlainObject_=Or(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,i){var s=this.values_.get(r);if(s instanceof $n)return s.set(i),!0;if(Xt(this)){var o=Yt(this,{type:Zn,object:this.proxy_||this.target_,name:r,newValue:i});if(!o)return null;i=o.newValue}if(i=s.prepareNewValue_(i),i!==N.UNCHANGED){var a=En(this),l=!1,u=a||l?{type:Zn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&On(this,u)}return!0},t.get_=function(r){return N.trackingDerivation&&!yr(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,i,s){return s===void 0&&(s=!1),yr(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):s?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},t.has_=function(r){if(!N.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new Vi(r in this.target_,Td,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},t.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(r in this.target_)){var s;if((s=this.target_[Gn])!=null&&s[r])return;ae(1,i.annotationType_,this.name_+"."+r.toString())}for(var o=this.target_;o&&o!==Pd;){var a=xf(o,r);if(a){var l=i.make_(this,r,a,o);if(l===0)return;if(l===1)break}o=Object.getPrototypeOf(o)}K2(this,i,r)}},t.extend_=function(r,i,s,o){if(o===void 0&&(o=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,i,o);var a=s.extend_(this,r,i,o);return a&&K2(this,s,r),a},t.defineProperty_=function(r,i,s){s===void 0&&(s=!1),this.keysAtom_;try{tn();var o=this.delete_(r);if(!o)return o;if(Xt(this)){var a=Yt(this,{object:this.proxy_||this.target_,name:r,type:Wr,newValue:i.value});if(!a)return null;var l=a.newValue;i.value!==l&&(i=oi({},i,{value:l}))}if(s){if(!Reflect.defineProperty(this.target_,r,i))return!1}else Qn(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{nn()}return!0},t.defineObservableProperty_=function(r,i,s,o){o===void 0&&(o=!1),this.keysAtom_;try{tn();var a=this.delete_(r);if(!a)return a;if(Xt(this)){var l=Yt(this,{object:this.proxy_||this.target_,name:r,type:Wr,newValue:i});if(!l)return null;i=l.newValue}var u=H2(r),c={configurable:N.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(o){if(!Reflect.defineProperty(this.target_,r,c))return!1}else Qn(this.target_,r,c);var f=new Vi(i,s,"ObservableObject.key",!1);this.values_.set(r,f),this.notifyPropertyAddition_(r,f.value_)}finally{nn()}return!0},t.defineComputedProperty_=function(r,i,s){s===void 0&&(s=!1),this.keysAtom_;try{tn();var o=this.delete_(r);if(!o)return o;if(Xt(this)){var a=Yt(this,{object:this.proxy_||this.target_,name:r,type:Wr,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var l=H2(r),u={configurable:N.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(s){if(!Reflect.defineProperty(this.target_,r,u))return!1}else Qn(this.target_,r,u);this.values_.set(r,new $n(i)),this.notifyPropertyAddition_(r,void 0)}finally{nn()}return!0},t.delete_=function(r,i){if(i===void 0&&(i=!1),this.keysAtom_,!yr(this.target_,r))return!0;if(Xt(this)){var s=Yt(this,{object:this.proxy_||this.target_,name:r,type:V2});if(!s)return null}try{var o;tn();var a=En(this),l=!1,u=this.values_.get(r),c=void 0;if(!u&&(a||l)){var f;c=(f=xf(this.target_,r))==null?void 0:f.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof Vi&&(c=u.value_),E8(u)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(r in this.target_),a||l){var d={type:V2,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:c,name:r};a&&On(this,d)}}finally{nn()}return!0},t.observe_=function(r,i){return $u(this,r)},t.intercept_=function(r){return Nu(this,r)},t.notifyPropertyAddition_=function(r,i){var s,o=En(this),a=!1;if(o||a){var l=o||a?{type:Wr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;o&&On(this,l)}(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),ha(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function vs(e,t){var n;if(yr(e,X))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",i=new B8(e,new Map,String(r),ck(t));return Pu(e,X,i),e}var iN=ps("ObservableObjectAdministration",B8);function H2(e){return U2[e]||(U2[e]={get:function(){return this[X].getObservablePropValue_(e)},set:function(n){return this[X].setObservablePropValue_(e,n)}})}function Id(e){return Cd(e)?iN(e[X]):!1}function K2(e,t,n){var r;(r=e.target_[Gn])==null||delete r[n]}var sN=U8(0),oN=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),Ih=0,F8=function(){};function aN(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}aN(F8,Array.prototype);var ig=function(e){function t(r,i,s,o){var a;return s===void 0&&(s="ObservableArray"),o===void 0&&(o=!1),a=e.call(this)||this,yi(function(){var l=new rg(s,i,o,!0);l.proxy_=a,r8(a,X,l),r&&r.length&&a.spliceWithArray(0,0,r),oN&&Object.defineProperty(a,"0",sN)}),a}o8(t,e);var n=t.prototype;return n.concat=function(){this[X].atom_.reportObserved();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Array.prototype.concat.apply(this.slice(),s.map(function(a){return jd(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,i=0;return Ql({next:function(){return i<r.length?{value:r[i++],done:!1}:{done:!0,value:void 0}}})},ka(t,[{key:"length",get:function(){return this[X].getArrayLength_()},set:function(i){this[X].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(F8);Object.entries(Ef).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&Pu(ig.prototype,t,n)});function U8(e){return{enumerable:!1,configurable:!0,get:function(){return this[X].get_(e)},set:function(n){this[X].set_(e,n)}}}function lN(e){Qn(ig.prototype,""+e,U8(e))}function V8(e){if(e>Ih){for(var t=Ih;t<e+100;t++)lN(t);Ih=e}}V8(1e3);function uN(e,t,n){return new ig(e,t,n)}function Af(e,t){if(typeof e=="object"&&e!==null){if(jd(e))return t!==void 0&&ae(23),e[X].atom_;if(Kn(e))return e.atom_;if(gs(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||ae(25,t,Ap(e)),n}if(Id(e)){if(!t)return ae(26);var r=e[X].values_.get(t);return r||ae(27,t,Ap(e)),r}if(Zm(e)||Rd(e)||Sf(e))return e}else if(Nn(e)&&Sf(e[X]))return e[X];ae(28)}function cN(e,t){if(e||ae(29),Zm(e)||Rd(e)||Sf(e)||gs(e)||Kn(e))return e;if(e[X])return e[X];ae(24,e)}function Ap(e,t){var n;if(t!==void 0)n=Af(e,t);else{if(Yl(e))return e.name;Id(e)||gs(e)||Kn(e)?n=cN(e):n=Af(e)}return n.name_}function yi(e){var t=ms(),n=$d(!0);tn();try{return e()}finally{nn(),Md(n),xr(t)}}var W2=Pd.toString;function sg(e,t,n){return n===void 0&&(n=-1),Pp(e,t,n)}function Pp(e,t,n,r,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var o=W2.call(e);if(o!==W2.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=G2(e),t=G2(t);var a=o==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(Nn(l)&&l instanceof l&&Nn(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var c=r.length;c--;)if(r[c]===e)return i[c]===t;if(r.push(e),i.push(t),a){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!Pp(e[c],t[c],n-1,r,i))return!1}else{var f=Object.keys(e),d;if(c=f.length,Object.keys(t).length!==c)return!1;for(;c--;)if(d=f[c],!(yr(t,d)&&Pp(e[d],t[d],n-1,r,i)))return!1}return r.pop(),i.pop(),!0}function G2(e){return jd(e)?e.slice():Ta(e)||gs(e)||lr(e)||Kn(e)?Array.from(e.entries()):e}function Ql(e){return e[Symbol.iterator]=fN,e}function fN(){return this}["Symbol","Map","Set"].forEach(function(e){var t=Qm();typeof t[e]>"u"&&ae("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ck,extras:{getDebugName:Ap},$mobx:X});let dN="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",hN=(e=21)=>{let t="",n=e;for(;n--;)t+=dN[Math.random()*64|0];return t};var ie=(e=>(e.Whole="whole",e.Half="half",e.Quarter="quarter",e.Eighth="eighth",e.Sixteenth="sixteenth",e.ThirtySecond="thirty second",e.SixtyFourth="sixty fourth",e.OneTwentyEighth="one hundred and twenty eighth",e))(ie||{});class Y{constructor(t,n){g(this,"dots");g(this,"tuplet");this.name=t,this.dots=da((n==null?void 0:n.dots)||0,0,3),this.tuplet=n==null?void 0:n.tuplet}static fromNumber(t){return new Y(Lh(t))}static fromString(t){switch(t){case"whole":return new Y("whole");case"half":return new Y("half");case"quarter":return new Y("quarter");case"8th":case"eighth":return new Y("eighth");case"16th":case"sixteenth":return new Y("sixteenth");case"32nd":case"thirty second":return new Y("thirty second");case"64th":case"sixty fourth":return new Y("sixty fourth");case"128th":case"one hundred and twenty eighth":return new Y("one hundred and twenty eighth");default:throw new Error(`unexpected input: ${t}`)}}static fromJSON(t){switch(typeof t){case"string":return Y.fromString(t);case"number":return Y.fromNumber(t);case"object":{if(t===null)throw new Error("unexpected null value");const{name:n,dots:r,tuplet:i}=t;return new Y(n,{dots:r,tuplet:i})}default:throw new Error(`unexpected input: ${t}`)}}isEqual(t){return this.name===t.name&&this.dots===t.dots&&this.tuplet===t.tuplet}dot(){return new Y(this.name,{dots:this.dots+1,tuplet:this.tuplet})}increase(){return new Y(Lh(this.toNumber()/2),{dots:this.dots,tuplet:this.tuplet})}decrease(){return new Y(Lh(2*this.toNumber()),{dots:this.dots,tuplet:this.tuplet})}withName(t){return new Y(t,{dots:this.dots,tuplet:this.tuplet})}withDots(t){return new Y(this.name,{dots:da(t,0,3),tuplet:this.tuplet})}withTuplet(t){return new Y(this.name,{dots:this.dots,tuplet:t})}toNumber(){switch(this.name){case"whole":return 1;case"half":return 2;case"quarter":return 4;case"eighth":return 8;case"sixteenth":return 16;case"thirty second":return 32;case"sixty fourth":return 64;case"one hundred and twenty eighth":return 128}}toDecimal(){let t=0;switch(this.name){case"whole":t=1;break;case"half":t=2;break;case"quarter":t=4;break;case"eighth":t=8;break;case"sixteenth":t=16;break;case"thirty second":t=32;break;case"sixty fourth":t=64;break;case"one hundred and twenty eighth":t=128;break}return this.tuplet&&(t*=this.tuplet.n,t/=this.tuplet.actual),(2-1/(1<<this.dots))/t}toJSON(){return{name:this.name,dots:this.dots,tuplet:this.tuplet}}}const Lh=e=>{switch(e){case 1:return"whole";case 2:return"half";case 4:return"quarter";case 8:return"eighth";case 16:return"sixteenth";case 32:return"thirty second";case 64:return"sixty fourth";case 128:return"one hundred and twenty eighth";default:throw new Error(`unexpected input: ${e}`)}};var H8=(e=>(e.A="A",e.B="B",e.C="C",e.D="D",e.E="E",e.F="F",e.G="G",e))(H8||{});const X2={C:0,D:2,E:4,F:5,G:7,A:9,B:11},Dh=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class xt{constructor(t,n,r=0){this.step=t,this.octave=n,this.alterations=r}static fromScientificNotation(t){if(X2[t[0]]===void 0)throw new Error(`first character must be one of ${Object.values(H8).join(", ")}`);let r=0,i=1;for(;i<t.length;){if(t[i]=="#")r+=1;else if(t[i]=="b")r-=1;else break;i+=1}const s=parseInt(t.slice(i));if(Number.isNaN(s))throw new Error("pitch notation must include an octave");return new xt(t[0],s,r)}static fromMidi(t){const n=t%Dh.length,r=Math.floor(t/Dh.length)-1,i=Dh[n];return new xt(i[0],r,i.length-1)}static fromJSON(t){switch(typeof t){case"string":return xt.fromScientificNotation(t);case"number":return xt.fromMidi(t);case"object":{if(t===null)throw new Error("pitch value cannot be null");if(!("step"in t)||!("octave"in t))throw new Error("pitch object must include 'step' and 'octave' properties");if(typeof t.octave!="number")throw new Error(`octave must be a number, but received "${t.octave}"`);const n="alterations"in t?Number(t.alterations):0;return new xt(t.step,t.octave,n)}default:throw new Error(`invalid pitch value: ${t}`)}}adjust(t){return xt.fromMidi(this.toMidi()+t)}toFrequency(){return 440*Math.pow(2,(this.toMidi()-69)/12)}toMidi(){return 12+this.octave*12+X2[this.step]+this.alterations}toString(t=!1){let n="";return this.alterations>0?n=(t?"":"#").repeat(this.alterations):this.alterations<0&&(n=(t?"":"b").repeat(-this.alterations)),`${this.step}${n}${this.octave}`}toJSON(){return{step:this.step,octave:this.octave,alterations:this.alterations}}}var Ne=(e=>(e.Natural="natural",e.ArtificialPlus5="artificial+5",e.ArtificialPlus7="artificial+7",e.ArtificialPlus12="artificial+12",e.Tapped="tapped",e.Pinch="pinch",e.Semi="semi",e))(Ne||{}),Pf=(e=>(e.Accentuated="accentuated",e.Marcato="marcato",e))(Pf||{}),xe=(e=>(e.Pianississimo="ppp",e.Pianissimo="pp",e.Piano="p",e.MezzoPiano="mp",e.MezzoForte="mf",e.Forte="f",e.Fortissimo="ff",e.Fortississimo="fff",e))(xe||{}),gt=(e=>(e.SlideIntoFromAbove="Slide into from above",e.SlideIntoFromBelow="Slide into from below",e.ShiftSlide="Shift slide",e.LegatoSlide="Legato slide",e.SlideOutDownwards="Slide out of downwards",e.SlideOutUpwards="Slide out of upwards",e))(gt||{});const Jf=class Jf{constructor(t){g(this,"id");g(this,"text");g(this,"pitch");g(this,"value");g(this,"placement");g(this,"accent_");g(this,"bend");g(this,"dead");g(this,"dynamic_");g(this,"ghost_");g(this,"graceNote");g(this,"hammerOnPullOff");g(this,"harmonic_");g(this,"letRing_");g(this,"palmMute");g(this,"slide");g(this,"staccato");g(this,"tie");g(this,"tremoloPicking_");g(this,"vibrato_");this.id=t.id||hN(),this.pitch=xt.fromJSON(t.pitch),this.value=new Y(t.value.name,t.value),this.placement=t.placement,this.accent_=t.accent,this.bend=t.bend,this.dead=!!t.dead,this.dynamic_=t.dynamic,this.ghost_=!!t.ghost,this.graceNote=t.graceNote&&new Jf(t.graceNote),this.hammerOnPullOff=!!t.hammerOnPullOff,this.harmonic_=t.harmonic,this.letRing_=!!t.letRing,this.palmMute=!!t.palmMute,this.slide=t.slide,this.staccato=!!t.staccato,this.tie=t.tie,this.tremoloPicking_=t.tremoloPicking&&new Y(t.tremoloPicking.name,t.tremoloPicking),this.vibrato_=!!t.vibrato,this.text=(()=>{let n;if(this.dead)n="x";else if(this.tie&&this.tie.previous)n="";else if(this.placement)n=this.placement.fret.toString();else return"";return this.ghost&&(n=`(${n})`),n})()}static track(t){const n=this.noteMapping.get(t.id);if(!n){this.noteMapping.set(t.id,new WeakRef(t));return}if(n.deref()!==t)throw new Error("two notes have the same id")}static untrack(t){this.noteMapping.delete(t)}static clear(){this.noteMapping.clear()}static resolve(t){var n;return((n=this.noteMapping.get(t))==null?void 0:n.deref())??void 0}get vibrato(){return!!this.get("vibrato_")}get letRing(){return!!this.get("letRing_")}get tremoloPicking(){return this.get("tremoloPicking_")}get ghost(){return!!this.get("ghost_")}get harmonic(){return this.get("harmonic_")}get accent(){return this.get("accent_")}get dynamic(){return this.get("dynamic_")}get harmonicString(){if(!this.harmonic)return"";switch(this.harmonic){case"natural":return"N.H.";case"artificial+5":return"A.H.";case"artificial+7":return"A.H.";case"artificial+12":return"A.H.";case"tapped":return"T.H.";case"pinch":return"P.H.";case"semi":return"S.H."}}get rootTieNote(){var t;return(t=this.tie)!=null&&t.previous?this.tie.previous.note.rootTieNote:this}withChanges(t){return{...this,...t,id:void 0}}toString(){return this.text}get(t,n=!1){var r;if(!n||!this.tie||this.tie.type=="start"){const i=this[t];if(i)return i}if((r=this.tie)!=null&&r.previous)return this.tie.previous.note.get(t,n)}};g(Jf,"noteMapping",new Map);let qt=Jf;const pN=(e,t)=>{if(!("prototype"in t)||t.prototype==Object){if("type"in t&&typeof t.type=="string"){const n=e[t.type];if(!n)throw new Error(`No constructor found for "${t.type}"`);return t instanceof n?t:new n(t)}throw new Error(`Received POJO without a valid type discriminator. Valid types: ${Object.keys(e).join(", ")}`)}if(Object.values(e).some(n=>t instanceof n))return t;throw new Error(`Received unexpected object (received: ${t.constructor.name}, expected: ${Object.keys(e).join(", ")})`)},Ld=(e,t)=>(t??[]).map(n=>n instanceof e?n:new e(n));var $i=(e=>(e.Up="Up",e.Down="Down",e))($i||{}),Bc=(e=>(e.Tap="Tap",e.Slap="Slap",e.Pop="Pop",e))(Bc||{});class K8{constructor(t){g(this,"value_");g(this,"notes_");g(this,"text_");g(this,"tapped_");g(this,"stroke_");g(this,"chordDiagram_");this.value_=Y.fromJSON(t.value),this.notes_=Ld(qt,t.notes),this.text_=t.text,this.tapped_=t.tapped,this.stroke_=t.stroke,this.chordDiagram_=t.chordDiagram,vi(this,void 0,{deep:!0}),this.notes_.forEach(n=>qt.track(n))}get value(){return this.value_}get notes(){return this.notes_}get text(){return this.text_}get tapped(){return this.tapped_}get stroke(){return this.stroke_}get chordDiagram(){return this.chordDiagram_}get rest(){return this.notes_.length==0}removeNote(t){const n=this.notes.findIndex(r=>{var i,s;return((i=r.placement)==null?void 0:i.string)==((s=t.placement)==null?void 0:s.string)});n>=0&&(this.notes_.splice(n,1),qt.untrack(t.id))}setValue(t){this.value_=t}noteByString(t){return this.notes.find(n=>{var r;return((r=n.placement)==null?void 0:r.string)==t})}changeNote(t){const n=new qt(t);qt.track(n);const r=this.notes.findIndex(i=>{var s,o;return((s=i.placement)==null?void 0:s.string)==((o=n.placement)==null?void 0:o.string)});if(r>=0){const i=this.notes[r];return this.notes_[r]=n,i}this.notes_.push(n)}toJSON(){return{value:this.value_,notes:this.notes_,text:this.text_,tapped:this.tapped_,stroke:this.stroke_,chordDiagram:this.chordDiagram_}}}let W8=class{constructor(t){g(this,"midiPreset");g(this,"volume");this.midiPreset=t.midiPreset,this.volume=t.volume,Na(this,{midiPreset:!0,volume:!0})}};class is extends W8{constructor(n){super(n);g(this,"type","percussion");Na(this,{})}}class ys extends W8{constructor(n){super(n);g(this,"type","string");g(this,"tuning");this.tuning=n.tuning.map(r=>xt.fromJSON(r)),Na(this,{tuning:!0})}}let pa=class G8{constructor(t,n){this.value=t,this.count=n}static fromJSON(t){if(typeof t=="object"&&t!==null){const{value:n,count:r}=t;return new G8(Y.fromJSON(n),r)}throw new Error("Invalid TimeSignature value")}toDecimal(){return this.count*this.value.toDecimal()}toBeat(){switch(this.value.name){case ie.Eighth:if(this.count%3===0)return{value:this.value,count:this.count/3};default:return{value:this.value,count:1}}}isEqual(t){return this.count===t.count&&this.value.isEqual(t.value)}toJSON(){return{value:this.value.toJSON(),count:this.count}}},Mu=class{constructor(t){g(this,"number");g(this,"chords");g(this,"staffDetails");g(this,"marker");this.number=t.number,this.chords=Ld(K8,t.chords),this.staffDetails={...t.staffDetails,time:t.staffDetails.time&&{changed:t.staffDetails.time.changed,value:pa.fromJSON(t.staffDetails.time.value)}},this.marker=t.marker,vi(this,void 0,{deep:!0})}get isValid(){if(!this.staffDetails.time)return!1;const t=this.chords.reduce((r,i)=>r+i.value.toDecimal(),0),n=this.staffDetails.time.value.toDecimal();return Math.abs(t-n)<1e-10}addChord(t){this.chords.push(t)}removeChord(t){const n=this.chords.indexOf(t);n>=0&&this.chords.splice(n,1)}setTimeSignature(t){this.staffDetails.time=t}toJSON(){return{number:this.number,chords:this.chords,staffDetails:this.staffDetails,marker:this.marker}}},Dd=class{constructor(t){g(this,"name");g(this,"measures");g(this,"lineCount");g(this,"color");g(this,"instrument");this.name=t.name,this.lineCount=t.lineCount,this.color=t.color,this.measures=Ld(Mu,t.measures),this.instrument=pN({percussion:is,string:ys},t.instrument),vi(this,void 0,{deep:!0})}setName(t){this.name=t}addMeasure(t){this.measures.push(t)}removeMeasure(t){const n=this.measures.indexOf(t);n!==-1&&this.measures.splice(n,1)}toJSON(){return{name:this.name,measures:this.measures,lineCount:this.lineCount,color:this.color,instrument:this.instrument}}},Jl=class{constructor(t){g(this,"parts_");g(this,"comments");g(this,"title");g(this,"subTitle");g(this,"artist");g(this,"album");g(this,"composer");g(this,"copyright");g(this,"transcriber");g(this,"instructions");this.parts_=Ld(Dd,t==null?void 0:t.parts),this.comments=t==null?void 0:t.comments,this.title=t==null?void 0:t.title,this.subTitle=t==null?void 0:t.subTitle,this.artist=t==null?void 0:t.artist,this.album=t==null?void 0:t.album,this.composer=t==null?void 0:t.composer,this.copyright=t==null?void 0:t.copyright,this.transcriber=t==null?void 0:t.transcriber,this.instructions=t==null?void 0:t.instructions,vi(this,void 0,{deep:!0})}get parts(){return this.parts_}addPart(t,n){return n===void 0?(this.parts_.push(t),this.parts.length-1):(this.parts_.splice(n,0,t),n)}removePart(t){const n=this.parts.indexOf(t);n>=0&&this.parts_.splice(n,1)}toJSON(){return{parts:this.parts,comments:this.comments,title:this.title,subTitle:this.subTitle,artist:this.artist,album:this.album,composer:this.composer,copyright:this.copyright,transcriber:this.transcriber,instructions:this.instructions}}};function mN(e,t){return{value:e??t,changed:!!e&&e!==t}}class og extends Ze{constructor(n){super((n==null?void 0:n.box)??R.empty());g(this,"children",[]);g(this,"stretchFactors",[]);g(this,"originalBoxes",[]);g(this,"defaultStretchFactor");g(this,"gap");g(this,"wrap");g(this,"mainAxisSpaceDistribution");g(this,"crossAxisAlignment");g(this,"startAttribute");g(this,"dimensionAttribute");g(this,"endAttribute");this.gap=(n==null?void 0:n.gap)??0,this.defaultStretchFactor=(n==null?void 0:n.defaultStretchFactor)??1,(n==null?void 0:n.axis)=="vertical"?(this.startAttribute={main:"y",cross:"x"},this.dimensionAttribute={main:"height",cross:"width"},this.endAttribute="bottom"):(this.startAttribute={main:"x",cross:"y"},this.dimensionAttribute={main:"width",cross:"height"},this.endAttribute="right"),this.mainAxisSpaceDistribution=(n==null?void 0:n.mainAxisSpaceDistribution)??"start",this.crossAxisAlignment=(n==null?void 0:n.crossAxisAlignment)??"start",this.wrap=(n==null?void 0:n.wrap)??!1}addElement(n,r=this.defaultStretchFactor){const i=Gl(this.children);i?n.box[this.startAttribute.main]=i.box[this.endAttribute]+this.gap:n.box[this.startAttribute.main]=0,n.parent=this,this.children.push(n),this.stretchFactors.push(r),this.originalBoxes.push(n.box)}tryAddElement(n,r=this.defaultStretchFactor){const i=Gl(this.children);return i&&i.box[this.endAttribute]+this.gap+n.box[this.dimensionAttribute.main]>this.box[this.dimensionAttribute.main]?!1:(this.addElement(n,r),!0)}layout(){var i;if(this.children.length==0)return;let n=0,r=0;for(;n<this.children.length;){const s=n;if(this.wrap){let f=this.box[this.dimensionAttribute.main];for(;f>0&&n<this.children.length;){const d=this.children[n];d.box=this.originalBoxes[n].clone();const h=d.box[this.dimensionAttribute.main];if(n==s)f-=h;else if(h+this.gap<=f)f-=h+this.gap;else break;n+=1}}else n=this.children.length;const o=this.children.slice(s,n).reduce((f,d)=>f+d.box[this.dimensionAttribute.main],0),a=this.box[this.dimensionAttribute.main]-o-(n-s-1)*this.gap;let l=this.stretchFactors.slice(s,n).reduce((f,d)=>f+d,0),u;if(l==0){switch(this.mainAxisSpaceDistribution){case"start":u=0;break;case"center":u=.5*a;break;case"end":u=a;break}l=1}else u=0;let c=0;for(let f=s;f<n;++f){const d=this.children[f],h=this.stretchFactors[f];d.box[this.startAttribute.main]=u,d.box[this.dimensionAttribute.main]+=a*(h/l),(i=d.layout)==null||i.call(d),u+=d.box[this.dimensionAttribute.main]+this.gap,c=Math.max(c,d.box[this.dimensionAttribute.cross])}for(let f=s;f<n;++f){const d=this.children[f];let h;switch(this.crossAxisAlignment){case"start":h=0;break;case"center":h=.5*(c-d.box[this.dimensionAttribute.cross]);break;case"end":h=c-d.box[this.dimensionAttribute.cross];break}d.box[this.startAttribute.cross]=r+h}r+=c+this.gap}this.box[this.dimensionAttribute.cross]=r-this.gap}}class Zl extends og{constructor(){super(...arguments);g(this,"type","Group")}}let zh=class extends Ze{constructor(n,r){super(new R(0,0,bu(4),r*$));g(this,"type","Rest");this.chord=n}};class Gt extends Ze{constructor(){super(...arguments);g(this,"type","Space")}static fromDimensions(n,r){return new Gt(new R(0,0,n,r))}}let gN=class extends Ze{constructor(n){const r=Math.floor(Math.log10(n.count))+1,i=Math.floor(Math.log10(n.value.toNumber()))+1,s=$*2*Math.max(r,i),o=4*be;super(new R(0,0,s,4*$+o));g(this,"type","TimeSignature");this.timeSignature=n}};const vN=5,X8=6;class Cf extends og{constructor(n,r){var a;super({box:R.empty(),axis:"horizontal",crossAxisAlignment:"center",defaultStretchFactor:0});g(this,"type","Measure");g(this,"chords",[]);this.part=n,this.measure=r;const i=r.chords.length==1&&r.chords[0].rest&&r.chords[0].value.name==ie.Whole,s=2*$,o=X8/2;this.box.height=n.lineCount*$,this.addElement(Gt.fromDimensions(.5*$,s),0),(a=r.staffDetails.time)!=null&&a.changed&&this.addElement(new gN(r.staffDetails.time.value)),i?this.addElement(Gt.fromDimensions(4*o,s),1):this.addElement(Gt.fromDimensions(o,s));for(const l of r.chords){let u=yN(l.value);if(l.rest)this.addElement(new zh(l,n.lineCount));else{const c=ca(l.notes,f=>f.bend?2+Math.sqrt(f.bend.points.length-2):1)??1;u*=c,this.addElement(new en(l,n.lineCount))}i?this.addElement(Gt.fromDimensions(4*o,s),1):this.addElement(Gt.fromDimensions(u,s),u)}this.addElement(Gt.fromDimensions(.5*$,s),0)}get valid(){return this.measure.isValid}tryAddElement(n,r){const i=super.tryAddElement(n,r);return i&&((n instanceof zh||n instanceof en)&&this.chords.push(n),this.box.width+=n.box.width),i}addElement(n,r){super.addElement(n,r),(n instanceof zh||n instanceof en)&&this.chords.push(n),this.box.width+=n.box.width}}function yN(e){return Math.max(vN,X8*(5*e.toDecimal()))}class xN extends Mm{constructor(n){super(n==null?void 0:n.box);g(this,"type","Group");g(this,"constraints",[]);g(this,"leftEdges",[]);g(this,"gap");this.gap=(n==null?void 0:n.gap)??0}addElement(n,r){n.parent=this,this.children.push(n),this.constraints.push(r)}reset(){super.reset(),this.constraints.length=0,this.leftEdges.length=0}setRightEdges(n){this.leftEdges=[0,...n.slice(0,-1)],this.box.width=Gl(n)??0}layout(){let n=0;for(const r of this.determineRows()){const i=ca(r.elements,s=>s[0].box.height)??0;for(const[s,o]of r.elements)switch(o.valign){case void 0:s.box.y=n,s.box.height=i;break;case"start":s.box.y=n;break;case"center":s.box.y=n+.5*(i-s.box.height);break;case"end":s.box.y=n+i-s.box.height;break}n+=i+this.gap}this.box.x=0,this.box.y=0,this.box.height=n-this.gap}newRow(){return{columnAvailability:new Array(this.leftEdges.length).fill(!0),elements:[]}}addElementToRow(n,r,i){var a;const s=this.leftEdges[i.endColumn+1]??this.box.width,o=this.leftEdges[i.startColumn];switch(i.halign){case void 0:r.box.x=o,r.box.width=s-o;break;case"start":r.box.x=o;break;case"center":r.box.x=.5*(s+o-r.box.width);break;case"end":r.box.x=s-r.box.width;break}(a=r.layout)==null||a.call(r),n.columnAvailability.fill(!1,i.startColumn,i.endColumn+1),n.elements.push([r,i])}determineRows(){const n=q5(this.children,this.constraints);n.sort(([s,o],[a,l])=>{const u=o.mustBeBottomRow,c=l.mustBeBottomRow;if(u!=c)return u?-1:1;const f=o.group,d=l.group;return f?d?f.localeCompare(d):-1:d?1:0});const r=this.newRow(),i=[];for(const[s,o]of n){if(o.mustBeBottomRow){this.addElementToRow(r,s,o);continue}const a=o.startColumn,l=o.endColumn+1;let u=i.find(c=>xC(c.columnAvailability.slice(a,l)));u||(u=this.newRow(),i.push(u)),this.addElementToRow(u,s,o)}return[...i.reverse(),r]}}let bN=class extends Ze{constructor(n){super(new R(0,0,bu(1),$));g(this,"type","Stroke");this.stroke=n}},wN=class extends Ze{constructor(){super(new R(0,0,0,$));g(this,"type","Vibrato")}};class _N extends xN{constructor(){super(...arguments);g(this,"showChordDiagrams",!1);g(this,"staffElements",[])}setStaffElements(n){this.staffElements=n}layout(){this.reset(),this.layOutSimpleAboveStaffElements(),this.layOutBends();const n=.8*$,r=(s,o)=>o>1?new J5(new R(0,0,0,n),s,n,{end:{downTick:!0,upTick:!0,dashed:!0}}):new ke({box:new R(0,0,0,n),size:n,value:s,style:{textAlign:"left",verticalAlign:"middle"}});this.addInterMeasureStaffDecorations(s=>s.notes.some(o=>o.palmMute),(s,o)=>r("P.M.",o)),this.addInterMeasureStaffDecorations(s=>{var o;return(o=s.notes.find(a=>a.harmonic))==null?void 0:o.harmonicString},(s,o)=>r(s,o)),this.addInterMeasureStaffDecorations(s=>s.notes.some(o=>o.letRing),(s,o)=>r("let ring",o)),this.addInterMeasureStaffDecorations(s=>s.notes.some(o=>o.vibrato),(s,o)=>new wN,{includeChordSpacer:!0}),this.addIntraMeasureAboveStaffDecorations();const i=this.staffElements.map(({element:s,measure:o})=>o.box.x+s.box.x);this.setRightEdges(i),super.layout()}addInterMeasureStaffDecorations(n,r,i){let s,o,a=0,l=0;for(let u=0;u<this.staffElements.length;++u){const c=this.staffElements[u].element;if(c instanceof Gt)continue;let f;c instanceof en&&(f=n(c.chord)),f?o===void 0?(o=u+1,s=f):l+=1:typeof o=="number"&&(s&&this.addElement(r(s,l+1),{startColumn:o,endColumn:a}),o=void 0,s=void 0,l=0),a=u+(i!=null&&i.includeChordSpacer?2:1)}typeof o=="number"&&s&&this.addElement(r(s,l),{startColumn:o,endColumn:a,group:i==null?void 0:i.group})}addIntraMeasureAboveStaffDecorations(){var s;const n=.8*$,r=$,i=$;for(let o=0;o<this.staffElements.length;){const a=this.staffElements[o].measure.measure;for(this.addElement(new ke({value:a.number.toString(),size:n,style:{userSelect:"none",color:"#888888",textAlign:o==0?"left":"center",verticalAlign:"bottom"}}),{mustBeBottomRow:!0,startColumn:o,endColumn:o+1}),(s=a.staffDetails.tempo)!=null&&s.changed&&this.addElement(new ke({size:r,value:`${a.staffDetails.tempo.value}`,style:{userSelect:"none",fontWeight:"bold",backgroundColor:"#ffffff"}}),{startColumn:o+1,endColumn:o+2}),a.marker&&this.addElement(new ke({size:i,value:a.marker.text,style:{fontWeight:"bold",fill:a.marker.color,backgroundColor:"#ffffff"}}),{startColumn:o+1,endColumn:o+2});o<this.staffElements.length;++o){const l=this.staffElements[o];if(l.measure.measure.number!=a.number)break;const u=l.element;if(!(u instanceof en))continue;if(u.chord.chordDiagram){const d=u.chord.chordDiagram;this.addElement(new Ad(d,this.showChordDiagrams),{startColumn:o+1,endColumn:o+1,group:"chords"})}if(u.chord.text&&this.addElement(new ke({size:i,value:u.chord.text,style:{fontStyle:"italic"}}),{startColumn:o+1,endColumn:o+2,group:"lyricsAndText"}),u.chord.notes.find(d=>d.tremoloPicking)){const d=3*ct,h=.5*ct,v=1.2*bu(1),x=new R(0,0,v,d+2*(ct+h)),b=new yd(x);for(let m=0,p=0;m<3;p+=1.2*ct+h,++m)b.addElement(new I4(new R(0,p,v,d),1.2*ct));this.addElement(b,{startColumn:o+1,endColumn:o+1})}const f=u.chord.notes.find(d=>d.accent);if(f&&f.accent){let d;switch(f.accent){case Pf.Accentuated:d="";break;case Pf.Marcato:d="";break}if(d){const h=i*1.5;this.addElement(new ke({size:h,value:d}),{startColumn:o+1,endColumn:o+1})}}}}}layOutBends(){this.staffElements.forEach(({element:n},r)=>{if(n instanceof en)for(const i of n.chord.notes)i.bend&&this.addElement(new G7(i.bend,i),{startColumn:r+1,endColumn:r+2,mustBeBottomRow:!0})})}layOutSimpleAboveStaffElements(){this.staffElements.forEach(({element:n},r)=>{n instanceof en&&(n.chord.stroke&&this.addElement(new bN(n.chord.stroke),{startColumn:r+1,endColumn:r+1,halign:"center",valign:"end"}),n.chord.tapped&&this.addElement(new ke({box:new R(0,0,0,$),size:$,value:"T",style:{textAlign:"center"}}),{startColumn:r+1,endColumn:r+1}))})}}class SN extends yd{constructor(){super(...arguments);g(this,"measures",[])}setMeasures(n){this.measures=n}layout(){this.reset();for(const n of this.measures)this.stemAndBeam(n);super.layout()}stemAndBeam(n){const r=this.groupElementsOnBeat(n.measure,n.children);for(const i of r)i[0]&&(this.layOutStems(n.box,i),this.layOutBeams(n.box,i),this.layOutDots(n.box,i),this.layOutTuplets(n.box,i))}numBeams(n){switch(n.chord.value.name){case ie.Whole:return-2;case ie.Half:return-1;case ie.Quarter:return 0;case ie.Eighth:return 1;case ie.Sixteenth:return 2;case ie.ThirtySecond:return 3;case ie.SixtyFourth:return 4;case ie.OneTwentyEighth:return 5}}layOutStems(n,r){for(const i of r){if(!(i instanceof en)||i.chord.value.name===ie.Whole)continue;const s=this.numBeams(i)<0?$*2:$,o=new Kr(new R(n.x+i.box.centerX,s,0,lc-s));o.style.stroke=K7,this.addElement(o)}}layOutDots(n,r){for(const i of r)if(i.chord.value.dots>0){let s=lc-gp;this.numBeams(i)>0&&(s-=ct*this.numBeams(i),s-=.5*ct*(this.numBeams(i)-1)),this.addElement(new gT(n.x+i.box.centerX,s))}}layOutTuplets(n,r){const i=o=>{var l;const a=o.notes.find(u=>{var c;return(c=u.value.tuplet)==null?void 0:c.n});return(l=a==null?void 0:a.value.tuplet)==null?void 0:l.n},s=Qv(r,o=>i(o.chord));for(const[o,a,l]of s){const u=lc+ct,c=r[o];if(o==a)this.addElement(ke.centered({box:new R(n.x+c.box.x,u,c.box.width,Es),value:String(l),size:Es}));else if(l==a-o+1&&l==r.length){const f=r[a].box.centerX-c.box.centerX;this.addElement(ke.centered({box:new R(n.x+c.box.centerX,u,f,Es),value:String(l),size:Es}))}else{const f=6*be,d=r[a].box.centerX-c.box.centerX+f;this.addElement(new J5(new R(n.x+c.box.centerX-.5*f,u,d,Es),String(l),Es,{start:{upTick:!0},end:{upTick:!0}}))}}}layOutBeams(n,r){let i=lc-ct;const s=r.map(o=>this.numBeams(o));for(;;){const o=Qv(s,a=>a>0?!0:void 0);if(o.length===0)break;for(const[a,l]of o){let u=n.x+r[a].box.centerX,c=n.x+r[l].box.centerX;a===l&&(a==0?c+=2*ct:u-=2*ct),this.addElement(new I4(new R(u,i,c-u,ct)))}i-=1.5*ct,s.forEach((a,l)=>--s[l])}}groupElementsOnBeat(n,r){var u;let i=.25;const s=(u=n.staffDetails.time)==null?void 0:u.value.toBeat();s&&(i=s.value.toDecimal()*s.count);const o=[];let a=[],l=i;for(const c of r){if(!(c instanceof en))continue;const f=c.chord.value.toDecimal();if(l-=f,l<0){for(;l<0;)l+=i;a.length===0&&a.push(c),o.push(a),a=[]}a.push(c)}return a.length>0&&o.push(a),o}}class EN extends Tr{constructor(n,r){super(n);g(this,"type","Slide");this.upwards=r;let i;r?i=new Kr(new R(0,0,n.width,n.height)):i=new Kr(new R(n.width,n.height,0,0)),i.style.stroke="#555555",this.addElement(i),this.addElement(new jc(new R(-.5*$,-$,n.width+$,.8*$),"above"))}layout(){}}class ON extends yd{constructor(){super(...arguments);g(this,"staffElements",[])}setStaffElements(n){this.staffElements=n}layout(){this.layOutTies(),this.layOutSlides(),this.layOutHammerOnPullOffs(),super.layout()}layOutHammerOnPullOffs(){this.staffElements.forEach(({element:n,measure:r},i)=>{var s;if(n instanceof en)for(const o of n.chord.notes){if(!o.hammerOnPullOff)continue;const a=r.box.x+n.box.centerX;let l=i+1,u=$;if(l<this.staffElements.length){u=.5*n.box.width;do{const c=this.staffElements[l].element;if(c.type==="Chord"){u+=.5*c.box.width;break}l+=1,u+=c.box.width}while(l<this.staffElements.length)}this.addElement(new jc(new R(a,r.box.y+n.box.y+$*((((s=o.placement)==null?void 0:s.string)||1)-1.6),u,.7*$),"above"))}})}layOutSlides(){const n=be*3;this.staffElements.forEach(({element:r,measure:i},s)=>{var o;if(r instanceof en)for(const a of r.chord.notes){if(!a.slide)continue;let l,u;switch(a.slide.type){case gt.ShiftSlide:case gt.LegatoSlide:{l=i.box.x+r.box.right;let c=s+1;if(c==this.staffElements.length)u=$;else{u=0;do{const f=this.staffElements[c].element;if(f.type==="Chord")break;c+=1,u+=f.box.width}while(c<this.staffElements.length)}break}case gt.SlideIntoFromAbove:case gt.SlideIntoFromBelow:{u=$,l=i.box.x+r.box.x-u;break}case gt.SlideOutDownwards:case gt.SlideOutUpwards:{l=i.box.x+r.box.right,u=$;break}}this.addElement(new EN(new R(l,i.box.y+r.box.y+$*((((o=a.placement)==null?void 0:o.string)||1)-1)+n,u,$-2*n),a.slide.upwards))}})}layOutTies(){const n=this.staffElements.filter(({element:r})=>r instanceof en);n.forEach(({element:r,measure:i},s)=>{var o,a,l,u;for(const c of r.chord.notes)if((o=c.tie)!=null&&o.previous&&s===0&&this.addElement(new jc(new R(i.box.x,i.box.y+r.box.y+$*(((a=c.placement)==null?void 0:a.string)||1),$,.5*$))),(l=c.tie)!=null&&l.next){let f;for(let v=s+1;v<n.length;++v)if(n[v].element.chord==c.tie.next.chord){f=n[v];break}const d=i.box.x+r.box.centerX;let h;f?h=f.measure.box.x+f.element.box.centerX-d:h=this.box.right-d,this.addElement(new jc(new R(d,i.box.y+r.box.y+$*(((u=c.placement)==null?void 0:u.string)||1),h,.5*$)))}})}}class ma extends Tr{constructor(n,r=6){super(n);g(this,"type","PageLine");g(this,"aboveStaffLayout");g(this,"staffLayout");g(this,"belowStaff");g(this,"staffLines",[]);g(this,"staffOverlay");g(this,"dirty",!0);g(this,"measures",[]);g(this,"gridLayoutElements",Au(()=>this.measures.flatMap(n=>n.children.map(r=>({element:r,measure:n})))));this.numStaffLines=r,this.staffOverlay=new ON,this.aboveStaffLayout=new _N({gap:$*.25}),this.staffLayout=new Zl({box:n.clone(),crossAxisAlignment:"center"}),this.belowStaff=new SN,this.initializeElements()}addBarLine(){this.addElement(new W7(this.numStaffLines||6),0)}reset(){super.reset(),this.measures=[]}initializeElements(){this.staffLines=ze(this.numStaffLines).map(n=>{const r=new Kr(R.empty());return r.style.stroke="#888888",super.addElement(r),r}),super.addElement(this.staffOverlay),super.addElement(this.aboveStaffLayout),super.addElement(this.staffLayout),super.addElement(this.belowStaff),this.addBarLine(),this.addElement(this.createTabGroup(),0)}addElement(n,r){return n instanceof Cf&&this.measures.push(n),this.dirty=!0,this.staffLayout.addElement(n,r)}tryAddElement(n,r){const i=this.staffLayout.tryAddElement(n,r);return i&&n instanceof Cf&&this.measures.push(n),this.dirty||(this.dirty=i),i}layout(){if(!this.dirty)return;this.staffLayout.layout(),this.staffLayout.box.height=ca(this.staffLayout.children,r=>r.box.height)??0;const n=this.gridLayoutElements();this.staffOverlay.setStaffElements(n),this.staffOverlay.reset(),this.staffOverlay.box=this.staffLayout.box.clone(),this.aboveStaffLayout.setStaffElements(n),this.belowStaff.setMeasures(this.measures),this.staffOverlay.layout(),this.aboveStaffLayout.layout(),this.belowStaff.layout(),this.staffLayout.box.y=this.aboveStaffLayout.box.bottom,this.belowStaff.box.y=this.staffLayout.box.bottom,this.staffOverlay.box.y=this.staffLayout.box.y,this.staffLines.forEach((r,i)=>{r.box.width=this.box.width,r.box.y=this.staffLayout.box.y+(i+.5)*$}),this.box.width=ca(this.children,r=>r.box.width)??0,this.box.height=this.belowStaff.box.bottom,this.dirty=!1}createTabGroup(){const n=.25*this.numStaffLines*$,r=2*$,i=new Zl({box:new R(0,.5*$,r,$*(this.numStaffLines-1)),axis:"vertical",mainAxisSpaceDistribution:"center",defaultStretchFactor:0});for(const s of["T","A","B"])i.addElement(ke.centered({box:new R(0,0,r,n),size:n,value:s,style:{userSelect:"none"}}));return i}}let Y8=class extends Ze{constructor(n,r=pt){super(n);g(this,"type","Page");g(this,"content");const i=n.width-r.left-r.right,s=n.height-r.top-r.bottom,o=new R(r.left,r.top,i,s);this.content=new Zl({box:o,axis:"vertical",gap:H7}),this.content.parent=this,this.children=[this.content]}layout(){this.content.layout()}get lines(){return this.content.children.filter(n=>n instanceof ma)}get measures(){return this.content.children.flatMap(n=>n instanceof ma?n.measures:[])}};const Wa=12;class ag extends Tr{constructor(n,r,i){super(n);g(this,"type","Part");g(this,"measures",[]);this.part=r,this.context=i}layout(){this.context.layoutMode==="compact"?(this.children.reduce((n,r)=>(r.layout(),r.box.x=0,r.box.y=n,n+r.box.height),0),this.box=R.encompass(...this.children.map(n=>n.box))):(this.children.reduce((n,r)=>(r.layout(),r.box.x=Wa,r.box.y=n,n+r.box.height+Wa),Wa),this.box=R.encompass(...this.children.map(n=>n.box)),this.box.x=0,this.box.y=0,this.box.width+=2*Wa,this.box.height+=2*Wa)}}class q8 extends og{constructor(n,r,i,s){const o=s.layoutMode==="compact"?.8*$:$;super({box:new R(0,0,i,0),axis:"vertical",defaultStretchFactor:0,gap:.5*o});g(this,"type","Group");g(this,"summarizeChords",!0);if(this.score=n,this.part=r,this.contentWidth=i,this.context=s,n.title){const a=4*o;this.addElement(ke.boundText(n,"title",{box:new R(0,0,i,1.5*a),size:a,style:{textAlign:"center",verticalAlign:"middle",fontFamily:Vn}}))}if(n.artist){const a=2*o;this.addElement(ke.boundText(n,"artist",{box:new R(0,0,i,1.5*a),size:a,style:{textAlign:"center",verticalAlign:"middle",fontFamily:Vn,fontWeight:"bold"}}))}if(n.album){const a=1.5*o;this.addElement(ke.boundText(n,"album",{box:new R(0,0,i,2*a),size:a,style:{textAlign:"center",verticalAlign:"middle",fontFamily:Vn}}))}if(n.comments){const a=1.2*o,l=n.comments.split(`
`).length;this.addElement(ke.boundText(n,"comments",{box:new R(0,0,i,a*l),size:a,style:{textAlign:"center",verticalAlign:"middle",fontFamily:Vn,fontStyle:"italic"}}))}if(n.composer){const a=1.25*o;this.addElement(new ke({box:new R(0,0,i,1.4*a),size:a,value:n.composer.includes(" by ")?n.composer:`Composed by ${n.composer}`,style:{textAlign:"right",verticalAlign:"middle",fontFamily:Vn}}))}if(n.transcriber&&n.transcriber!=n.composer){const a=1.25*o;this.addElement(new ke({box:new R(0,0,i,1.4*a),size:a,value:n.transcriber.includes(" by ")?n.transcriber:`Transcribed by ${n.transcriber}`,style:{textAlign:"right",verticalAlign:"middle",fontFamily:Vn}}))}if(this.addElement(Gt.fromDimensions(i,o)),this.maybeAddChordDiagrams(),r.instrument instanceof ys){const a=new Zl({box:new R(0,0,i,0),axis:"vertical",crossAxisAlignment:"start",gap:0,defaultStretchFactor:0}),l=o,u=["","","","","","",""].slice(0,r.lineCount).reverse(),c=r.instrument.tuning.map((d,h)=>new ke({box:new R(0,0,l*5,l*1.3),size:l,value:`${u[h]} = ${d}`,style:{verticalAlign:"middle",fontFamily:Vn}})),f=Math.round(c.length/2);for(let d=0;d<f;++d){const h=new yd;if(h.addElement(c[d]),f+d<c.length){const v=c[f+d];v.box.x=l*5,h.addElement(v)}a.box.height+=c[d].box.height,a.addElement(h)}a.layout(),this.addElement(a)}}maybeAddChordDiagrams(){if(!this.summarizeChords)return;const n=this.part.measures.flatMap(s=>Kl(s.chords.map(o=>{var a;return(a=o.chordDiagram)!=null&&a.diagram?o.chordDiagram:null})));if(n.length==0)return;const r=Y5(n,s=>JSON.stringify(s)),i=new Zl({box:new R(0,0,this.contentWidth,1),gap:.5*gr,defaultStretchFactor:0,axis:"horizontal",mainAxisSpaceDistribution:"center",wrap:!0});for(const s of r)i.addElement(new Ad(s));i.layout(),this.addElement(i)}layout(){this.box.height=this.children.reduce((n,r)=>n+r.box.height,0)+(this.children.length-1)*this.gap,super.layout()}}let AN=class extends Tr{constructor(n){super();g(this,"type","Score");g(this,"parent",null);this.score=n}layout(){super.layout(),this.box=R.encompass(...this.children.map(n=>n.box))}};const tl=(e,t)=>{var n;if(!(t!=null&&t.box.contains(e)))return null;if((n=t.children)!=null&&n.length){const r={x:e.x-t.box.x,y:e.y-t.box.y};for(let i=t.children.length-1;i>=0;--i){const s=t.children[i],o=tl(r,s);if(o)return o}}return t instanceof Mm?null:{element:t,point:e}},PN=(e,t,n)=>{const r={layoutMode:"normal",...n};console.time("layout");try{const i=new AN(e);for(const s of t){const o=CN(e,e.parts[s],r);i.addElement(o)}return i.layout(),i}finally{console.timeEnd("layout")}},CN=(e,t,n)=>{switch(n.layoutMode){case"normal":return TN(e,t,n);case"compact":return kN(e,t,n);default:throw new Error(`unknown layout style: ${n.layoutMode}`)}},TN=(e,t,n)=>{const r=t.measures,i=new ag(R.empty(),t,n),s=()=>new Y8(new R(0,0,Nm,$m));let o=s();const a=o.content.box.width,l=new q8(e,t,a,n);l.layout(),o.content.addElement(l,0);let u=!0,c=new ma(new R(0,0,a,0),t.lineCount);for(const f of r){const d=new Cf(t,f);i.measures.push(d),u?(c.addElement(d,f.chords.length),c.addBarLine(),u=!1):c.tryAddElement(d,f.chords.length)?c.addBarLine():(c.layout(),o.content.tryAddElement(c)||(i.addElement(o),o=s(),o.content.addElement(c)),c=new ma(new R(0,0,a,0),t.lineCount),c.addElement(d,f.chords.length),c.addBarLine(),u=!0)}return c.children.length>0&&(c.layout(),o.content.tryAddElement(c)||(i.addElement(o),o=s(),o.content.addElement(c))),o.content.children.length>0&&i.addElement(o),o.content.addElement(new Gt,1e5),i},kN=(e,t,n)=>{const r=t.measures,i=new ag(R.empty(),t,n),s=()=>new Y8(new R(0,0,Math.ceil(.75*Nm),$m),{top:gr/2,left:gr/2,right:gr/2,bottom:gr/2});let o=s();const a=o.content.box.width,l=new q8(e,t,a,n);l.layout(),o.content.addElement(l,0);let u=!0,c=new ma(new R(0,0,a,0),t.lineCount);for(const f of r){const d=new Cf(t,f);i.measures.push(d),u?(c.addElement(d,f.chords.length),c.addBarLine(),u=!1):c.tryAddElement(d,f.chords.length)?c.addBarLine():(c.layout(),o.content.tryAddElement(c)||(i.addElement(o),o=s(),o.content.addElement(c)),c=new ma(new R(0,0,a,0),t.lineCount),c.addElement(d,f.chords.length),c.addBarLine(),u=!0)}return c.children.length>0&&(c.layout(),o.content.tryAddElement(c)||(i.addElement(o),o=s(),o.content.addElement(c))),o.content.children.length>0&&i.addElement(o),o.content.addElement(new Gt,1e5),i},Rr=new WeakMap,Oi=new WeakMap,cr=new WeakMap;var NN={};const Tf=Symbol("anyProducer"),Y2=Promise.resolve(),kf=Symbol("listenerAdded"),Nf=Symbol("listenerRemoved");let $f=!1,Bh=!1;const Mf=e=>typeof e=="string"||typeof e=="symbol"||typeof e=="number";function As(e){if(!Mf(e))throw new TypeError("`eventName` must be a string, symbol, or number")}function hc(e){if(typeof e!="function")throw new TypeError("listener must be a function")}function Ps(e,t){const n=Oi.get(e);if(n.has(t))return n.get(t)}function xl(e,t){const n=Mf(t)?t:Tf,r=cr.get(e);if(r.has(n))return r.get(n)}function $N(e,t,n){const r=cr.get(e);if(r.has(t))for(const i of r.get(t))i.enqueue(n);if(r.has(Tf)){const i=Promise.all([t,n]);for(const s of r.get(Tf))s.enqueue(i)}}function q2(e,t){t=Array.isArray(t)?t:[t];let n=!1,r=()=>{},i=[];const s={enqueue(o){i.push(o),r()},finish(){n=!0,r()}};for(const o of t){let a=xl(e,o);a||(a=new Set,cr.get(e).set(o,a)),a.add(s)}return{async next(){return i?i.length===0?n?(i=void 0,this.next()):(await new Promise(o=>{r=o}),this.next()):{done:!1,value:await i.shift()}:{done:!0}},async return(o){i=void 0;for(const a of t){const l=xl(e,a);l&&(l.delete(s),l.size===0&&cr.get(e).delete(a))}return r(),arguments.length>0?{done:!0,value:await o}:{done:!0}},[Symbol.asyncIterator](){return this}}}function Q2(e){if(e===void 0)return J2;if(!Array.isArray(e))throw new TypeError("`methodNames` must be an array of strings");for(const t of e)if(!J2.includes(t))throw typeof t!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${t} is not Emittery method`);return e}const Ms=e=>e===kf||e===Nf;function pc(e,t,n){if(Ms(t))try{$f=!0,e.emit(t,n)}finally{$f=!1}}class ss{static mixin(t,n){return n=Q2(n),r=>{if(typeof r!="function")throw new TypeError("`target` must be function");for(const o of n)if(r.prototype[o]!==void 0)throw new Error(`The property \`${o}\` already exists on \`target\``);function i(){return Object.defineProperty(this,t,{enumerable:!1,value:new ss}),this[t]}Object.defineProperty(r.prototype,t,{enumerable:!1,get:i});const s=o=>function(...a){return this[t][o](...a)};for(const o of n)Object.defineProperty(r.prototype,o,{enumerable:!1,value:s(o)});return r}}static get isDebugEnabled(){if(typeof NN!="object")return Bh;const{env:t}=globalThis.process??{env:{}};return t.DEBUG==="emittery"||t.DEBUG==="*"||Bh}static set isDebugEnabled(t){Bh=t}constructor(t={}){Rr.set(this,new Set),Oi.set(this,new Map),cr.set(this,new Map),cr.get(this).set(Tf,new Set),this.debug=t.debug??{},this.debug.enabled===void 0&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(n,r,i,s)=>{try{s=JSON.stringify(s)}catch{s=`Object with the following keys failed to stringify: ${Object.keys(s).join(",")}`}(typeof i=="symbol"||typeof i=="number")&&(i=i.toString());const o=new Date,a=`${o.getHours()}:${o.getMinutes()}:${o.getSeconds()}.${o.getMilliseconds()}`;console.log(`[${a}][emittery:${n}][${r}] Event Name: ${i}
	data: ${s}`)})}logIfDebugEnabled(t,n,r){(ss.isDebugEnabled||this.debug.enabled)&&this.debug.logger(t,this.debug.name,n,r)}on(t,n){hc(n),t=Array.isArray(t)?t:[t];for(const r of t){As(r);let i=Ps(this,r);i||(i=new Set,Oi.get(this).set(r,i)),i.add(n),this.logIfDebugEnabled("subscribe",r,void 0),Ms(r)||pc(this,kf,{eventName:r,listener:n})}return this.off.bind(this,t,n)}off(t,n){hc(n),t=Array.isArray(t)?t:[t];for(const r of t){As(r);const i=Ps(this,r);i&&(i.delete(n),i.size===0&&Oi.get(this).delete(r)),this.logIfDebugEnabled("unsubscribe",r,void 0),Ms(r)||pc(this,Nf,{eventName:r,listener:n})}}once(t){let n;const r=new Promise(i=>{n=this.on(t,s=>{n(),i(s)})});return r.off=n,r}events(t){t=Array.isArray(t)?t:[t];for(const n of t)As(n);return q2(this,t)}async emit(t,n){if(As(t),Ms(t)&&!$f)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");this.logIfDebugEnabled("emit",t,n),$N(this,t,n);const r=Ps(this,t)??new Set,i=Rr.get(this),s=[...r],o=Ms(t)?[]:[...i];await Y2,await Promise.all([...s.map(async a=>{if(r.has(a))return a(n)}),...o.map(async a=>{if(i.has(a))return a(t,n)})])}async emitSerial(t,n){if(As(t),Ms(t)&&!$f)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");this.logIfDebugEnabled("emitSerial",t,n);const r=Ps(this,t)??new Set,i=Rr.get(this),s=[...r],o=[...i];await Y2;for(const a of s)r.has(a)&&await a(n);for(const a of o)i.has(a)&&await a(t,n)}onAny(t){return hc(t),this.logIfDebugEnabled("subscribeAny",void 0,void 0),Rr.get(this).add(t),pc(this,kf,{listener:t}),this.offAny.bind(this,t)}anyEvent(){return q2(this)}offAny(t){hc(t),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),pc(this,Nf,{listener:t}),Rr.get(this).delete(t)}clearListeners(t){t=Array.isArray(t)?t:[t];for(const n of t)if(this.logIfDebugEnabled("clear",n,void 0),Mf(n)){const r=Ps(this,n);r&&r.clear();const i=xl(this,n);if(i){for(const s of i)s.finish();i.clear()}}else{Rr.get(this).clear();for(const[r,i]of Oi.get(this).entries())i.clear(),Oi.get(this).delete(r);for(const[r,i]of cr.get(this).entries()){for(const s of i)s.finish();i.clear(),cr.get(this).delete(r)}}}listenerCount(t){var r,i,s;t=Array.isArray(t)?t:[t];let n=0;for(const o of t){if(Mf(o)){n+=Rr.get(this).size+(((r=Ps(this,o))==null?void 0:r.size)??0)+(((i=xl(this,o))==null?void 0:i.size)??0)+(((s=xl(this))==null?void 0:s.size)??0);continue}o!==void 0&&As(o),n+=Rr.get(this).size;for(const a of Oi.get(this).values())n+=a.size;for(const a of cr.get(this).values())n+=a.size}return n}bindMethods(t,n){if(typeof t!="object"||t===null)throw new TypeError("`target` must be an object");n=Q2(n);for(const r of n){if(t[r]!==void 0)throw new Error(`The property \`${r}\` already exists on \`target\``);Object.defineProperty(t,r,{enumerable:!1,value:this[r].bind(this)})}}}const J2=Object.getOwnPropertyNames(ss.prototype).filter(e=>e!=="constructor");Object.defineProperty(ss,"listenerAdded",{value:kf,writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(ss,"listenerRemoved",{value:Nf,writable:!1,enumerable:!0,configurable:!1});var du;class ga extends ss{constructor(){super(...arguments);at(this,du,128)}connect(n){return this.raw.connect(n.raw),this}get tempo(){return le(this,du)}set tempo(n){Ue(this,du,n)}}du=new WeakMap;var Fr;class Hi extends ga{constructor(n){super();at(this,Fr,!1);this.raw=n,this.raw.addEventListener("ended",()=>{le(this,Fr)&&(Ue(this,Fr,!1),this.emit("ended").catch(console.error))})}start(n,r){this.raw instanceof AudioScheduledSourceNode&&(Ue(this,Fr,!0),this.raw.start(n),r!==void 0&&this.raw.stop((n??0)+r))}stop(){le(this,Fr)&&(this.raw instanceof AudioScheduledSourceNode?this.raw.stop():this.raw.disconnect(),Ue(this,Fr,!1),this.emit("ended").catch(console.error))}dispose(){this.raw.disconnect()}get pitch(){if("frequency"in this.raw)return this.raw.frequency;if("playbackRate"in this.raw)return this.raw.playbackRate}}Fr=new WeakMap;const MN=(e,t=128)=>{var i,s;let n=e,r=0;for(;n;)r+=Wo(n.value,t),n=(s=(i=n.tie)==null?void 0:i.next)==null?void 0:s.note;return r},Wo=(e,t)=>{const r=e.toDecimal()/.25,i=t/60;return r/i};class RN{constructor(t){g(this,"context");g(this,"instrument");g(this,"activeSources",new Map);g(this,"destination");g(this,"sourceGenerator");this.context=t.context,this.instrument=t.instrument,this.sourceGenerator=t.sourceGenerator,this.destination=new Hi(new DynamicsCompressorNode(this.context,{attack:.001,release:.05,knee:10,ratio:12,threshold:-10})),this.destination.connect(t.destination??new Hi(this.context.destination))}stop(){this.activeSources.forEach(t=>t.dispose()),this.activeSources.clear()}playNote(t,{tempo:n,durationSecs:r,gain:i,when:s=0}){var o;if(!t.dead)try{const a=(o=t.tie)==null?void 0:o.type;if(a=="middle")return;const l=this.currentTime+s,u=r??Wo(t.value,n);if(a=="stop"){const d=this.activeSources.get(t.rootTieNote);d&&setTimeout(()=>d.stop(),(l+u-this.currentTime)*1e3);return}const c=this.sourceGenerator.generate(t),f=c.pitch;if(f){this.maybeBend(t,f,n,l);const d=this.maybeVibrato(t,l),h=Kl([d]);h.length>0&&(h.reduce((v,x)=>(v.connect(x),x)),h[h.length-1].connect(f))}if(i){const d=new Hi(new GainNode(this.context,{gain:i}));c.connect(d),d.connect(this.destination)}else c.connect(this.destination);c.start(l,r!==void 0||a===void 0?u:void 0),this.activeSources.set(t,c),c.on("ended",()=>{c.dispose(),this.activeSources.delete(t)})}catch(a){console.warn(a)}}get currentTime(){return this.context.currentTime}maybeVibrato(t,n){if(!t.vibrato)return null;const r=new OscillatorNode(this.context,{type:"sine",frequency:4}),i=new GainNode(this.context,{gain:t.pitch.toFrequency()/36});return r.connect(i),r.start(n),i}maybeBend(t,n,r,i){if(!t.bend)return null;const s=MN(t,r),o=this.context.createGain(),a=n.value;n.setValueAtTime(a,i);let l=i,u=0;for(const{time:c,amplitude:f}of t.bend.points){const d=a*Math.pow(2,f*2/12),h=s*(c-u);n.linearRampToValueAtTime(d,l+h),u=c,l+=h}return n.setValueAtTime(a,l),o}}function Ru(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function W(e,t,n){return(t=jN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fh(e){return function(t){if(Array.isArray(t))return Uh(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||function(t,n){if(t){if(typeof t=="string")return Uh(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uh(t,n)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Uh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jN(e){var t=function(n,r){if(typeof n!="object"||n===null)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var s=i.call(n,r||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return typeof t=="symbol"?t:String(t)}var Ga={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},IN=/([astvzqmhlc])([^astvzqmhlc]*)/gi,LN=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,DN=function(e){var t=e.match(LN);return t?t.map(Number):[]},Ut=Ru(function(e,t,n,r){var i=this;W(this,"x0",void 0),W(this,"x1",void 0),W(this,"y0",void 0),W(this,"y1",void 0),W(this,"getTotalLength",function(){return Math.sqrt(Math.pow(i.x0-i.x1,2)+Math.pow(i.y0-i.y1,2))}),W(this,"getPointAtLength",function(s){var o=s/Math.sqrt(Math.pow(i.x0-i.x1,2)+Math.pow(i.y0-i.y1,2));o=Number.isNaN(o)?1:o;var a=(i.x1-i.x0)*o,l=(i.y1-i.y0)*o;return{x:i.x0+a,y:i.y0+l}}),W(this,"getTangentAtLength",function(s){var o=Math.sqrt((i.x1-i.x0)*(i.x1-i.x0)+(i.y1-i.y0)*(i.y1-i.y0));return{x:(i.x1-i.x0)/o,y:(i.y1-i.y0)/o}}),W(this,"getPropertiesAtLength",function(s){var o=i.getPointAtLength(s),a=i.getTangentAtLength(s);return{x:o.x,y:o.y,tangentX:a.x,tangentY:a.y}}),this.x0=e,this.x1=t,this.y0=n,this.y1=r}),Z2=Ru(function(e,t,n,r,i,s,o,a,l){var u=this;W(this,"x0",void 0),W(this,"y0",void 0),W(this,"rx",void 0),W(this,"ry",void 0),W(this,"xAxisRotate",void 0),W(this,"LargeArcFlag",void 0),W(this,"SweepFlag",void 0),W(this,"x1",void 0),W(this,"y1",void 0),W(this,"length",void 0),W(this,"getTotalLength",function(){return u.length}),W(this,"getPointAtLength",function(f){f<0?f=0:f>u.length&&(f=u.length);var d=ey({x:u.x0,y:u.y0},u.rx,u.ry,u.xAxisRotate,u.LargeArcFlag,u.SweepFlag,{x:u.x1,y:u.y1},f/u.length);return{x:d.x,y:d.y}}),W(this,"getTangentAtLength",function(f){f<0?f=0:f>u.length&&(f=u.length);var d,h=.05,v=u.getPointAtLength(f);f<0?f=0:f>u.length&&(f=u.length);var x=(d=f<u.length-h?u.getPointAtLength(f+h):u.getPointAtLength(f-h)).x-v.x,b=d.y-v.y,m=Math.sqrt(x*x+b*b);return f<u.length-h?{x:-x/m,y:-b/m}:{x:x/m,y:b/m}}),W(this,"getPropertiesAtLength",function(f){var d=u.getTangentAtLength(f),h=u.getPointAtLength(f);return{x:h.x,y:h.y,tangentX:d.x,tangentY:d.y}}),this.x0=e,this.y0=t,this.rx=n,this.ry=r,this.xAxisRotate=i,this.LargeArcFlag=s,this.SweepFlag=o,this.x1=a,this.y1=l;var c=zN(300,function(f){return ey({x:e,y:t},n,r,i,s,o,{x:a,y:l},f)});this.length=c.arcLength}),ey=function(e,t,n,r,i,s,o,a){t=Math.abs(t),n=Math.abs(n),r=BN(r,360);var l=FN(r);if(e.x===o.x&&e.y===o.y)return{x:e.x,y:e.y,ellipticalArcAngle:0};if(t===0||n===0)return{x:0,y:0,ellipticalArcAngle:0};var u=(e.x-o.x)/2,c=(e.y-o.y)/2,f={x:Math.cos(l)*u+Math.sin(l)*c,y:-Math.sin(l)*u+Math.cos(l)*c},d=Math.pow(f.x,2)/Math.pow(t,2)+Math.pow(f.y,2)/Math.pow(n,2);d>1&&(t=Math.sqrt(d)*t,n=Math.sqrt(d)*n);var h=(Math.pow(t,2)*Math.pow(n,2)-Math.pow(t,2)*Math.pow(f.y,2)-Math.pow(n,2)*Math.pow(f.x,2))/(Math.pow(t,2)*Math.pow(f.y,2)+Math.pow(n,2)*Math.pow(f.x,2));h=h<0?0:h;var v=(i!==s?1:-1)*Math.sqrt(h),x=v*(t*f.y/n),b=v*(-n*f.x/t),m={x:Math.cos(l)*x-Math.sin(l)*b+(e.x+o.x)/2,y:Math.sin(l)*x+Math.cos(l)*b+(e.y+o.y)/2},p={x:(f.x-x)/t,y:(f.y-b)/n},y=ny({x:1,y:0},p),_=ny(p,{x:(-f.x-x)/t,y:(-f.y-b)/n});!s&&_>0?_-=2*Math.PI:s&&_<0&&(_+=2*Math.PI);var E=y+(_%=2*Math.PI)*a,P=t*Math.cos(E),O=n*Math.sin(E);return{x:Math.cos(l)*P-Math.sin(l)*O+m.x,y:Math.sin(l)*P+Math.cos(l)*O+m.y,ellipticalArcStartAngle:y,ellipticalArcEndAngle:y+_,ellipticalArcAngle:E,ellipticalArcCenter:m,resultantRx:t,resultantRy:n}},zN=function(e,t){e=e||500;for(var n,r=0,i=[],s=[],o=t(0),a=0;a<e;a++){var l=UN(a*(1/e),0,1);n=t(l),r+=ty(o,n),s.push([o,n]),i.push({t:l,arcLength:r}),o=n}return n=t(1),s.push([o,n]),r+=ty(o,n),i.push({t:1,arcLength:r}),{arcLength:r,arcLengthMap:i,approximationLines:s}},BN=function(e,t){return(e%t+t)%t},FN=function(e){return e*(Math.PI/180)},ty=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},UN=function(e,t,n){return Math.min(Math.max(e,t),n)},ny=function(e,t){var n=e.x*t.x+e.y*t.y,r=Math.sqrt((Math.pow(e.x,2)+Math.pow(e.y,2))*(Math.pow(t.x,2)+Math.pow(t.y,2)));return(e.x*t.y-e.y*t.x<0?-1:1)*Math.acos(n/r)},VN=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],HN=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],KN=[[1],[1,1],[1,2,1],[1,3,3,1]],WN=function(e,t,n){return{x:(1-n)*(1-n)*(1-n)*e[0]+3*(1-n)*(1-n)*n*e[1]+3*(1-n)*n*n*e[2]+n*n*n*e[3],y:(1-n)*(1-n)*(1-n)*t[0]+3*(1-n)*(1-n)*n*t[1]+3*(1-n)*n*n*t[2]+n*n*n*t[3]}},GN=function(e,t,n){return Q8([3*(e[1]-e[0]),3*(e[2]-e[1]),3*(e[3]-e[2])],[3*(t[1]-t[0]),3*(t[2]-t[1]),3*(t[3]-t[2])],n)},XN=function(e,t,n){var r,i,s;r=n/2,i=0;for(var o=0;o<20;o++)s=r*VN[20][o]+r,i+=HN[20][o]*QN(e,t,s);return r*i},Q8=function(e,t,n){return{x:(1-n)*(1-n)*e[0]+2*(1-n)*n*e[1]+n*n*e[2],y:(1-n)*(1-n)*t[0]+2*(1-n)*n*t[1]+n*n*t[2]}},YN=function(e,t,n){n===void 0&&(n=1);var r=e[0]-2*e[1]+e[2],i=t[0]-2*t[1]+t[2],s=2*e[1]-2*e[0],o=2*t[1]-2*t[0],a=4*(r*r+i*i),l=4*(r*s+i*o),u=s*s+o*o;if(a===0)return n*Math.sqrt(Math.pow(e[2]-e[0],2)+Math.pow(t[2]-t[0],2));var c=l/(2*a),f=n+c,d=u/a-c*c,h=f*f+d>0?Math.sqrt(f*f+d):0,v=c*c+d>0?Math.sqrt(c*c+d):0,x=c+Math.sqrt(c*c+d)!==0&&(f+h)/(c+v)!=0?d*Math.log(Math.abs((f+h)/(c+v))):0;return Math.sqrt(a)/2*(f*h-c*v+x)},qN=function(e,t,n){return{x:2*(1-n)*(e[1]-e[0])+2*n*(e[2]-e[1]),y:2*(1-n)*(t[1]-t[0])+2*n*(t[2]-t[1])}};function QN(e,t,n){var r=ry(1,n,e),i=ry(1,n,t),s=r*r+i*i;return Math.sqrt(s)}var ry=function e(t,n,r){var i,s,o=r.length-1;if(o===0)return 0;if(t===0){s=0;for(var a=0;a<=o;a++)s+=KN[o][a]*Math.pow(1-n,o-a)*Math.pow(n,a)*r[a];return s}i=new Array(o);for(var l=0;l<o;l++)i[l]=o*(r[l+1]-r[l]);return e(t-1,n,i)},Vh=function(e,t,n){for(var r=1,i=e/t,s=(e-n(i))/t,o=0;r>.001;){var a=n(i+s),l=Math.abs(e-a)/t;if(l<r)r=l,i+=s;else{var u=n(i-s),c=Math.abs(e-u)/t;c<r?(r=c,i-=s):s/=2}if(++o>500)break}return i},Bn=Ru(function(e,t,n,r,i,s,o,a){var l=this;W(this,"a",void 0),W(this,"b",void 0),W(this,"c",void 0),W(this,"d",void 0),W(this,"length",void 0),W(this,"getArcLength",void 0),W(this,"getPoint",void 0),W(this,"getDerivative",void 0),W(this,"getTotalLength",function(){return l.length}),W(this,"getPointAtLength",function(u){var c=[l.a.x,l.b.x,l.c.x,l.d.x],f=[l.a.y,l.b.y,l.c.y,l.d.y],d=Vh(u,l.length,function(h){return l.getArcLength(c,f,h)});return l.getPoint(c,f,d)}),W(this,"getTangentAtLength",function(u){var c=[l.a.x,l.b.x,l.c.x,l.d.x],f=[l.a.y,l.b.y,l.c.y,l.d.y],d=Vh(u,l.length,function(x){return l.getArcLength(c,f,x)}),h=l.getDerivative(c,f,d),v=Math.sqrt(h.x*h.x+h.y*h.y);return v>0?{x:h.x/v,y:h.y/v}:{x:0,y:0}}),W(this,"getPropertiesAtLength",function(u){var c,f=[l.a.x,l.b.x,l.c.x,l.d.x],d=[l.a.y,l.b.y,l.c.y,l.d.y],h=Vh(u,l.length,function(m){return l.getArcLength(f,d,m)}),v=l.getDerivative(f,d,h),x=Math.sqrt(v.x*v.x+v.y*v.y);c=x>0?{x:v.x/x,y:v.y/x}:{x:0,y:0};var b=l.getPoint(f,d,h);return{x:b.x,y:b.y,tangentX:c.x,tangentY:c.y}}),W(this,"getC",function(){return l.c}),W(this,"getD",function(){return l.d}),this.a={x:e,y:t},this.b={x:n,y:r},this.c={x:i,y:s},o!==void 0&&a!==void 0?(this.getArcLength=XN,this.getPoint=WN,this.getDerivative=GN,this.d={x:o,y:a}):(this.getArcLength=YN,this.getPoint=Q8,this.getDerivative=qN,this.d={x:0,y:0}),this.length=this.getArcLength([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],1)}),JN=Ru(function(e){var t=this;W(this,"length",0),W(this,"partial_lengths",[]),W(this,"functions",[]),W(this,"initial_point",null),W(this,"getPartAtLength",function(m){m<0?m=0:m>t.length&&(m=t.length);for(var p=t.partial_lengths.length-1;t.partial_lengths[p]>=m&&p>0;)p--;return p++,{fraction:m-t.partial_lengths[p-1],i:p}}),W(this,"getTotalLength",function(){return t.length}),W(this,"getPointAtLength",function(m){var p=t.getPartAtLength(m),y=t.functions[p.i];if(y)return y.getPointAtLength(p.fraction);if(t.initial_point)return t.initial_point;throw new Error("Wrong function at this part.")}),W(this,"getTangentAtLength",function(m){var p=t.getPartAtLength(m),y=t.functions[p.i];if(y)return y.getTangentAtLength(p.fraction);if(t.initial_point)return{x:0,y:0};throw new Error("Wrong function at this part.")}),W(this,"getPropertiesAtLength",function(m){var p=t.getPartAtLength(m),y=t.functions[p.i];if(y)return y.getPropertiesAtLength(p.fraction);if(t.initial_point)return{x:t.initial_point.x,y:t.initial_point.y,tangentX:0,tangentY:0};throw new Error("Wrong function at this part.")}),W(this,"getParts",function(){for(var m=[],p=0;p<t.functions.length;p++)if(t.functions[p]!==null){t.functions[p]=t.functions[p];var y={start:t.functions[p].getPointAtLength(0),end:t.functions[p].getPointAtLength(t.partial_lengths[p]-t.partial_lengths[p-1]),length:t.partial_lengths[p]-t.partial_lengths[p-1],getPointAtLength:t.functions[p].getPointAtLength,getTangentAtLength:t.functions[p].getTangentAtLength,getPropertiesAtLength:t.functions[p].getPropertiesAtLength};m.push(y)}return m});for(var n,r=Array.isArray(e)?e:function(m){var p=(m&&m.length>0?m:"M0,0").match(IN);if(!p)throw new Error("No path elements found in string ".concat(m));return p.reduce(function(y,_){var E=_.charAt(0),P=E.toLowerCase(),O=DN(_.substring(1));if(P==="m"&&O.length>2&&(y.push([E].concat(Fh(O.splice(0,2)))),P="l",E=E==="m"?"l":"L"),P.toLowerCase()==="a"&&(O.length===5||O.length===6)){var T=_.substring(1).trim().split(" ");O=[Number(T[0]),Number(T[1]),Number(T[2]),Number(T[3].charAt(0)),Number(T[3].charAt(1)),Number(T[3].substring(2)),Number(T[4])]}for(;O.length>=0;){if(O.length===Ga[P]){y.push([E].concat(Fh(O.splice(0,Ga[P]))));break}if(O.length<Ga[P])throw new Error('Malformed path data: "'.concat(E,'" must have ').concat(Ga[P]," elements and has ").concat(O.length,": ").concat(_));y.push([E].concat(Fh(O.splice(0,Ga[P]))))}return y},[])}(e),i=[0,0],s=[0,0],o=[0,0],a=0;a<r.length;a++){if(r[a][0]==="M")o=[(i=[r[a][1],r[a][2]])[0],i[1]],this.functions.push(null),a===0&&(this.initial_point={x:r[a][1],y:r[a][2]});else if(r[a][0]==="m")o=[(i=[r[a][1]+i[0],r[a][2]+i[1]])[0],i[1]],this.functions.push(null);else if(r[a][0]==="L")this.length+=Math.sqrt(Math.pow(i[0]-r[a][1],2)+Math.pow(i[1]-r[a][2],2)),this.functions.push(new Ut(i[0],r[a][1],i[1],r[a][2])),i=[r[a][1],r[a][2]];else if(r[a][0]==="l")this.length+=Math.sqrt(Math.pow(r[a][1],2)+Math.pow(r[a][2],2)),this.functions.push(new Ut(i[0],r[a][1]+i[0],i[1],r[a][2]+i[1])),i=[r[a][1]+i[0],r[a][2]+i[1]];else if(r[a][0]==="H")this.length+=Math.abs(i[0]-r[a][1]),this.functions.push(new Ut(i[0],r[a][1],i[1],i[1])),i[0]=r[a][1];else if(r[a][0]==="h")this.length+=Math.abs(r[a][1]),this.functions.push(new Ut(i[0],i[0]+r[a][1],i[1],i[1])),i[0]=r[a][1]+i[0];else if(r[a][0]==="V")this.length+=Math.abs(i[1]-r[a][1]),this.functions.push(new Ut(i[0],i[0],i[1],r[a][1])),i[1]=r[a][1];else if(r[a][0]==="v")this.length+=Math.abs(r[a][1]),this.functions.push(new Ut(i[0],i[0],i[1],i[1]+r[a][1])),i[1]=r[a][1]+i[1];else if(r[a][0]==="z"||r[a][0]==="Z")this.length+=Math.sqrt(Math.pow(o[0]-i[0],2)+Math.pow(o[1]-i[1],2)),this.functions.push(new Ut(i[0],o[0],i[1],o[1])),i=[o[0],o[1]];else if(r[a][0]==="C")n=new Bn(i[0],i[1],r[a][1],r[a][2],r[a][3],r[a][4],r[a][5],r[a][6]),this.length+=n.getTotalLength(),i=[r[a][5],r[a][6]],this.functions.push(n);else if(r[a][0]==="c")(n=new Bn(i[0],i[1],i[0]+r[a][1],i[1]+r[a][2],i[0]+r[a][3],i[1]+r[a][4],i[0]+r[a][5],i[1]+r[a][6])).getTotalLength()>0?(this.length+=n.getTotalLength(),this.functions.push(n),i=[r[a][5]+i[0],r[a][6]+i[1]]):this.functions.push(new Ut(i[0],i[0],i[1],i[1]));else if(r[a][0]==="S"){if(a>0&&["C","c","S","s"].indexOf(r[a-1][0])>-1){if(n){var l=n.getC();n=new Bn(i[0],i[1],2*i[0]-l.x,2*i[1]-l.y,r[a][1],r[a][2],r[a][3],r[a][4])}}else n=new Bn(i[0],i[1],i[0],i[1],r[a][1],r[a][2],r[a][3],r[a][4]);n&&(this.length+=n.getTotalLength(),i=[r[a][3],r[a][4]],this.functions.push(n))}else if(r[a][0]==="s"){if(a>0&&["C","c","S","s"].indexOf(r[a-1][0])>-1){if(n){var u=n.getC(),c=n.getD();n=new Bn(i[0],i[1],i[0]+c.x-u.x,i[1]+c.y-u.y,i[0]+r[a][1],i[1]+r[a][2],i[0]+r[a][3],i[1]+r[a][4])}}else n=new Bn(i[0],i[1],i[0],i[1],i[0]+r[a][1],i[1]+r[a][2],i[0]+r[a][3],i[1]+r[a][4]);n&&(this.length+=n.getTotalLength(),i=[r[a][3]+i[0],r[a][4]+i[1]],this.functions.push(n))}else if(r[a][0]==="Q"){if(i[0]==r[a][1]&&i[1]==r[a][2]){var f=new Ut(r[a][1],r[a][3],r[a][2],r[a][4]);this.length+=f.getTotalLength(),this.functions.push(f)}else n=new Bn(i[0],i[1],r[a][1],r[a][2],r[a][3],r[a][4],void 0,void 0),this.length+=n.getTotalLength(),this.functions.push(n);i=[r[a][3],r[a][4]],s=[r[a][1],r[a][2]]}else if(r[a][0]==="q"){if(r[a][1]!=0||r[a][2]!=0)n=new Bn(i[0],i[1],i[0]+r[a][1],i[1]+r[a][2],i[0]+r[a][3],i[1]+r[a][4],void 0,void 0),this.length+=n.getTotalLength(),this.functions.push(n);else{var d=new Ut(i[0]+r[a][1],i[0]+r[a][3],i[1]+r[a][2],i[1]+r[a][4]);this.length+=d.getTotalLength(),this.functions.push(d)}s=[i[0]+r[a][1],i[1]+r[a][2]],i=[r[a][3]+i[0],r[a][4]+i[1]]}else if(r[a][0]==="T"){if(a>0&&["Q","q","T","t"].indexOf(r[a-1][0])>-1)n=new Bn(i[0],i[1],2*i[0]-s[0],2*i[1]-s[1],r[a][1],r[a][2],void 0,void 0),this.functions.push(n),this.length+=n.getTotalLength();else{var h=new Ut(i[0],r[a][1],i[1],r[a][2]);this.functions.push(h),this.length+=h.getTotalLength()}s=[2*i[0]-s[0],2*i[1]-s[1]],i=[r[a][1],r[a][2]]}else if(r[a][0]==="t"){if(a>0&&["Q","q","T","t"].indexOf(r[a-1][0])>-1)n=new Bn(i[0],i[1],2*i[0]-s[0],2*i[1]-s[1],i[0]+r[a][1],i[1]+r[a][2],void 0,void 0),this.length+=n.getTotalLength(),this.functions.push(n);else{var v=new Ut(i[0],i[0]+r[a][1],i[1],i[1]+r[a][2]);this.length+=v.getTotalLength(),this.functions.push(v)}s=[2*i[0]-s[0],2*i[1]-s[1]],i=[r[a][1]+i[0],r[a][2]+i[1]]}else if(r[a][0]==="A"){var x=new Z2(i[0],i[1],r[a][1],r[a][2],r[a][3],r[a][4]===1,r[a][5]===1,r[a][6],r[a][7]);this.length+=x.getTotalLength(),i=[r[a][6],r[a][7]],this.functions.push(x)}else if(r[a][0]==="a"){var b=new Z2(i[0],i[1],r[a][1],r[a][2],r[a][3],r[a][4]===1,r[a][5]===1,i[0]+r[a][6],i[1]+r[a][7]);this.length+=b.getTotalLength(),i=[i[0]+r[a][6],i[1]+r[a][7]],this.functions.push(b)}this.partial_lengths.push(this.length)}}),Cp=Ru(function(e){var t=this;if(W(this,"inst",void 0),W(this,"getTotalLength",function(){return t.inst.getTotalLength()}),W(this,"getPointAtLength",function(n){return t.inst.getPointAtLength(n)}),W(this,"getTangentAtLength",function(n){return t.inst.getTangentAtLength(n)}),W(this,"getPropertiesAtLength",function(n){return t.inst.getPropertiesAtLength(n)}),W(this,"getParts",function(){return t.inst.getParts()}),this.inst=new JN(e),!(this instanceof Cp))return new Cp(e)}),Jo;class J8 extends ga{constructor(n){super();at(this,Jo,!1);this.node=n}start(n,r){Ue(this,Jo,!0),this.node.port.postMessage({type:"start",when:n,durationSecs:r}),r!==void 0&&setTimeout(()=>this.stop(),((n??0)+r)*1e3)}stop(){le(this,Jo)&&(Ue(this,Jo,!1),this.node.port.postMessage({type:"stop"}),this.emit("ended").catch(console.error))}dispose(){this.stop(),this.node.disconnect()}get raw(){return this.node}get pitch(){return this.node.parameters.get("frequency")}}Jo=new WeakMap;class ZN{constructor(t){this.options=t}generate(t){const n=new globalThis.AudioWorkletNode(this.options.context,"karplus-strong",{processorOptions:{frequency:150,impulseType:"white-noise",updateType:"random-negation"}});return new J8(n)}}class e${constructor(t){this.options=t}generate(t){const n=new globalThis.AudioWorkletNode(this.options.context,"karplus-strong",{processorOptions:{updateType:"blend",impulseType:this.options.impulseType,filterType:this.options.filterType,clipType:this.options.clipType,gain:this.options.gain}}),r=n.parameters.get("frequency");if(!r)throw new Error("Frequency parameter not found");return r.setValueAtTime(t.pitch.toFrequency(),0),new J8(n)}}class t${constructor(t){this.options=t}generate(t){const n=this.options.context.createOscillator();return n.type=this.options.oscillator,n.frequency.value=t.pitch.toFrequency(),new Hi(n)}}var ji,Ur,Zo;const Zf=class Zf extends ga{constructor(n,r){super();at(this,ji);at(this,Ur);at(this,Zo,!1);Ue(this,ji,n),Ue(this,Ur,r)}start(n,r){Ue(this,Zo,!0),le(this,ji).start(n,r)}stop(){le(this,Zo)&&(le(this,Ur).stop(),Ue(this,Zo,!1),this.emit("ended").catch(console.error))}dispose(){le(this,ji).dispose(),le(this,Ur).dispose()}get raw(){return le(this,Ur).raw}get pitch(){return le(this,ji).pitch??le(this,Ur).pitch}};ji=new WeakMap,Ur=new WeakMap,Zo=new WeakMap,g(Zf,"compose",(...n)=>{const r=n.map(i=>i instanceof ga?i:new Hi(i));return r.reduce((i,s)=>(i&&i.connect(s),s),null),new Zf(r[0],r[n.length-1])});let eu=Zf;var ea,Ii,Li,Di,zi,Bi;class n$ extends ga{constructor(n){super();at(this,ea,!1);at(this,Ii);at(this,Li);at(this,Di);at(this,zi);at(this,Bi);this.options=n,Ue(this,Ii,new BiquadFilterNode(n.context,{type:"lowshelf",frequency:200,gain:20*Math.log(n.lowGain??1)})),Ue(this,Li,new BiquadFilterNode(n.context,{type:"peaking",frequency:1400,Q:10,gain:20*Math.log(n.midGain??1)})),Ue(this,Di,new BiquadFilterNode(n.context,{type:"peaking",frequency:2600,Q:10,gain:20*Math.log(n.midGain??1)})),Ue(this,zi,new BiquadFilterNode(n.context,{type:"peaking",frequency:3800,Q:10,gain:20*Math.log(n.midGain??1)})),Ue(this,Bi,new BiquadFilterNode(n.context,{type:"highshelf",frequency:5e3,gain:20*Math.log(n.highGain??1)})),le(this,Ii).connect(le(this,Li)),le(this,Li).connect(le(this,Di)),le(this,Di).connect(le(this,zi)),le(this,zi).connect(le(this,Bi))}start(n,r){Ue(this,ea,!0)}stop(){le(this,ea)&&(le(this,Ii).disconnect(),le(this,Li).disconnect(),le(this,Di).disconnect(),le(this,zi).disconnect(),le(this,Bi).disconnect(),Ue(this,ea,!1),this.emit("ended").catch(console.error))}dispose(){this.stop()}get raw(){return le(this,Ii)}get pitch(){}connect(n){return le(this,Bi).connect(n.raw),this}}ea=new WeakMap,Ii=new WeakMap,Li=new WeakMap,Di=new WeakMap,zi=new WeakMap,Bi=new WeakMap;var hu;class r${constructor(){at(this,hu,{25:{name:"Acoustic Guitar (nylon)",generator:{type:"custom",construct(t,n,r){const i=t.generatorForData(n,r,{type:"plucked-string",options:{filterType:"gaussian"}});return{generate(s){const o=i.generate(s);return eu.compose(o,new n$({context:n,lowGain:3,midGain:1e-4,highGain:1e-4}))}}}}},26:{name:"Acoustic Guitar (steel)",generator:{type:"plucked-string",options:{}}},29:{name:"Electric Guitar (muted)",generator:{type:"plucked-string",options:{}}},30:{name:"Electric Guitar (overdrive)",generator:{type:"custom",construct(t,n,r){const i=t.generatorForData(n,r,{type:"plucked-string",options:{impulseType:"white-noise",filterType:"gaussian"}}),s=2e3,o=150,a=1e4,l=Math.sqrt(s-o),u=l/(s-o),c=210.65314,f=210.65159,d=.13639704,h=-45.30019,v=new Cp([["M",.01371475+d,255.93989+h],["C",2.4957989+d,224.63855+h,1.675487+d,141.29052+h,19.984253+d,141.11971+h],["c",25.223313,-.23531,37.719831,88.87167,37.719831,88.87167],["c",0,0,49.456596,-52.55299,90.235276,-127.00691],["c",12.18918,-22.255104,26.27927,-20.471436,62.57729,-20.449335]]),x=512,b=v.getTotalLength(),m=[];for(let y=0;y<x;++y){const _=y/(x-1),E=v.getPointAtLength(_*b);m.push({x:E.x/c,y:da(1-E.y/f,0,1)})}const p=new Float32Array(x);for(let y=0,_=x-1;2*y<x;++y){const E=1-2*y/(x-1);for(;_>0&&E<m[_].x-1e-10;)--_;let P;if(_==x-1)P=m[_].y;else{const{x:O,y:T}=m[_],{x:H,y:I}=m[_+1];P=I+(T-I)/(O-H)*(E-H)}p[y]=P,p[x-y-1]=P}return p[x/2]=0,p[x/2-1]=0,{generate(y){const _=new BiquadFilterNode(n,{type:"bandpass",Q:u,frequency:l}),E=new WaveShaperNode(n,{oversample:"none",curve:p}),P=new BiquadFilterNode(n,{type:"lowpass",frequency:a,Q:Math.SQRT1_2}),O=new BiquadFilterNode(n,{type:"lowpass",frequency:Math.pow(350,2),Q:Math.SQRT1_2});return eu.compose(i.generate(y),_,E,P,O)}}}}},34:{name:"Electric Bass",generator:{type:"plucked-string",options:{impulseType:"noisy-sine",filterType:"gaussian"}}},47:{name:"Orchestral Harp",generator:{type:"plucked-string",options:{impulseType:"noisy-sine"}}},81:{name:"Lead 1 (square)",generator:{type:"oscillator",options:{oscillator:"square"}}},82:{name:"Lead 1 (sawtooth)",generator:{type:"oscillator",options:{oscillator:"sawtooth"}}}})}get supportedInstruments(){return Object.entries(le(this,hu)).map(([t,n])=>({name:n.name,midiPreset:Number(t)}))}generator(t,n){const r=le(this,hu)[n instanceof is?119:n.midiPreset];return r?this.generatorForData(t,n,r.generator):null}generatorForData(t,n,r){switch(r.type){case"plucked-string":return new e$({context:t,instrument:n,...r.options});case"drum":return new ZN({context:t,instrument:n,...r.options});case"oscillator":return new t$({context:t,instrument:n,...r.options});case"custom":return r.construct(this,t,n)}}}hu=new WeakMap;class Hh extends Error{constructor(t){super(t||"out of bounds")}}var S=(e=>(e.Int8="byte",e.Int16="short",e.Int32="integer",e.Uint8="unsigned byte",e.Uint16="unsigned short",e.Uint32="unsigned integer",e))(S||{});const i$={byte:1,short:2,integer:4,"unsigned byte":1,"unsigned short":2,"unsigned integer":4};class Z8{constructor(t){g(this,"byteOffset",0);g(this,"view");g(this,"decoder",new TextDecoder);this.buffer=t,this.view=new DataView(t)}reset(){this.byteOffset=0}get position(){return this.byteOffset}nextNumber(t){const n=i$[t];if(this.byteOffset+n>this.buffer.byteLength)throw new Hh;try{switch(t){case"byte":return this.view.getInt8(this.byteOffset);case"short":return this.view.getInt16(this.byteOffset,!0);case"integer":return this.view.getInt32(this.byteOffset,!0);case"unsigned byte":return this.view.getUint8(this.byteOffset);case"unsigned short":return this.view.getUint16(this.byteOffset,!0);case"unsigned integer":return this.view.getUint32(this.byteOffset,!0)}}finally{this.byteOffset+=n}}skip(t=1){this.byteOffset+=t}nextLengthPrefixedString(t="unsigned byte"){const n=this.nextNumber(t);return this.nextString(n)}nextString(t){if(t<=0)return"";if(this.byteOffset+t>this.buffer.byteLength)throw new Hh;const n=this.decoder.decode(this.buffer.slice(this.byteOffset,this.byteOffset+t));return this.byteOffset+=t,n}nextNullTerminatedString(t){if(t<=0)return"";if(this.byteOffset+t>this.buffer.byteLength)throw new Hh;const n=this.buffer.slice(this.byteOffset,this.byteOffset+t),i=new Uint8Array(n).findIndex(s=>s==0);return this.byteOffset+=t,i==-1?this.decoder.decode(n):this.decoder.decode(n.slice(0,i))}}const s$=/FICHIER GUITAR PRO v(?<version>\d{1}\.\d{1,2})/,o$=e=>new a$(e);class a${constructor(t){g(this,"cursor");g(this,"version");g(this,"currentMeasureTempo",0);g(this,"trackData",[]);g(this,"measureData",[]);this.cursor=new Z8(t),this.version=this.readVersion()}load(){this.debug("tab info");const t={title:this.readInfoString(),subtitle:this.readInfoString(),artist:this.readInfoString(),album:this.readInfoString(),composer:this.readInfoString(),copyright:this.readInfoString(),transcriber:this.readInfoString(),instructions:this.readInfoString()};this.debug({tabInformation:t}),this.debug("comments");const n=this.readComments();this.debug({comments:n}),this.cursor.nextNumber(S.Uint8),this.readLyrics(),this.debug("tempo/key/octave"),this.currentMeasureTempo=this.cursor.nextNumber(S.Uint32),this.cursor.nextNumber(S.Uint8),this.version<4?this.cursor.skip(3):this.cursor.nextNumber(S.Uint32),this.debug("midi channels");const r=this.readMidiChannels();this.debug("track/measure count");const i=this.cursor.nextNumber(S.Uint32),s=this.cursor.nextNumber(S.Uint32);this.debug({numTracks:s,numMeasures:i}),this.debug("measure data");let o=new pa(new Y(ie.Whole),4);this.measureData=ze(i).map(l=>{const u=this.readMeasureData(o);return o=u.timeSignature.value,u});const a=[];this.debug("track data");for(let l=0;l<s;++l){const u=this.readTrackData();this.trackData.push(u);const c=r[u.midiPort-1][u.midiChannel-1];a.push({name:u.name,color:u.color,lineCount:u.strings.length,measures:[],instrument:u.midiChannel==10?new is({midiPreset:c.instrument,volume:c.volume}):new ys({midiPreset:c.instrument,volume:c.volume,tuning:u.strings})})}for(let l=0;l<i;++l)for(let u=0;u<s;++u){const c=a[u].measures;if(!c)throw new Error("unreachable");this.debug({trackIndex:u,measureIndex:l});const f=this.currentMeasureTempo,d=this.cursor.nextNumber(S.Uint32),h=ze(d).map(()=>this.readBeat(this.trackData[u]));c.push({chords:h,number:l+1,marker:this.measureData[l].marker,staffDetails:{time:this.measureData[l].timeSignature,tempo:{value:this.currentMeasureTempo,changed:l==0||f!=this.currentMeasureTempo}}})}return new Jl({parts:a,comments:n.join(`
`),...t})}readMeasureData(t){const n=Vt(this.cursor.nextNumber(S.Uint8)),[r,i,s,o,a,l,u,c]=n;let f,d;c&&(f=this.cursor.nextNumber(S.Uint8)),u&&(d=this.cursor.nextNumber(S.Uint8));let h=t;(f||d)&&(h=new pa(d?Y.fromNumber(d):t.value,f??t.count)),a&&this.cursor.nextNumber(S.Uint8),o&&this.cursor.nextNumber(S.Uint8);let v;if(s){const x=this.cursor.nextLengthPrefixedString(S.Uint32),b=this.readColor();v={text:x,color:b}}return i&&(this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8)),{marker:v,timeSignature:{value:h,changed:!!(f||d)}}}readTrackData(){Vt(this.cursor.nextNumber(S.Uint8));const t=this.cursor.nextLengthPrefixedString(S.Uint8);this.cursor.skip(40-t.length);const n=this.cursor.nextNumber(S.Uint32),r=ze(7).map(()=>{const l=this.cursor.nextNumber(S.Uint32);return xt.fromMidi(l)}).slice(0,n),i=this.cursor.nextNumber(S.Uint32),s=this.cursor.nextNumber(S.Uint32);this.cursor.nextNumber(S.Uint32),this.cursor.nextNumber(S.Uint32),this.cursor.nextNumber(S.Uint32);const o=this.cursor.nextNumber(S.Uint32);let a;if(o!=0){const l=(o&255)>>0,u=(o&65280)>>8,c=(o&16711680)>>16;a=`rgb(${l}, ${u}, ${c})`}return{name:t,color:a,midiPort:i,midiChannel:s,strings:r}}readBeat(t){const n=Vt(this.cursor.nextNumber(S.Uint8)),[r,i,s,o,a,l,u,c]=n;let f=!1;i&&(f=this.cursor.nextNumber(S.Uint8)==2);let d=Y.fromNumber(1<<this.cursor.nextNumber(S.Int8)+2);if(c&&(d=d.dot()),s){const p=this.cursor.nextNumber(S.Uint32);let y=1;for(;2*y<p;)y<<=1;d=d.withTuplet({n:p,actual:y})}let h;u&&(h=this.readChordDiagram());let v;l&&(v=this.cursor.nextLengthPrefixedString(S.Uint32));let x;a&&(x=this.readBeatEffects()),o&&this.readMixTableChangeEvent();const b=[],m=Vt(this.cursor.nextNumber(S.Uint8)).slice(1);for(let p=0;p<t.strings.length;++p){if(!m[p])continue;const y=this.readNote(t.strings[p],d);y.placement??(y.placement={fret:0,string:p}),y.placement.string=p+1,f||b.push(y)}return{notes:b,chordDiagram:h,text:v,value:d,...x}}readBeatEffects(){let t,n,r,i,s;if(this.version<4){const o=Vt(this.cursor.nextNumber(S.Uint8)),[a,l,u,c,f,d,h,v]=o;if(u){const x=this.readTapping();x&&(t=x)}l&&(i=this.cursor.nextNumber(S.Uint8),s=this.cursor.nextNumber(S.Uint8))}else{const o=Vt(this.cursor.nextNumber(S.Uint8)),a=Vt(this.cursor.nextNumber(S.Uint8)),[l,u,c,f,d,h,v,x]=o,[b,m,p,y,_,E,P,O]=a;if(c){const T=this.readTapping();T&&(t=T)}if(E&&this.readBend(),u&&(i=this.cursor.nextNumber(S.Uint8),s=this.cursor.nextNumber(S.Uint8)),P)switch(this.cursor.nextNumber(S.Uint8)){case 0:break;case 1:n=$i.Up;break;case 2:n=$i.Down;break}}return i&&i!==0?(n??(n=$i.Down),r=Y.fromNumber(Math.pow(2,8-i))):s&&s!==0&&(n??(n=$i.Up),r=Y.fromNumber(Math.pow(2,8-s))),{stroke:n?{direction:n,duration:r}:void 0,tapped:t}}readTapping(){const t=this.cursor.nextNumber(S.Uint8);switch(t){case 0:this.version<4;return;case 1:return Bc.Tap;case 2:return Bc.Slap;case 3:return Bc.Pop;default:throw new Error(`unknown tap style value: ${t}`)}}readMixTableChangeEvent(){this.cursor.nextNumber(S.Int8);const t=this.cursor.nextNumber(S.Int8),n=this.cursor.nextNumber(S.Int8),r=this.cursor.nextNumber(S.Int8),i=this.cursor.nextNumber(S.Int8),s=this.cursor.nextNumber(S.Int8),o=this.cursor.nextNumber(S.Int8),a=this.cursor.nextNumber(S.Int32);return t!==-1&&this.cursor.nextNumber(S.Uint8),n!==-1&&this.cursor.nextNumber(S.Uint8),r!==-1&&this.cursor.nextNumber(S.Uint8),i!==-1&&this.cursor.nextNumber(S.Uint8),s!==-1&&this.cursor.nextNumber(S.Uint8),o!==-1&&this.cursor.nextNumber(S.Uint8),a!==-1&&this.cursor.nextNumber(S.Uint8),Vt(this.cursor.nextNumber(S.Uint8)),a!==-1&&a!==this.currentMeasureTempo?(this.currentMeasureTempo=a,!0):!1}readNote(t,n){const r=Vt(this.cursor.nextNumber(S.Uint8)),[i,s,o,a,l,u,c,f]=r;let d=0;o&&(d=this.cursor.nextNumber(S.Uint8));const h=0;f&&(this.cursor.nextNumber(S.Int8),this.cursor.nextNumber(S.Uint8));let v;a&&(v=this.readNoteDynamic());let x=0;o&&(x=this.cursor.nextNumber(S.Uint8)),i&&(this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8));const b={pitch:t.adjust(x),value:h==0?n:Y.fromNumber(h),dead:d===3,tie:d===2?{type:"detect"}:void 0,ghost:u,accent:s?Pf.Accentuated:void 0,dynamic:v,placement:{fret:x,string:0}};if(l){const m=this.readNoteEffects();m.graceNote&&(b.graceNote=new qt({pitch:t.adjust(x),value:m.graceNote.value,dynamic:m.graceNote.dynamic})),Object.assign(b,LC(m,"graceNote"))}return b}readNoteEffects(){let t=!1,n=!1,r=!1,i=!1,s,o,a,l,u,c;if(this.version<4){const f=Vt(this.cursor.nextNumber(S.Uint8));let d,h,v,x;[d,d,d,h,n,v,u,x]=f,x&&(s=this.readBend(),console.info(s)),h&&(c=this.readGraceNote()),v&&(o={type:gt.LegatoSlide,upwards:!0})}else{const f=Vt(this.cursor.nextNumber(S.Uint8)),d=Vt(this.cursor.nextNumber(S.Uint8));let h,v,x,b,m,p,y;[h,h,h,v,n,h,u,x]=f,[h,t,b,m,p,y,r,i]=d,x&&(s=this.readBend()),v&&(c=this.readGraceNote()),y&&(l=this.readTremoloPicking()),p&&(o=this.readSlide()),m&&(a=this.readHarmonics()),b&&(this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8))}return{letRing:n,palmMute:r,staccato:i,vibrato:t,bend:s,slide:o,harmonic:a,tremoloPicking:l,hammerOnPullOff:u,graceNote:c}}readTremoloPicking(){const t=this.cursor.nextNumber(S.Uint8);switch(t){case 1:return new Y(ie.Eighth);case 2:return new Y(ie.Sixteenth);case 3:return new Y(ie.ThirtySecond);default:throw new Error(`unknown tremolo picking value: ${t}`)}}readSlide(){let t,n;switch(this.cursor.nextNumber(S.Int8)){case-2:t=gt.SlideIntoFromAbove,n=!1;break;case-1:t=gt.SlideIntoFromBelow,n=!0;break;case 0:break;case 1:t=gt.ShiftSlide,n=!0;break;case 2:t=gt.LegatoSlide,n=!0;break;case 3:t=gt.SlideOutDownwards,n=!1;break;case 4:t=gt.SlideOutUpwards,n=!0;break}if(t)return{type:t,upwards:!!n}}readHarmonics(){const t=this.cursor.nextNumber(S.Uint8);switch(t){case 0:return;case 1:return Ne.Natural;case 3:return Ne.Tapped;case 4:return Ne.Pinch;case 5:return Ne.Semi;case 15:return Ne.ArtificialPlus5;case 17:return Ne.ArtificialPlus7;case 22:return Ne.ArtificialPlus12;default:console.warn(`Unknown harmonic style: ${t}`)}}readChordDiagram(){this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint32),this.cursor.nextNumber(S.Uint32),this.cursor.nextNumber(S.Uint8);const t=this.cursor.nextLengthPrefixedString();this.cursor.skip(20-t.length),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8);const n=this.cursor.nextNumber(S.Uint32),r=[this.cursor.nextNumber(S.Int32),this.cursor.nextNumber(S.Int32),this.cursor.nextNumber(S.Int32),this.cursor.nextNumber(S.Int32),this.cursor.nextNumber(S.Int32),this.cursor.nextNumber(S.Int32),this.cursor.nextNumber(S.Int32)],i=this.cursor.nextNumber(S.Uint8),s=[this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8)],o=[this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8)],a=[this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8)];this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8);let l;return(i>0||r.some(u=>u!=-1))&&(l={baseFret:n,frets:r,barres:q5(s,o,a).slice(0,i).map(([u,c,f])=>({baseFret:u||1,firstString:c||0,lastString:f||0}))}),{name:t,diagram:l}}readComments(){const t=this.cursor.nextNumber(S.Uint32);return this.debug({numCommentLines:t}),ze(t).map(()=>this.cursor.nextLengthPrefixedString(S.Uint32))}readLyrics(){if(!(this.version<4)){this.debug("lyrics"),this.cursor.nextNumber(S.Uint32);for(let t=0;t<5;++t)this.cursor.nextNumber(S.Uint32),this.cursor.nextLengthPrefixedString(S.Uint32)}}readMidiChannels(){const t=[];for(let n=1;n<=4;++n){const r=[];for(let i=1;i<=16;++i){const s=this.cursor.nextNumber(S.Uint32),o=this.cursor.nextNumber(S.Uint8);this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),this.cursor.nextNumber(S.Uint8),r.push({instrument:s,volume:o/16})}t.push(r)}return t}readBend(){let t;const n=this.cursor.nextNumber(S.Uint8);switch(n){case 0:return;case 1:t=rt.Bend;break;case 2:t=rt.BendRelease;break;case 3:t=rt.BendReleaseBend;break;case 4:t=rt.Prebend;break;case 5:t=rt.PrebendRelease;break;case 6:t=rt.Dip;break;case 7:t=rt.Dive;break;case 8:t=rt.ReleaseUp;break;case 9:t=rt.InvertedDip;break;case 10:t=rt.Return;break;case 11:t=rt.ReleaseDown;break;default:throw new Error(`Unknown bend type value @ ${this.cursor.position.toString(16)}: ${n}`)}const r=this.cursor.nextNumber(S.Uint32)/100,i=this.cursor.nextNumber(S.Uint32),s=ze(i).map(o=>{const a=this.cursor.nextNumber(S.Uint32)/60,l=this.cursor.nextNumber(S.Uint32)/(100*r),u=this.cursor.nextNumber(S.Uint8);return{time:a,amplitude:r*l,vibrato:u}});return{type:t,amplitude:r,points:s}}readColor(){this.cursor.nextNumber(S.Uint8);const t=this.cursor.nextNumber(S.Uint8),n=this.cursor.nextNumber(S.Uint8),r=this.cursor.nextNumber(S.Uint8);return`#${iT((r<<16|n<<8|t).toString(16),6,"0")}`}readInfoString(){const t=this.cursor.nextNumber(S.Uint32)-1;return this.cursor.skip(),t<=0?"":this.cursor.nextString(t)}readVersion(){const t=this.cursor.nextLengthPrefixedString(),n=s$.exec(t);try{let r=Number.NaN;if(n&&(r=parseInt(n[1]??"")),!Number.isFinite(r))throw new Error(`Unsupported Guitar Pro version: ${t})`);return r}finally{this.cursor.skip(30-t.length)}}readNoteDynamic(){const t=this.cursor.nextNumber(S.Uint8);switch(t){case 1:return xe.Pianississimo;case 2:return xe.Pianissimo;case 3:return xe.Piano;case 4:return xe.MezzoPiano;case 5:return xe.MezzoForte;case 6:return xe.Forte;case 7:return xe.Fortissimo;case 8:return xe.Fortississimo;default:console.warn(`Unknown dynamic value: ${t}`)}}readGraceNote(){const t=this.cursor.nextNumber(S.Uint8),n=this.readNoteDynamic(),r=this.cursor.nextNumber(S.Uint8),i=this.cursor.nextNumber(S.Uint8);let s;switch(i){case 1:s=Y.fromNumber(32);break;case 2:s=Y.fromNumber(32);break;case 3:s=Y.fromNumber(16);break;default:throw new Error(`unsupported value for grace note duration: ${i}`)}return{fret:t,value:s,dynamic:n,transition:r}}debug(t){}}const Vt=e=>[(e&128)===128,(e&64)===64,(e&32)===32,(e&16)===16,(e&8)===8,(e&4)===4,(e&2)===2,(e&1)===1],l$=e=>{const n=new TextDecoder().decode(e);return{load(){return u$(n)}}};function u$(e){const n=new DOMParser().parseFromString(e,"application/xml");if(n.documentElement.nodeName=="parsererror")throw new Error(n.documentElement.innerText);const r=lg(n,n,"//score-partwise");if(!r)return new Jl({parts:[]});const i=qe(n,r,"work/work-title"),s=qe(n,r,"identification/creator[@type='composer']");return new Jl({title:i,composer:s,parts:c$(n,r)})}function c$(e,t){return ug(e,t,"part").map((n,r)=>{const i=qe(e,n,"@id"),s=qe(e,t,`part-list/score-part[@id='${i}']/part-name`),o=qe(e,n,"//staff-details/staff-lines");let a;const l=lg(e,n,"measure[1]/attributes"),u=l&&v$(e,l);return u?a={type:"string",midiPreset:24,volume:1,tuning:u}:a={type:"string",midiPreset:25,volume:.8125,tuning:["E4","B3","G3","D3","A2","E2"].map(f=>xt.fromScientificNotation(f))},{name:s??`Part ${r+1}`,lineCount:parseInt(o||"6"),measures:f$(e,n),instrument:a}})}function f$(e,t){return ug(e,t,"measure").map((n,r)=>({chords:y$(e,n),number:r+1,staffDetails:d$(e,n)[0]}))}function d$(e,t){const n=lg(e,t,"attributes");if(!n)return[{}];const r=s=>{if(s)return{value:s,changed:!0}};return[{clef:r(p$(e,n)),key:r(g$(e,n)),time:r(m$(e,n)),tempo:r(h$(e,t))}]}function h$(e,t){const n=qe(e,t,"direction/sound/@tempo");if(n)return parseInt(n)}function p$(e,t){const n=qe(e,t,"clef/sign"),r=qe(e,t,"clef/line");if(n&&r)return{sign:n,line:parseInt(r)}}function m$(e,t){const n=qe(e,t,"time/beats"),r=qe(e,t,"time/beat-type");if(n&&r)return new pa(Y.fromNumber(parseInt(r)),parseInt(n))}function g$(e,t){const n=qe(e,t,"key/fifths"),r=qe(e,t,"key/mode");if(n&&r)return{fifths:parseInt(n),mode:r}}function v$(e,t){return ug(e,t,"staff-details/staff-tuning").map(r=>{const i=bl(e,r,"tuning-step"),s=parseInt(bl(e,r,"tuning-octave")),o=parseInt(qe(e,r,"tuning-alter")||"0");return new xt(i,s,o)})}function y$(e,t){const n=[],r=e.evaluate("note",t,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE);let i=r.iterateNext();for(;i;){const s=[];for(;i&&(Kh(e,i,"pitch")&&Kh(e,i,"duration")&&s.push(x$(e,i)),i=r.iterateNext(),!(i&&!Kh(e,i,"chord"))););s.length>0&&n.push({notes:s,value:s[0].value})}return n}function x$(e,t){const n=bl(e,t,"pitch/step"),r=parseInt(bl(e,t,"pitch/octave")),i=parseInt(qe(e,t,"pitch/alter")||"0"),s=new xt(n,r,i),o=bl(e,t,"type"),a={pitch:s,value:Y.fromString(o)},l=qe(e,t,"notations/technical/fret"),u=qe(e,t,"notations/technical/string");l&&u&&(a.placement={fret:parseInt(l),string:parseInt(u)});const c=qe(e,t,"tie/@type");return a.tie=c,a}function lg(e,t,n){return e.evaluate(n,t,null,XPathResult.FIRST_ORDERED_NODE_TYPE).singleNodeValue}function ug(e,t,n){const r=e.evaluate(n,t,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE);return Kl(ze(r.snapshotLength).map(i=>r.snapshotItem(i)))}function bl(e,t,n){var i;const r=e.evaluate(n,t,null,XPathResult.ANY_UNORDERED_NODE_TYPE);if(!((i=r.singleNodeValue)!=null&&i.textContent))throw new Error(`query ${n} failed to find content`);return r.singleNodeValue.textContent}function qe(e,t,n){var i;return((i=e.evaluate(n,t,null,XPathResult.ANY_UNORDERED_NODE_TYPE).singleNodeValue)==null?void 0:i.textContent)||void 0}function Kh(e,t,n){return!!e.evaluate(n,t,null,XPathResult.ANY_UNORDERED_NODE_TYPE).singleNodeValue}async function b$(e,t){if(e instanceof Response){const n=await e.arrayBuffer();return Wh(n,Fc(e))}else if(B5(e)||"hostname"in e){const n=await fetch(e.toString()),r=await n.arrayBuffer();return Wh(r,Fc(n))}else{const n=await e.arrayBuffer();return Wh(n,Fc(e))}}var ex=(e=>(e.GuitarPro="Guitar Pro",e.MusicXML="MusicXML",e.Muzart="Muzart",e.Unknown="Unknown",e))(ex||{});const Tp=e=>{let t,n;return"name"in e?(t=e.name,n=e.type):(t=new URL(e.url).pathname,n=e.headers.get("Content-Type")),{filename:t,mimeType:n}},w$=/\.gp\d$/,Fc=e=>{const{filename:t,mimeType:n}=Tp(e);return w$.test(t)?"Guitar Pro":t.endsWith(".muz")||t.endsWith(".muzart")?"Muzart":t.endsWith(".xml")||t.endsWith(".musicxml")||n==="application/xml"?"MusicXML":"Unknown"};function Wh(e,t){if(t=="Unknown")throw new Error("Unable to load score from buffer with unknown type");console.time("loadScore");try{switch(t){case"MusicXML":{const n=l$(e).load();return iy(n)}case"Guitar Pro":{const n=o$(e).load();return iy(n)}case"Muzart":{const n=JSON.parse(new TextDecoder().decode(e));return new Jl(n)}}}finally{console.timeEnd("loadScore")}}function iy(e){return _$(e),S$(e),e}function _$(e){const t={},n=(r,i)=>{const s=t[r];if(s){const o=i.staffDetails[r];i.staffDetails[r]=mN(o==null?void 0:o.value,s.value)}};for(const r of e.parts){t.key=void 0,t.time=void 0,t.clef=void 0,t.tempo=void 0;for(const i of r.measures)n("clef",i),n("key",i),n("tempo",i),n("time",i),Object.assign(t,BC(i.staffDetails))}}function S$(e){var t,n;for(const r of e.parts){const i=ze(r.lineCount).map(()=>{}),s=ze(r.lineCount).map(()=>{});for(let o=r.measures.length-1;o>=0;--o){const a=r.measures[o];for(let l=a.chords.length-1;l>=0;--l){const u=a.chords[l];for(const c of u.notes){if(!c.placement)continue;const f=((t=c.tie)==null?void 0:t.type)==="detect",d=i[c.placement.string],h=s[c.placement.string];d&&h&&(c.tie={type:"start",next:{note:d,chord:h}},(n=d.tie)!=null&&n.next?d.tie={type:"middle",previous:{note:c,chord:u},next:d.tie.next}:d.tie={type:"stop",previous:{note:c,chord:u}}),f?(i[c.placement.string]=c,s[c.placement.string]=u):(i[c.placement.string]=void 0,s[c.placement.string]=void 0)}}}}}class E$ extends ga{constructor(n,r){super();g(this,"gain");this.envelope=r,this.gain=n.createGain()}start(n,r){O$(this.gain.gain,this.envelope,n??0)}stop(){this.gain.disconnect()}dispose(){this.gain.disconnect()}get pitch(){}get raw(){return this.gain}}const O$=(e,t,n)=>{const{attack:r,decay:i,sustain:s,release:o}=t,a=e.value;let l=n;r?(e.setValueAtTime(0,l),e.linearRampToValueAtTime(a,l+r),l+=r):e.setValueAtTime(a,l),i&&(e.linearRampToValueAtTime(.8*a,l+i),l+=i),s&&(l+=s),o&&(e.linearRampToValueAtTime(0,l+o),l+=o)};class A${constructor(t){g(this,"buffers");g(this,"findClosest",Au(t=>{for(let n=0;n<96;++n){const r=this.buffers.get(t+n);if(r)return[r,n];const i=this.buffers.get(t-n);if(i)return[i,-n]}throw new Error(`No available buffers for note: ${t}`)}));this.options=t,this.buffers=new Map(t.buffers)}generate(t){const n=t.pitch.toMidi(),[r,i]=this.findClosest(n),s=new Hi(this.createToneBufferSource(r,i,!(this.options.instrument instanceof is))),o=r.generators[nl.EnvelopeVolumeAttack],a=r.generators[nl.EnvelopeVolumeDecay],l=r.generators[nl.EnvelopeVolumeRelease],u=r.generators[nl.EnvelopeVolumeSustain],c=new E$(this.options.context,{attack:o,sustain:u,decay:a,release:l});return s.connect(c),new eu(s,c)}createToneBufferSource(t,n,r=!0){const i=this.options.context.createBufferSource();return i.buffer=t.buffer,i.detune.value=-100*n,i.loop=r,i.loopStart=(t.startLoop-t.start)/t.sampleRate,i.loopEnd=(t.endLoop-t.start)/t.sampleRate,i}}var nl=(e=>(e[e.EnvelopeVolumeAttack=34]="EnvelopeVolumeAttack",e[e.EnvelopeVolumeDecay=36]="EnvelopeVolumeDecay",e[e.EnvelopeVolumeHold=35]="EnvelopeVolumeHold",e[e.EnvelopeVolumeRelease=38]="EnvelopeVolumeRelease",e[e.EnvelopeVolumeSustain=37]="EnvelopeVolumeSustain",e[e.Instrument=41]="Instrument",e[e.KeyRange=43]="KeyRange",e[e.RootKeyOverride=58]="RootKeyOverride",e[e.CoarseTune=51]="CoarseTune",e[e.SampleId=53]="SampleId",e))(nl||{});class cg{constructor(t){g(this,"sampleData");g(this,"presets");g(this,"instruments_");g(this,"samples");const n=new Z8(t);this.readRiffChunk(n)}static async fromSource(t){let n;return typeof t=="string"||t instanceof URL?n=await(await fetch(t)).arrayBuffer():t instanceof File?n=await t.arrayBuffer():t instanceof Response?n=await t.arrayBuffer():n=t,new cg(n)}generator(t,n){let r=0,i=n.midiPreset;n instanceof is&&(r=120,i=0);const s=this.presets.find(c=>c.bank==r&&c.midiPreset==i);if(!s)return null;let o=[];if(n instanceof is)o=s.zones.filter(c=>41 in c.generators);else{const c=s.zones.find(f=>41 in f.generators);c&&o.push(c)}if(o.length==0)return null;const a=Kl(o.map(c=>{const f=c.generators[41];return f&&this.instruments_[f]}));if(a.length==0)return null;const l=a.flatMap(c=>{let f=c.zones[0];return!(f!=null&&f.generators[53])||(f=void 0),c.zones.filter(v=>53 in v.generators).map(v=>{const x=v.generators[53];if(!x)return;const b=this.samples[x],m=b.end-b.start,p=b.sampleRate;try{const y=t.createBuffer(1,m,p);y.copyToChannel(this.sampleData.subarray(b.start,b.end),0);const _={...f==null?void 0:f.generators,...v.generators},E={...f==null?void 0:f.modulators,...v.modulators},P=_[58]??b.originalPitch,O=_[51]??0;return[P-O,{...b,generators:_,modulators:E,buffer:y}]}catch(y){console.error(`couldn't create instrument buffer: ${y}`)}})}),u=Y5(Kl(l),c=>c[0]);if(u.length==0)throw new Error(`instrument for preset ${i} has no samples`);return new A$({buffers:u,instrument:n,context:t})}get supportedInstruments(){return this.presets.filter(t=>t.bank==0).map(t=>({name:t.name,midiPreset:t.midiPreset}))}readRiffChunk(t){t.nextString(4),t.nextNumber(S.Uint32),t.nextString(4),this.readInfoList(t),this.readSampleDataList(t),this.readPresetList(t)}readInfoList(t){t.nextString(4);const n=t.nextNumber(S.Uint32);t.nextString(4),t.skip(n-4)}readSampleDataList(t){t.nextString(4),t.nextNumber(S.Uint32),t.nextString(4),t.nextString(4);const n=t.nextNumber(S.Uint32);let r;if(r=new Int16Array(t.buffer,t.position,n/2),t.skip(n),t.nextString(4)=="sm24"){const o=t.nextNumber(S.Uint32);t.skip(o)}else t.skip(-4);this.sampleData=new Float32Array(r.length*2);const i=32768;for(let s=0;s<r.length;++s)this.sampleData[s]=r[s]/i}readPresetList(t){t.nextString(4),t.nextNumber(S.Uint32),t.nextString(4),this.presets=this.readPresets(t);const n=this.readZones(t),r=this.readModulators(t),i=this.readGenerators(t);this.mapZones(this.presets,n,i,r),this.instruments_=this.readInstruments(t);const s=this.readZones(t),o=this.readModulators(t),a=this.readGenerators(t);this.mapZones(this.instruments_,s,a,o),this.samples=this.readSamples(t)}mapZones(t,n,r,i){for(let s=0;s<t.length;++s){const o=t[s],a=s==t.length-1?n.length:t[s+1].zoneIndex;for(let l=o.zoneIndex;l<a;++l){const{generatorIndex:u,modulatorIndex:c}=n[l],f=l==n.length-1?r.length:n[l+1].generatorIndex,d=l==n.length-1?i.length:n[l+1].modulatorIndex;o.zones.push({generators:Object.fromEntries(r.slice(u,f)),modulators:i.slice(c,d)})}}}readPresets(t){const n=[];t.nextString(4);const r=t.nextNumber(S.Uint32),i=t.position+r;for(;t.position<i;){const s=t.nextNullTerminatedString(20),o=t.nextNumber(S.Uint16),a=t.nextNumber(S.Uint16),l=t.nextNumber(S.Uint16),u=t.nextNumber(S.Uint32),c=t.nextNumber(S.Uint32),f=t.nextNumber(S.Uint32);n.push({name:s,midiPreset:o,bank:a,zoneIndex:l,library:u,genre:c,morphology:f,zones:[]})}return n}readZones(t){const n=[];t.nextString(4);const r=t.nextNumber(S.Uint32),i=t.position+r;for(let s=0;t.position<i;++s){const o=t.nextNumber(S.Uint16),a=t.nextNumber(S.Uint16);n.push({generatorIndex:o,modulatorIndex:a})}return n}readModulators(t){const n=[];t.nextString(4);const r=t.nextNumber(S.Uint32),i=t.position+r;for(let s=0;t.position<i;++s){const o=t.nextNumber(S.Uint16),a=t.nextNumber(S.Uint16),l=t.nextNumber(S.Int16),u=t.nextNumber(S.Uint16),c=t.nextNumber(S.Uint16);n.push({sourceModulator:o,destinationModulator:a,modulatorAmount:l,sourceAmountModulator:u,modulatorTransform:c})}return n}readGenerators(t){const n=[];t.nextString(4);const r=t.nextNumber(S.Uint32),i=t.position+r;for(let s=0;t.position<i;s+=1){const o=t.nextNumber(S.Uint16);let a;switch(o){case 34:case 36:case 35:case 38:a=Math.pow(2,t.nextNumber(S.Int16)/1200);break;case 51:a=t.nextNumber(S.Int16);break;default:a=t.nextNumber(S.Uint16);break}n.push([o,a])}return n}readInstruments(t){const n=[];t.nextString(4);const r=t.nextNumber(S.Uint32),i=t.position+r;for(let s=0;t.position<i;++s){const o=t.nextNullTerminatedString(20),a=t.nextNumber(S.Uint16);n.push({name:o,zoneIndex:a,zones:[]})}return n}readSamples(t){const n=[];t.nextString(4);const r=t.nextNumber(S.Uint32),i=t.position+r;for(;t.position<i;){const s=t.nextNullTerminatedString(20),o=t.nextNumber(S.Uint32),a=t.nextNumber(S.Uint32),l=t.nextNumber(S.Uint32),u=t.nextNumber(S.Uint32),c=t.nextNumber(S.Uint32),f=t.nextNumber(S.Uint8),d=t.nextNumber(S.Int8),h=t.nextNumber(S.Uint16),v=t.nextNumber(S.Uint16);n.push({sampleName:s,start:o,end:a,startLoop:l,endLoop:u,sampleRate:c,originalPitch:f,pitchCorrection:d,sampleLink:h,sampleType:v})}return n}}var pu;class P${constructor(t){g(this,"playing",!1);g(this,"currentMeasure");g(this,"startOfCurrentMeasure",0);g(this,"mutedParts",[]);g(this,"soloedParts",[]);g(this,"sourceGeneratorFactory",new r$);at(this,pu,!1);g(this,"audioContext");g(this,"playbackHandle");g(this,"setCurrentMeasureHandle");g(this,"instruments_",{});g(this,"destination");this.selection=t,this.audioContext=new AudioContext,this.init().catch(r=>{console.error("could not load audio worklets",r)});let n=t.score;ng(()=>{n!=t.score&&(this.reset(),n=t.score)}),this.destination=new Hi(this.audioContext.destination),Na(this,{playing:ve,currentMeasure:ve.ref,mutedParts:ve,soloedParts:ve,setCurrentMeasure:$t,togglePlay:$t,stop:$t,reset:$t,loadSoundFont:li})}async init(){await Promise.all([this.audioContext.audioWorklet.addModule("./worklets/KarplusStrong.js")]),this.reset(),Ue(this,pu,!0)}reset(){var t,n;this.mutedParts=new Array((t=this.selection.score)==null?void 0:t.score.parts.length).fill(!1),this.soloedParts=new Array((n=this.selection.score)==null?void 0:n.score.parts.length).fill(!1),this.stop()}get instrument(){return this.instrumentForPart(this.selection.partIndex)}toggleMute(t){var r;const n=((r=this.selection.score)==null?void 0:r.score.parts.indexOf(t))??-1;n>=0&&(this.mutedParts[n]=!this.mutedParts[n])}toggleSolo(t){var r;const n=((r=this.selection.score)==null?void 0:r.score.parts.indexOf(t))??-1;n>=0&&(this.soloedParts[n]=!this.soloedParts[n])}*loadSoundFont(t){try{console.time("loading soundfont"),this.sourceGeneratorFactory=yield cg.fromSource(t),this.instruments_={},console.timeEnd("loading soundfont")}catch(n){console.error(n)}}togglePlay(){if(!this.isReady){console.warn("playback controller asked to start playback before audio context ready");return}const t=this.playing;if(this.stop(),t)return;const n=this.selection.score;if(!n)return;this.startOfCurrentMeasure=this.audioContext.currentTime;const r=.1,i=this.measureTimes();let s=this.audioContext.currentTime,o=this.selection.measureIndex;const a=()=>{if(!this.playing)return;const l=s-this.audioContext.currentTime;if(l>r){this.playbackHandle=window.setTimeout(a,1e3*(l-r));return}let u;this.soloedParts.some(d=>d)?u=this.soloedParts:u=this.mutedParts.map(d=>!d),n.score.parts.forEach((d,h)=>{var p;const v=d.measures[o];if(!v)return;if(d==((p=this.selection.part)==null?void 0:p.part)){const y=this.selection.part.children.find(E=>!!E.measures.find(P=>P.measure==v)),_=y==null?void 0:y.measures.find(E=>E.measure==v);l<.001?this.setCurrentMeasure(_):this.setCurrentMeasureHandle=window.setTimeout(()=>{this.setCurrentMeasure(_)},1e3*l)}if(!u[h])return;const x=this.instrumentForPart(h);if(!x)return;const b=h==this.selection.partIndex?void 0:.2;let m=l;for(const y of v.chords){if(!y.rest){for(const _ of y.notes)if(x.playNote(_,{tempo:this.tempoOfSelection,when:m,gain:b}),_.graceNote){const E=Wo(_.graceNote.value,this.tempoOfSelection);x.playNote(_.graceNote,{tempo:this.tempoOfSelection,when:m-E,gain:b})}}m+=Wo(y.value,this.tempoOfSelection)}});const f=i[o++];s+=f,this.playbackHandle=window.setTimeout(a,1e3*(s-r-this.audioContext.currentTime))};this.playing=!0,this.currentMeasure=this.selection.measure,this.withPlayback(a)}stop(){if(this.playbackHandle){clearTimeout(this.playbackHandle),clearTimeout(this.setCurrentMeasureHandle),this.playbackHandle=void 0,this.setCurrentMeasureHandle=void 0,this.playing=!1,this.currentMeasure=void 0;for(const t of Object.values(this.instruments_))t==null||t.stop();this.audioContext.suspend().catch(console.error)}}get isReady(){return le(this,pu)}playNote(t=(n=>(n=this.selection.note)==null?void 0:n.note)()){t&&this.withPlayback(()=>{var r,i;(r=this.instrument)==null||r.stop(),(i=this.instrument)==null||i.playNote(t,{tempo:this.tempoOfSelection,durationSecs:1})})}setCurrentMeasure(t){this.currentMeasure=t,this.startOfCurrentMeasure=this.audioContext.currentTime}get currentTime(){return this.audioContext.currentTime}get tempoOfSelection(){var t,n;return((n=(t=this.selection.measure)==null?void 0:t.measure.staffDetails.tempo)==null?void 0:n.value)??128}measureTimes(){var r;const t=(r=this.selection.score)==null?void 0:r.score;if(!t)return[];let n=this.tempoOfSelection;return ze(t.parts[0].measures.length).map(i=>(n=ca(t.parts,o=>{var a;return(a=o.measures[i].staffDetails.tempo)==null?void 0:a.value})??n,Wo(new Y(ie.Whole),n)))}instrumentForPart(t){var s;const n=(s=this.selection.score)==null?void 0:s.score.parts[t];if(!(n!=null&&n.instrument))return null;const r=n.instrument.midiPreset;let i=this.instruments_[r];if(!i)try{const o=this.sourceGeneratorFactory.generator(this.audioContext,n.instrument);if(!o)return null;i=new RN({context:this.audioContext,instrument:n.instrument,sourceGenerator:o,destination:this.destination}),this.instruments_[r]=i}catch{return null}return i}withPlayback(t){this.audioContext.state=="suspended"?this.audioContext.resume().then(()=>{t()}).catch(console.error):t()}}pu=new WeakMap;class ut{constructor(t,n,r,i){this.x=t,this.y=n,this.width=r,this.height=i}static empty(){return new ut(0,0,0,0)}static encompass(...t){return t.length==0?ut.empty():t.reduce((n,r)=>n.encompass(r),ut.empty())}clone(){return new ut(this.x,this.y,this.width,this.height)}translate(t,n){return n??(n=t),new ut(this.x+t,this.y+n,this.width,this.height)}expand(t,n){return n??(n=t),new ut(this.x-t,this.y-n,this.width+2*t,this.height+2*n)}update(t){return new ut(t.x??this.x,t.y??this.y,t.width??this.width,t.height??this.height)}encompass(t){const n=Math.min(this.x,t.x),r=Math.min(this.y,t.y),i=Math.max(this.right,t.right),s=Math.max(this.bottom,t.bottom);return new ut(n,r,i-n,s-r)}contains(t){return t instanceof ut?this.x<=t.x&&t.right<=this.right&&this.y<=t.y&&t.bottom<=this.bottom:this.x<=t.x&&t.x<=this.right&&this.y<=t.y&&t.y<=this.bottom}overlaps(t){return this.x<=t.right&&this.right>=t.x&&this.y<=t.bottom&&this.bottom>=t.y}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}get top(){return this.y}get left(){return this.x}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get centerX(){return this.x+.5*this.width}get centerY(){return this.y+.5*this.height}toString(){return`Box(${this.x}, ${this.y}, ${this.width}, ${this.height})`}}const C$=4;class tx{constructor(t){g(this,"disposers",[]);g(this,"root");g(this,"element");g(this,"canvas");g(this,"state");const{state:n,root:r,disabled:i,onDoubleClick:s,onMouseDown:o,onMouseMove:a,onContextMenu:l}=t,u=r.ownerDocument,c=u.createElement("div");c.style.width="100%",c.style.height="100%",c.style.overflow="hidden";const f=u.createElement("canvas");if(f.width=window.screen.width*window.devicePixelRatio,f.height=window.screen.height*window.devicePixelRatio,f.style.width=window.screen.width+"px",f.style.height=window.screen.height+"px",f.style.imageRendering="crisp-edges",s&&f.addEventListener("dblclick",mc(n,s)),o&&f.addEventListener("mousedown",mc(n,o)),a&&f.addEventListener("mousemove",mc(n,a)),l&&f.addEventListener("contextmenu",mc(n,l)),c.appendChild(f),!i){let d=!0,h=!1,v=-1;const x=b=>{clearTimeout(v),d&&(h=b.metaKey,d=!1),b.deltaY!=0&&(b.preventDefault(),b.stopPropagation(),h&&n.zoomCenteredOn(Math.exp(b.deltaY/C$/100),b.offsetX,b.offsetY)),!h&&(b.deltaX!=0||b.deltaY!=0)&&n.scrollBy(b.deltaX,b.deltaY),v=window.setTimeout(()=>{d=!0,h=!1},50)};c.addEventListener("wheel",x)}if(!i){let d=0,h=0;const v=b=>{b.touches.length===1&&(b.preventDefault(),d=b.touches[0].clientX,h=b.touches[0].clientY)},x=b=>{if(b.touches.length!==1)return;b.preventDefault();const m=b.touches[0].clientX-d,p=h-b.touches[0].clientY;d=b.touches[0].clientX,h=b.touches[0].clientY,n.scrollBy(m,p)};c.addEventListener("touchstart",v),c.addEventListener("touchmove",x)}this.root=r,this.state=n,this.canvas=f,this.element=c}mount(){return this.root.appendChild(this.element),this.state.setCanvas(this.canvas),()=>{this.disposers.forEach(t=>t()),this.state.setCanvas(null),this.root.removeChild(this.element)}}}const mc=(e,t)=>n=>{const r=e.canvasViewportToUserSpace({x:n.offsetX,y:n.offsetY});t(r,n)};function fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var T$={};function fg(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:T$}var nx=Object.assign,Rf=Object.getOwnPropertyDescriptor,er=Object.defineProperty,zd=Object.prototype,kp=[];Object.freeze(kp);var rx={};Object.freeze(rx);var k$=typeof Proxy<"u",N$=Object.toString();function ix(){k$||fe("Proxy not available")}function sx(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Js=function(){};function Mn(e){return typeof e=="function"}function os(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Bd(e){return e!==null&&typeof e=="object"}function Ar(e){if(!Bd(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===N$}function ox(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Fd(e,t,n){er(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function ax(e,t,n){er(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function xs(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return Bd(r)&&r[n]===!0}}function $a(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function $$(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function fr(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var lx=typeof Object.getOwnPropertySymbols<"u";function M$(e){var t=Object.keys(e);if(!lx)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return zd.propertyIsEnumerable.call(e,r)})):t}var tu=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:lx?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function ux(e){return e===null?null:typeof e=="object"?""+e:e}function ri(e,t){return zd.hasOwnProperty.call(e,t)}var R$=Object.getOwnPropertyDescriptors||function(t){var n={};return tu(t).forEach(function(r){n[r]=Rf(t,r)}),n};function Tt(e,t){return!!(e&t)}function kt(e,t,n){return n?e|=t:e&=~t,e}function sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function j$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L$(r.key),r)}}function Ma(e,t,n){return t&&j$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zs(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=D$(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},va.apply(null,arguments)}function cx(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Np(e,t)}function Np(e,t){return Np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Np(e,t)}function I$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function L$(e){var t=I$(e,"string");return typeof t=="symbol"?t:t+""}function D$(e,t){if(e){if(typeof e=="string")return sy(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sy(e,t):void 0}}var eo=Symbol("mobx-stored-annotations");function tr(e){function t(n,r){if(Iu(r))return e.decorate_20223_(n,r);ju(n,r,e)}return Object.assign(t,e)}function ju(e,t,n){ri(e,eo)||Fd(e,eo,va({},e[eo])),W$(n)||(e[eo][t]=n)}function Iu(e){return typeof e=="object"&&typeof e.kind=="string"}var q=Symbol("mobx administration"),xi=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=ce.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return Ox(this)},t.reportChanged=function(){rn(),Ax(this),sn()},t.toString=function(){return this.name_},Ma(e,[{key:"isBeingObserved",get:function(){return Tt(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=kt(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Tt(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=kt(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Tt(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=kt(this.flags_,e.diffValueMask_,r===1)}}])}();xi.isBeingObservedMask_=1;xi.isPendingUnobservationMask_=2;xi.diffValueMask_=4;var dg=xs("Atom",xi);function fx(e,t,n){t===void 0&&(t=Js),n===void 0&&(n=Js);var r=new xi(e);return t!==Js&&YM(r,t),n!==Js&&Nx(r,n),r}function z$(e,t){return e===t}function B$(e,t){return xg(e,t)}function F$(e,t){return xg(e,t,1)}function U$(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var jf={identity:z$,structural:B$,default:U$,shallow:F$};function as(e,t,n){return jx(e)?e:Array.isArray(e)?Ye.array(e,{name:n}):Ar(e)?Ye.object(e,void 0,{name:n}):$a(e)?Ye.map(e,{name:n}):fr(e)?Ye.set(e,{name:n}):typeof e=="function"&&!ru(e)&&!iu(e)?ox(e)?ya(e):nu(n,e):e}function V$(e,t,n){if(e==null||Gd(e)||Wd(e)||ws(e)||Wn(e))return e;if(Array.isArray(e))return Ye.array(e,{name:n,deep:!1});if(Ar(e))return Ye.object(e,void 0,{name:n,deep:!1});if($a(e))return Ye.map(e,{name:n,deep:!1});if(fr(e))return Ye.set(e,{name:n,deep:!1})}function Ud(e){return e}function H$(e,t){return xg(e,t)?t:e}var K$="override";function W$(e){return e.annotationType_===K$}function Lu(e,t){return{annotationType_:e,options_:t,make_:G$,extend_:X$,decorate_20223_:Y$}}function G$(e,t,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(ru(n.value))return 1;var s=dx(e,this,t,n,!1);return er(r,t,s),2}function X$(e,t,n,r){var i=dx(e,this,t,n);return e.defineProperty_(t,i,r)}function Y$(e,t){var n=t.kind,r=t.name,i=t.addInitializer,s=this,o=function(u){var c,f,d,h;return ls((c=(f=s.options_)==null?void 0:f.name)!=null?c:r.toString(),u,(d=(h=s.options_)==null?void 0:h.autoAction)!=null?d:!1)};if(n=="field")return function(l){var u,c=l;return ru(c)||(c=o(c)),(u=s.options_)!=null&&u.bound&&(c=c.bind(this),c.isMobxAction=!0),c};if(n=="method"){var a;return ru(e)||(e=o(e)),(a=this.options_)!=null&&a.bound&&i(function(){var l=this,u=l[r].bind(l);u.isMobxAction=!0,l[r]=u}),e}fe("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function q$(e,t,n,r){t.annotationType_,r.value}function dx(e,t,n,r,i){var s,o,a,l,u,c,f;i===void 0&&(i=L.safeDescriptors),q$(e,t,n,r);var d=r.value;if((s=t.options_)!=null&&s.bound){var h;d=d.bind((h=e.proxy_)!=null?h:e.target_)}return{value:ls((o=(a=t.options_)==null?void 0:a.name)!=null?o:n.toString(),d,(l=(u=t.options_)==null?void 0:u.autoAction)!=null?l:!1,(c=t.options_)!=null&&c.bound?(f=e.proxy_)!=null?f:e.target_:void 0),configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function hx(e,t){return{annotationType_:e,options_:t,make_:Q$,extend_:J$,decorate_20223_:Z$}}function Q$(e,t,n,r){var i;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!ri(e.target_,t)||!iu(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(iu(n.value))return 1;var s=px(e,this,t,n,!1,!1);return er(r,t,s),2}function J$(e,t,n,r){var i,s=px(e,this,t,n,(i=this.options_)==null?void 0:i.bound);return e.defineProperty_(t,s,r)}function Z$(e,t){var n,r=t.name,i=t.addInitializer;return iu(e)||(e=ya(e)),(n=this.options_)!=null&&n.bound&&i(function(){var s=this,o=s[r].bind(s);o.isMobXFlow=!0,s[r]=o}),e}function eM(e,t,n,r){t.annotationType_,r.value}function px(e,t,n,r,i,s){s===void 0&&(s=L.safeDescriptors),eM(e,t,n,r);var o=r.value;if(iu(o)||(o=ya(o)),i){var a;o=o.bind((a=e.proxy_)!=null?a:e.target_),o.isMobXFlow=!0}return{value:o,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function hg(e,t){return{annotationType_:e,options_:t,make_:tM,extend_:nM,decorate_20223_:rM}}function tM(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function nM(e,t,n,r){return iM(e,this,t,n),e.defineComputedProperty_(t,va({},this.options_,{get:n.get,set:n.set}),r)}function rM(e,t){var n=this,r=t.name,i=t.addInitializer;return i(function(){var s=Ra(this)[q],o=va({},n.options_,{get:e,context:this});o.name||(o.name="ObservableObject."+r.toString()),s.values_.set(r,new Rn(o))}),function(){return this[q].getObservablePropValue_(r)}}function iM(e,t,n,r){t.annotationType_,r.get}function Vd(e,t){return{annotationType_:e,options_:t,make_:sM,extend_:oM,decorate_20223_:aM}}function sM(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function oM(e,t,n,r){var i,s;return lM(e,this),e.defineObservableProperty_(t,n.value,(i=(s=this.options_)==null?void 0:s.enhancer)!=null?i:as,r)}function aM(e,t){var n=this,r=t.kind,i=t.name,s=new WeakSet;function o(a,l){var u,c,f=Ra(a)[q],d=new Ki(l,(u=(c=n.options_)==null?void 0:c.enhancer)!=null?u:as,"ObservableObject."+i.toString(),!1);f.values_.set(i,d),s.add(a)}if(r=="accessor")return{get:function(){return s.has(this)||o(this,e.get.call(this)),this[q].getObservablePropValue_(i)},set:function(l){return s.has(this)||o(this,l),this[q].setObservablePropValue_(i,l)},init:function(l){return s.has(this)||o(this,l),l}}}function lM(e,t,n,r){t.annotationType_}var uM="true",cM=mx();function mx(e){return{annotationType_:uM,options_:e,make_:fM,extend_:dM,decorate_20223_:hM}}function fM(e,t,n,r){var i,s;if(n.get)return Hd.make_(e,t,n,r);if(n.set){var o=ls(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:L.safeDescriptors?e.isPlainObject_:!0,set:o})===null?0:2:(er(r,t,{configurable:!0,set:o}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(ox(n.value)){var l,u=(l=this.options_)!=null&&l.autoBind?ya.bound:ya;return u.make_(e,t,n,r)}var c=(a=this.options_)!=null&&a.autoBind?nu.bound:nu;return c.make_(e,t,n,r)}var f=((i=this.options_)==null?void 0:i.deep)===!1?Ye.ref:Ye;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var d;n.value=n.value.bind((d=e.proxy_)!=null?d:e.target_)}return f.make_(e,t,n,r)}function dM(e,t,n,r){var i,s;if(n.get)return Hd.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:L.safeDescriptors?e.isPlainObject_:!0,set:ls(t.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var o;n.value=n.value.bind((o=e.proxy_)!=null?o:e.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?Ye.ref:Ye;return a.extend_(e,t,n,r)}function hM(e,t){fe("'"+this.annotationType_+"' cannot be used as a decorator")}var pM="observable",mM="observable.ref",gM="observable.shallow",vM="observable.struct",gx={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(gx);function gc(e){return e||gx}var $p=Vd(pM),yM=Vd(mM,{enhancer:Ud}),xM=Vd(gM,{enhancer:V$}),bM=Vd(vM,{enhancer:H$}),vx=tr($p);function vc(e){return e.deep===!0?as:e.deep===!1?Ud:_M(e.defaultDecorator)}function wM(e){var t;return e?(t=e.defaultDecorator)!=null?t:mx(e):void 0}function _M(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:as}function yx(e,t,n){if(Iu(t))return $p.decorate_20223_(e,t);if(os(t)){ju(e,t,$p);return}return jx(e)?e:Ar(e)?Ye.object(e,t,n):Array.isArray(e)?Ye.array(e,t):$a(e)?Ye.map(e,t):fr(e)?Ye.set(e,t):typeof e=="object"&&e!==null?e:Ye.box(e,t)}nx(yx,vx);var SM={box:function(t,n){var r=gc(n);return new Ki(t,vc(r),r.name,!0,r.equals)},array:function(t,n){var r=gc(n);return(L.useProxies===!1||r.proxy===!1?pR:iR)(t,vc(r),r.name)},map:function(t,n){var r=gc(n);return new Lx(t,vc(r),r.name)},set:function(t,n){var r=gc(n);return new Dx(t,vc(r),r.name)},object:function(t,n,r){return _s(function(){return Mx(L.useProxies===!1||(r==null?void 0:r.proxy)===!1?Ra({},r):eR({},r),t,n)})},ref:tr(yM),shallow:tr(xM),deep:vx,struct:tr(bM)},Ye=nx(yx,SM),xx="computed",EM="computed.struct",Mp=hg(xx),OM=hg(EM,{equals:jf.structural}),Hd=function(t,n){if(Iu(n))return Mp.decorate_20223_(t,n);if(os(n))return ju(t,n,Mp);if(Ar(t))return tr(hg(xx,t));var r=Ar(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Rn(r)};Object.assign(Hd,Mp);Hd.struct=tr(OM);var oy,ay,If=0,AM=1,PM=(oy=(ay=Rf(function(){},"name"))==null?void 0:ay.configurable)!=null?oy:!1,ly={value:"action",configurable:!0,writable:!1,enumerable:!1};function ls(e,t,n,r){n===void 0&&(n=!1);function i(){return CM(e,n,t,r||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return t.toString()},PM&&(ly.value=e,er(i,"name",ly)),i}function CM(e,t,n,r,i){var s=TM(e,t);try{return n.apply(r,i)}catch(o){throw s.error_=o,o}finally{kM(s)}}function TM(e,t,n,r){var i=!1,s=0,o=L.trackingDerivation,a=!t||!o;rn();var l=L.allowStateChanges;a&&(bs(),l=pg(!0));var u=gg(!0),c={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:l,prevAllowStateReads_:u,notifySpy_:i,startTime_:s,actionId_:AM++,parentActionId_:If};return If=c.actionId_,c}function kM(e){If!==e.actionId_&&fe(30),If=e.parentActionId_,e.error_!==void 0&&(L.suppressReactionErrors=!0),mg(e.prevAllowStateChanges_),wl(e.prevAllowStateReads_),sn(),e.runAsAction_&&br(e.prevDerivation_),L.suppressReactionErrors=!1}function pg(e){var t=L.allowStateChanges;return L.allowStateChanges=e,t}function mg(e){L.allowStateChanges=e}var Ki=function(e){function t(r,i,s,o,a){var l;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=jf.default),l=e.call(this,s)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=i,l.name_=s,l.equals=a,l.value_=i(r,void 0,s),l}cx(t,e);var n=t.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==L.UNCHANGED&&this.setNewValue_(i)},n.prepareNewValue_=function(i){if(Qt(this)){var s=Jt(this,{object:this,type:nr,newValue:i});if(!s)return L.UNCHANGED;i=s.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?L.UNCHANGED:i},n.setNewValue_=function(i){var s=this.value_;this.value_=i,this.reportChanged(),An(this)&&Pn(this,{type:nr,object:this,newValue:i,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return Du(this,i)},n.observe_=function(i,s){return s&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:nr,newValue:this.value_,oldValue:void 0}),zu(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return ux(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(xi),Rn=function(){function e(n){this.dependenciesState_=ce.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ce.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Df(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Lf.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||fe(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=ls("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?jf.structural:jf.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){RM(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&fe(32,this.name_,this.derivation),L.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Rp(this)&&(this.warnAboutUntrackedRead_(),rn(),this.value_=this.computeValue_(!1),sn());else if(Ox(this),Rp(this)){var r=L.trackingContext;this.keepAlive_&&!r&&(L.trackingContext=this),this.trackAndCompute()&&MM(this),L.trackingContext=r}var i=this.value_;if(Uc(i))throw i.cause;return i},t.set=function(r){if(this.setter_){this.isRunningSetter&&fe(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else fe(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===ce.NOT_TRACKING_,s=this.computeValue_(!0),o=i||Uc(r)||Uc(s)||!this.equals_(r,s);return o&&(this.value_=s),o},t.computeValue_=function(r){this.isComputing=!0;var i=pg(!1),s;if(r)s=bx(this,this.derivation,this.scope_);else if(L.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new Df(o)}return mg(i),this.isComputing=!1,s},t.suspend_=function(){this.keepAlive_||(jp(this),this.value_=void 0)},t.observe_=function(r,i){var s=this,o=!0,a=void 0;return HM(function(){var l=s.get();if(!o||i){var u=bs();r({observableKind:"computed",debugObjectName:s.name_,type:nr,object:s,newValue:l,oldValue:a}),br(u)}o=!1,a=l})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return ux(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Ma(e,[{key:"isComputing",get:function(){return Tt(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=kt(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Tt(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=kt(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Tt(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=kt(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Tt(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=kt(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Tt(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=kt(this.flags_,e.diffValueMask_,r===1)}}])}();Rn.isComputingMask_=1;Rn.isRunningSetterMask_=2;Rn.isBeingObservedMask_=4;Rn.isPendingUnobservationMask_=8;Rn.diffValueMask_=16;var Kd=xs("ComputedValue",Rn),ce;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(ce||(ce={}));var Lf;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Lf||(Lf={}));var Df=function(t){this.cause=void 0,this.cause=t};function Uc(e){return e instanceof Df}function Rp(e){switch(e.dependenciesState_){case ce.UP_TO_DATE_:return!1;case ce.NOT_TRACKING_:case ce.STALE_:return!0;case ce.POSSIBLY_STALE_:{for(var t=gg(!0),n=bs(),r=e.observing_,i=r.length,s=0;s<i;s++){var o=r[s];if(Kd(o)){if(L.disableErrorBoundaries)o.get();else try{o.get()}catch{return br(n),wl(t),!0}if(e.dependenciesState_===ce.STALE_)return br(n),wl(t),!0}}return _x(e),br(n),wl(t),!1}}}function bx(e,t,n){var r=gg(!0);_x(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++L.runId;var i=L.trackingDerivation;L.trackingDerivation=e,L.inBatch++;var s;if(L.disableErrorBoundaries===!0)s=t.call(n);else try{s=t.call(n)}catch(o){s=new Df(o)}return L.inBatch--,L.trackingDerivation=i,NM(e),wl(r),s}function NM(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=ce.UP_TO_DATE_,i=0,s=e.unboundDepsCount_,o=0;o<s;o++){var a=n[o];a.diffValue===0&&(a.diffValue=1,i!==o&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=i,e.newObserving_=null,s=t.length;s--;){var l=t[s];l.diffValue===0&&Sx(l,e),l.diffValue=0}for(;i--;){var u=n[i];u.diffValue===1&&(u.diffValue=0,$M(u,e))}r!==ce.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function jp(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Sx(t[n],e);e.dependenciesState_=ce.NOT_TRACKING_}function wx(e){var t=bs();try{return e()}finally{br(t)}}function bs(){var e=L.trackingDerivation;return L.trackingDerivation=null,e}function br(e){L.trackingDerivation=e}function gg(e){var t=L.allowStateReads;return L.allowStateReads=e,t}function wl(e){L.allowStateReads=e}function _x(e){if(e.dependenciesState_!==ce.UP_TO_DATE_){e.dependenciesState_=ce.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=ce.UP_TO_DATE_}}var Gh=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Xh=!0,L=function(){var e=fg();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Xh=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new Gh().version&&(Xh=!1),Xh?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Gh):(setTimeout(function(){fe(35)},1),new Gh)}();function $M(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Sx(e,t){e.observers_.delete(t),e.observers_.size===0&&Ex(e)}function Ex(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,L.pendingUnobservations.push(e))}function rn(){L.inBatch++}function sn(){if(--L.inBatch===0){Px();for(var e=L.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Rn&&n.suspend_())}L.pendingUnobservations=[]}}function Ox(e){var t=L.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&L.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&L.inBatch>0&&Ex(e),!1)}function Ax(e){e.lowestObserverState_!==ce.STALE_&&(e.lowestObserverState_=ce.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ce.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=ce.STALE_}))}function MM(e){e.lowestObserverState_!==ce.STALE_&&(e.lowestObserverState_=ce.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ce.POSSIBLY_STALE_?t.dependenciesState_=ce.STALE_:t.dependenciesState_===ce.UP_TO_DATE_&&(e.lowestObserverState_=ce.UP_TO_DATE_)}))}function RM(e){e.lowestObserverState_===ce.UP_TO_DATE_&&(e.lowestObserverState_=ce.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ce.UP_TO_DATE_&&(t.dependenciesState_=ce.POSSIBLY_STALE_,t.onBecomeStale_())}))}var ui=function(){function e(n,r,i,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=ce.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Lf.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,L.pendingReactions.push(this),Px())},t.runReaction_=function(){if(!this.isDisposed){rn(),this.isScheduled=!1;var r=L.trackingContext;if(L.trackingContext=this,Rp(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}L.trackingContext=r,sn()}},t.track=function(r){if(!this.isDisposed){rn(),this.isRunning=!0;var i=L.trackingContext;L.trackingContext=this;var s=bx(this,r,void 0);L.trackingContext=i,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&jp(this),Uc(s)&&this.reportExceptionInDerivation_(s.cause),sn()}},t.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(L.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";L.suppressReactionErrors||console.error(s,r),L.globalReactionErrorHandlers.forEach(function(o){return o(r,i)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(rn(),jp(this),sn()))},t.getDisposer_=function(r){var i=this,s=function o(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",o)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[q]=this,s},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},Ma(e,[{key:"isDisposed",get:function(){return Tt(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=kt(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Tt(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=kt(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Tt(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=kt(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Tt(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=kt(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return Tt(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=kt(this.flags_,e.diffValueMask_,r===1)}}])}();ui.isDisposedMask_=1;ui.isScheduledMask_=2;ui.isTrackPendingMask_=4;ui.isRunningMask_=8;ui.diffValueMask_=16;var jM=100,IM=function(t){return t()};function Px(){L.inBatch>0||L.isRunningReactions||IM(LM)}function LM(){L.isRunningReactions=!0;for(var e=L.pendingReactions,t=0;e.length>0;){++t===jM&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}L.isRunningReactions=!1}var zf=xs("Reaction",ui);function _l(){return!1}function DM(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Cx="action",zM="action.bound",Tx="autoAction",BM="autoAction.bound",FM="<unnamed action>",Ip=Lu(Cx),UM=Lu(zM,{bound:!0}),Lp=Lu(Tx,{autoAction:!0}),VM=Lu(BM,{autoAction:!0,bound:!0});function kx(e){var t=function(r,i){if(Mn(r))return ls(r.name||FM,r,e);if(Mn(i))return ls(r,i,e);if(Iu(i))return(e?Lp:Ip).decorate_20223_(r,i);if(os(i))return ju(r,i,e?Lp:Ip);if(os(r))return tr(Lu(e?Tx:Cx,{name:r,autoAction:e}))};return t}var to=kx(!1);Object.assign(to,Ip);var nu=kx(!0);Object.assign(nu,Lp);to.bound=tr(UM);nu.bound=tr(VM);function ru(e){return Mn(e)&&e.isMobxAction===!0}function HM(e,t){var n,r,i,s;t===void 0&&(t=rx);var o=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",a=!t.scheduler&&!t.delay,l;if(a)l=new ui(o,function(){this.track(f)},t.onError,t.requiresObservable);else{var u=WM(t),c=!1;l=new ui(o,function(){c||(c=!0,u(function(){c=!1,l.isDisposed||l.track(f)}))},t.onError,t.requiresObservable)}function f(){e(l)}return(i=t)!=null&&(i=i.signal)!=null&&i.aborted||l.schedule_(),l.getDisposer_((s=t)==null?void 0:s.signal)}var KM=function(t){return t()};function WM(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:KM}var GM="onBO",XM="onBUO";function YM(e,t,n){return $x(GM,e,t,n)}function Nx(e,t,n){return $x(XM,e,t,n)}function $x(e,t,n,r){var i=Dp(t),s=Mn(r)?r:n,o=e+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var a=i[o];a&&(a.delete(s),a.size===0&&delete i[o])}}function Mx(e,t,n,r){var i=R$(t);return _s(function(){var s=Ra(e,r)[q];tu(i).forEach(function(o){s.extend_(o,i[o],n&&o in n?n[o]:!0)})}),e}var qM=0;function Rx(){this.message="FLOW_CANCELLED"}Rx.prototype=Object.create(Error.prototype);var Yh=hx("flow"),QM=hx("flow.bound",{bound:!0}),ya=Object.assign(function(t,n){if(Iu(n))return Yh.decorate_20223_(t,n);if(os(n))return ju(t,n,Yh);var r=t,i=r.name||"<unnamed flow>",s=function(){var a=this,l=arguments,u=++qM,c=to(i+" - runid: "+u+" - init",r).apply(a,l),f,d=void 0,h=new Promise(function(v,x){var b=0;f=x;function m(_){d=void 0;var E;try{E=to(i+" - runid: "+u+" - yield "+b++,c.next).call(c,_)}catch(P){return x(P)}y(E)}function p(_){d=void 0;var E;try{E=to(i+" - runid: "+u+" - yield "+b++,c.throw).call(c,_)}catch(P){return x(P)}y(E)}function y(_){if(Mn(_==null?void 0:_.then)){_.then(y,x);return}return _.done?v(_.value):(d=Promise.resolve(_.value),d.then(m,p))}m(void 0)});return h.cancel=to(i+" - runid: "+u+" - cancel",function(){try{d&&uy(d);var v=c.return(void 0),x=Promise.resolve(v.value);x.then(Js,Js),uy(x),f(new Rx)}catch(b){f(b)}}),h};return s.isMobXFlow=!0,s},Yh);ya.bound=tr(QM);function uy(e){Mn(e.cancel)&&e.cancel()}function iu(e){return(e==null?void 0:e.isMobXFlow)===!0}function JM(e,t){return e?Gd(e)||!!e[q]||dg(e)||zf(e)||Kd(e):!1}function jx(e){return JM(e)}function dr(e,t){t===void 0&&(t=void 0),rn();try{return e.apply(t)}finally{sn()}}function Cs(e){return e[q]}var ZM={has:function(t,n){return Cs(t).has_(n)},get:function(t,n){return Cs(t).get_(n)},set:function(t,n,r){var i;return os(n)?(i=Cs(t).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(t,n){var r;return os(n)?(r=Cs(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var i;return(i=Cs(t).defineProperty_(n,r))!=null?i:!0},ownKeys:function(t){return Cs(t).ownKeys_()},preventExtensions:function(t){fe(13)}};function eR(e,t){var n,r;return ix(),e=Ra(e,t),(r=(n=e[q]).proxy_)!=null?r:n.proxy_=new Proxy(e,ZM)}function Qt(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Du(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),sx(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Jt(e,t){var n=bs();try{for(var r=[].concat(e.interceptors_||[]),i=0,s=r.length;i<s&&(t=r[i](t),t&&!t.type&&fe(14),!!t);i++);return t}finally{br(n)}}function An(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function zu(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),sx(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Pn(e,t){var n=bs(),r=e.changeListeners_;if(r){r=r.slice();for(var i=0,s=r.length;i<s;i++)r[i](t);br(n)}}var qh=Symbol("mobx-keys");function tR(e,t,n){return Ar(e)?Mx(e,e,t,n):(_s(function(){var r=Ra(e,n)[q];if(!e[qh]){var i=Object.getPrototypeOf(e),s=new Set([].concat(tu(e),tu(i)));s.delete("constructor"),s.delete(q),Fd(i,qh,s)}e[qh].forEach(function(o){return r.make_(o,t&&o in t?t[o]:!0)})}),e)}var cy="splice",nr="update",nR=1e4,rR={get:function(t,n){var r=t[q];return n===q?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):ri(Bf,n)?Bf[n]:t[n]},set:function(t,n,r){var i=t[q];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){fe(15)}},vg=function(){function e(n,r,i,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=s,this.atom_=new xi(n),this.enhancer_=function(o,a){return r(o,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return Du(this,r)},t.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),zu(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&fe("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var s=new Array(r-i),o=0;o<r-i;o++)s[o]=void 0;this.spliceWithArray_(i,0,s)}else this.spliceWithArray_(r,i-r)},t.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&fe(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&Ux(r+i+1)},t.spliceWithArray_=function(r,i,s){var o=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?i=a-r:i==null?i=0:i=Math.max(0,Math.min(i,a-r)),s===void 0&&(s=kp),Qt(this)){var l=Jt(this,{object:this.proxy_,type:cy,index:r,removedCount:i,added:s});if(!l)return kp;i=l.removedCount,s=l.added}if(s=s.length===0?s:s.map(function(f){return o.enhancer_(f,void 0)}),this.legacyMode_){var u=s.length-i;this.updateArrayLength_(a,u)}var c=this.spliceItemsIntoValues_(r,i,s);return(i!==0||s.length!==0)&&this.notifyArraySplice_(r,s,c),this.dehanceValues_(c)},t.spliceItemsIntoValues_=function(r,i,s){if(s.length<nR){var o;return(o=this.values_).splice.apply(o,[r,i].concat(s))}else{var a=this.values_.slice(r,r+i),l=this.values_.slice(r+i);this.values_.length+=s.length-i;for(var u=0;u<s.length;u++)this.values_[r+u]=s[u];for(var c=0;c<l.length;c++)this.values_[r+s.length+c]=l[c];return a}},t.notifyArrayChildUpdate_=function(r,i,s){var o=!this.owned_&&_l(),a=An(this),l=a||o?{observableKind:"array",object:this.proxy_,type:nr,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:s}:null;this.atom_.reportChanged(),a&&Pn(this,l)},t.notifyArraySplice_=function(r,i,s){var o=!this.owned_&&_l(),a=An(this),l=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:cy,index:r,removed:s,added:i,removedCount:s.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&Pn(this,l)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,i){var s=this.values_;if(this.legacyMode_&&r>s.length&&fe(17,r,s.length),r<s.length){this.atom_;var o=s[r];if(Qt(this)){var a=Jt(this,{type:nr,object:this.proxy_,index:r,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,o);var l=i!==o;l&&(s[r]=i,this.notifyArrayChildUpdate_(r,i,o))}else{for(var u=new Array(r+1-s.length),c=0;c<u.length-1;c++)u[c]=void 0;u[u.length-1]=i,this.spliceWithArray_(s.length,0,u)}},e}();function iR(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),ix(),_s(function(){var i=new vg(n,t,r,!1);ax(i.values_,q,i);var s=new Proxy(i.values_,rR);return i.proxy_=s,e&&e.length&&i.spliceWithArray_(0,0,e),s})}var Bf={clear:function(){return this.splice(0)},replace:function(t){var n=this[q];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];var o=this[q];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(t);case 2:return o.spliceWithArray_(t,n)}return o.spliceWithArray_(t,n,i)},spliceWithArray:function(t,n,r){return this[q].spliceWithArray_(t,n,r)},push:function(){for(var t=this[q],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[q].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[q],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return L.trackingDerivation&&fe(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){L.trackingDerivation&&fe(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[q],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};Se("at",Bt);Se("concat",Bt);Se("flat",Bt);Se("includes",Bt);Se("indexOf",Bt);Se("join",Bt);Se("lastIndexOf",Bt);Se("slice",Bt);Se("toString",Bt);Se("toLocaleString",Bt);Se("toSorted",Bt);Se("toSpliced",Bt);Se("with",Bt);Se("every",Dn);Se("filter",Dn);Se("find",Dn);Se("findIndex",Dn);Se("findLast",Dn);Se("findLastIndex",Dn);Se("flatMap",Dn);Se("forEach",Dn);Se("map",Dn);Se("some",Dn);Se("toReversed",Dn);Se("reduce",Ix);Se("reduceRight",Ix);function Se(e,t){typeof Array.prototype[e]=="function"&&(Bf[e]=t(e))}function Bt(e){return function(){var t=this[q];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Dn(e){return function(t,n){var r=this,i=this[q];i.atom_.reportObserved();var s=i.dehanceValues_(i.values_);return s[e](function(o,a){return t.call(n,o,a,r)})}}function Ix(e){return function(){var t=this,n=this[q];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(s,o,a){return i(s,o,a,t)},r[e].apply(r,arguments)}}var sR=xs("ObservableArrayAdministration",vg);function Wd(e){return Bd(e)&&sR(e[q])}var oR={},Gr="add",Ff="delete",Lx=function(){function e(n,r,i){var s=this;r===void 0&&(r=as),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[q]=oR,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,Mn(Map)||fe(18),_s(function(){s.keysAtom_=fx("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var i=this;if(!L.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var o=s=new Ki(this.has_(r),Ud,"ObservableMap.key?",!1);this.hasMap_.set(r,o),Nx(o,function(){return i.hasMap_.delete(r)})}return s.get()},t.set=function(r,i){var s=this.has_(r);if(Qt(this)){var o=Jt(this,{type:s?nr:Gr,object:this,newValue:i,name:r});if(!o)return this;i=o.newValue}return s?this.updateValue_(r,i):this.addValue_(r,i),this},t.delete=function(r){var i=this;if(this.keysAtom_,Qt(this)){var s=Jt(this,{type:Ff,object:this,name:r});if(!s)return!1}if(this.has_(r)){var o=_l(),a=An(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:Ff,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return dr(function(){var u;i.keysAtom_.reportChanged(),(u=i.hasMap_.get(r))==null||u.setNewValue_(!1);var c=i.data_.get(r);c.setNewValue_(void 0),i.data_.delete(r)}),a&&Pn(this,l),!0}return!1},t.updateValue_=function(r,i){var s=this.data_.get(r);if(i=s.prepareNewValue_(i),i!==L.UNCHANGED){var o=_l(),a=An(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:nr,object:this,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&Pn(this,l)}},t.addValue_=function(r,i){var s=this;this.keysAtom_,dr(function(){var u,c=new Ki(i,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,c),i=c.value_,(u=s.hasMap_.get(r))==null||u.setNewValue_(!0),s.keysAtom_.reportChanged()});var o=_l(),a=An(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:Gr,object:this,name:r,newValue:i}:null;a&&Pn(this,l)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,i=this.keys();return fy({next:function(){var o=i.next(),a=o.done,l=o.value;return{done:a,value:a?void 0:r.get(l)}}})},t.entries=function(){var r=this,i=this.keys();return fy({next:function(){var o=i.next(),a=o.done,l=o.value;return{done:a,value:a?void 0:[l,r.get(l)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,i){for(var s=Zs(this),o;!(o=s()).done;){var a=o.value,l=a[0],u=a[1];r.call(i,u,l,this)}},t.merge=function(r){var i=this;return ws(r)&&(r=new Map(r)),dr(function(){Ar(r)?M$(r).forEach(function(s){return i.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var o=s[0],a=s[1];return i.set(o,a)}):$a(r)?($$(r)||fe(19,r),r.forEach(function(s,o){return i.set(o,s)})):r!=null&&fe(20,r)}),this},t.clear=function(){var r=this;dr(function(){wx(function(){for(var i=Zs(r.keys()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},t.replace=function(r){var i=this;return dr(function(){for(var s=aR(r),o=new Map,a=!1,l=Zs(i.data_.keys()),u;!(u=l()).done;){var c=u.value;if(!s.has(c)){var f=i.delete(c);if(f)a=!0;else{var d=i.data_.get(c);o.set(c,d)}}}for(var h=Zs(s.entries()),v;!(v=h()).done;){var x=v.value,b=x[0],m=x[1],p=i.data_.has(b);if(i.set(b,m),i.data_.has(b)){var y=i.data_.get(b);o.set(b,y),p||(a=!0)}}if(!a)if(i.data_.size!==o.size)i.keysAtom_.reportChanged();else for(var _=i.data_.keys(),E=o.keys(),P=_.next(),O=E.next();!P.done;){if(P.value!==O.value){i.keysAtom_.reportChanged();break}P=_.next(),O=E.next()}i.data_=o}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,i){return zu(this,r)},t.intercept_=function(r){return Du(this,r)},Ma(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),ws=xs("ObservableMap",Lx);function fy(e){return e[Symbol.toStringTag]="MapIterator",bg(e)}function aR(e){if($a(e)||ws(e))return e;if(Array.isArray(e))return new Map(e);if(Ar(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return fe(21,e)}var lR={},Dx=function(){function e(n,r,i){var s=this;r===void 0&&(r=as),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[q]=lR,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,Mn(Set)||fe(22),this.enhancer_=function(o,a){return r(o,a,i)},_s(function(){s.atom_=fx(s.name_),n&&s.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;dr(function(){wx(function(){for(var i=Zs(r.data_.values()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},t.forEach=function(r,i){for(var s=Zs(this),o;!(o=s()).done;){var a=o.value;r.call(i,a,a,this)}},t.add=function(r){var i=this;if(this.atom_,Qt(this)){var s=Jt(this,{type:Gr,object:this,newValue:r});if(!s)return this}if(!this.has(r)){dr(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var o=!1,a=An(this),l=a||o?{observableKind:"set",debugObjectName:this.name_,type:Gr,object:this,newValue:r}:null;a&&Pn(this,l)}return this},t.delete=function(r){var i=this;if(Qt(this)){var s=Jt(this,{type:Ff,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var o=!1,a=An(this),l=a||o?{observableKind:"set",debugObjectName:this.name_,type:Ff,object:this,oldValue:r}:null;return dr(function(){i.atom_.reportChanged(),i.data_.delete(r)}),a&&Pn(this,l),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=0,i=Array.from(this.keys()),s=Array.from(this.values());return dy({next:function(){var a=r;return r+=1,a<s.length?{value:[i[a],s[a]],done:!1}:{value:void 0,done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,i=0,s=Array.from(this.data_.values());return dy({next:function(){return i<s.length?{value:r.dehanceValue_(s[i++]),done:!1}:{value:void 0,done:!0}}})},t.intersection=function(r){if(fr(r)&&!Wn(r))return r.intersection(this);var i=new Set(this);return i.intersection(r)},t.union=function(r){if(fr(r)&&!Wn(r))return r.union(this);var i=new Set(this);return i.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(fr(r)&&!Wn(r))return r.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(fr(r)&&!Wn(r))return r.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(r)},t.replace=function(r){var i=this;return Wn(r)&&(r=new Set(r)),dr(function(){Array.isArray(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):fr(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):r!=null&&fe("Cannot initialize set from "+r)}),this},t.observe_=function(r,i){return zu(this,r)},t.intercept_=function(r){return Du(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Ma(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Wn=xs("ObservableSet",Dx);function dy(e){return e[Symbol.toStringTag]="SetIterator",bg(e)}var hy=Object.create(null),py="remove",zx=function(){function e(n,r,i,s){r===void 0&&(r=new Map),s===void 0&&(s=cM),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=s,this.keysAtom_=new xi("ObservableObject.keys"),this.isPlainObject_=Ar(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,i){var s=this.values_.get(r);if(s instanceof Rn)return s.set(i),!0;if(Qt(this)){var o=Jt(this,{type:nr,object:this.proxy_||this.target_,name:r,newValue:i});if(!o)return null;i=o.newValue}if(i=s.prepareNewValue_(i),i!==L.UNCHANGED){var a=An(this),l=!1,u=a||l?{type:nr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&Pn(this,u)}return!0},t.get_=function(r){return L.trackingDerivation&&!ri(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,i,s){return s===void 0&&(s=!1),ri(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):s?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},t.has_=function(r){if(!L.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new Ki(r in this.target_,Ud,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},t.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(r in this.target_)){var s;if((s=this.target_[eo])!=null&&s[r])return;fe(1,i.annotationType_,this.name_+"."+r.toString())}for(var o=this.target_;o&&o!==zd;){var a=Rf(o,r);if(a){var l=i.make_(this,r,a,o);if(l===0)return;if(l===1)break}o=Object.getPrototypeOf(o)}gy(this,i,r)}},t.extend_=function(r,i,s,o){if(o===void 0&&(o=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,i,o);var a=s.extend_(this,r,i,o);return a&&gy(this,s,r),a},t.defineProperty_=function(r,i,s){s===void 0&&(s=!1),this.keysAtom_;try{rn();var o=this.delete_(r);if(!o)return o;if(Qt(this)){var a=Jt(this,{object:this.proxy_||this.target_,name:r,type:Gr,newValue:i.value});if(!a)return null;var l=a.newValue;i.value!==l&&(i=va({},i,{value:l}))}if(s){if(!Reflect.defineProperty(this.target_,r,i))return!1}else er(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{sn()}return!0},t.defineObservableProperty_=function(r,i,s,o){o===void 0&&(o=!1),this.keysAtom_;try{rn();var a=this.delete_(r);if(!a)return a;if(Qt(this)){var l=Jt(this,{object:this.proxy_||this.target_,name:r,type:Gr,newValue:i});if(!l)return null;i=l.newValue}var u=my(r),c={configurable:L.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(o){if(!Reflect.defineProperty(this.target_,r,c))return!1}else er(this.target_,r,c);var f=new Ki(i,s,"ObservableObject.key",!1);this.values_.set(r,f),this.notifyPropertyAddition_(r,f.value_)}finally{sn()}return!0},t.defineComputedProperty_=function(r,i,s){s===void 0&&(s=!1),this.keysAtom_;try{rn();var o=this.delete_(r);if(!o)return o;if(Qt(this)){var a=Jt(this,{object:this.proxy_||this.target_,name:r,type:Gr,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var l=my(r),u={configurable:L.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(s){if(!Reflect.defineProperty(this.target_,r,u))return!1}else er(this.target_,r,u);this.values_.set(r,new Rn(i)),this.notifyPropertyAddition_(r,void 0)}finally{sn()}return!0},t.delete_=function(r,i){if(i===void 0&&(i=!1),this.keysAtom_,!ri(this.target_,r))return!0;if(Qt(this)){var s=Jt(this,{object:this.proxy_||this.target_,name:r,type:py});if(!s)return null}try{var o;rn();var a=An(this),l=!1,u=this.values_.get(r),c=void 0;if(!u&&(a||l)){var f;c=(f=Rf(this.target_,r))==null?void 0:f.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof Ki&&(c=u.value_),Ax(u)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(r in this.target_),a||l){var d={type:py,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:c,name:r};a&&Pn(this,d)}}finally{sn()}return!0},t.observe_=function(r,i){return zu(this,r)},t.intercept_=function(r){return Du(this,r)},t.notifyPropertyAddition_=function(r,i){var s,o=An(this),a=!1;if(o||a){var l=o||a?{type:Gr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;o&&Pn(this,l)}(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),tu(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Ra(e,t){var n;if(ri(e,q))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",i=new zx(e,new Map,String(r),wM(t));return Fd(e,q,i),e}var uR=xs("ObservableObjectAdministration",zx);function my(e){return hy[e]||(hy[e]={get:function(){return this[q].getObservablePropValue_(e)},set:function(n){return this[q].setObservablePropValue_(e,n)}})}function Gd(e){return Bd(e)?uR(e[q]):!1}function gy(e,t,n){var r;(r=e.target_[eo])==null||delete r[n]}var cR=Fx(0),fR=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),Qh=0,Bx=function(){};function dR(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}dR(Bx,Array.prototype);var yg=function(e){function t(r,i,s,o){var a;return s===void 0&&(s="ObservableArray"),o===void 0&&(o=!1),a=e.call(this)||this,_s(function(){var l=new vg(s,i,o,!0);l.proxy_=a,ax(a,q,l),r&&r.length&&a.spliceWithArray(0,0,r),fR&&Object.defineProperty(a,"0",cR)}),a}cx(t,e);var n=t.prototype;return n.concat=function(){this[q].atom_.reportObserved();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Array.prototype.concat.apply(this.slice(),s.map(function(a){return Wd(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,i=0;return bg({next:function(){return i<r.length?{value:r[i++],done:!1}:{done:!0,value:void 0}}})},Ma(t,[{key:"length",get:function(){return this[q].getArrayLength_()},set:function(i){this[q].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(Bx);Object.entries(Bf).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&Fd(yg.prototype,t,n)});function Fx(e){return{enumerable:!1,configurable:!0,get:function(){return this[q].get_(e)},set:function(n){this[q].set_(e,n)}}}function hR(e){er(yg.prototype,""+e,Fx(e))}function Ux(e){if(e>Qh){for(var t=Qh;t<e+100;t++)hR(t);Qh=e}}Ux(1e3);function pR(e,t,n){return new yg(e,t,n)}function Dp(e,t){if(typeof e=="object"&&e!==null){if(Wd(e))return t!==void 0&&fe(23),e[q].atom_;if(Wn(e))return e.atom_;if(ws(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||fe(25,t,zp(e)),n}if(Gd(e)){if(!t)return fe(26);var r=e[q].values_.get(t);return r||fe(27,t,zp(e)),r}if(dg(e)||Kd(e)||zf(e))return e}else if(Mn(e)&&zf(e[q]))return e[q];fe(28)}function mR(e,t){if(e||fe(29),dg(e)||Kd(e)||zf(e)||ws(e)||Wn(e))return e;if(e[q])return e[q];fe(24,e)}function zp(e,t){var n;if(t!==void 0)n=Dp(e,t);else{if(ru(e))return e.name;Gd(e)||ws(e)||Wn(e)?n=mR(e):n=Dp(e)}return n.name_}function _s(e){var t=bs(),n=pg(!0);rn();try{return e()}finally{sn(),mg(n),br(t)}}var vy=zd.toString;function xg(e,t,n){return n===void 0&&(n=-1),Bp(e,t,n)}function Bp(e,t,n,r,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var o=vy.call(e);if(o!==vy.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=yy(e),t=yy(t);var a=o==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(Mn(l)&&l instanceof l&&Mn(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var c=r.length;c--;)if(r[c]===e)return i[c]===t;if(r.push(e),i.push(t),a){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!Bp(e[c],t[c],n-1,r,i))return!1}else{var f=Object.keys(e),d;if(c=f.length,Object.keys(t).length!==c)return!1;for(;c--;)if(d=f[c],!(ri(t,d)&&Bp(e[d],t[d],n-1,r,i)))return!1}return r.pop(),i.pop(),!0}function yy(e){return Wd(e)?e.slice():$a(e)||ws(e)||fr(e)||Wn(e)?Array.from(e.entries()):e}var xy,gR=((xy=fg().Iterator)==null?void 0:xy.prototype)||{};function bg(e){return e[Symbol.iterator]=vR,Object.assign(Object.create(gR),e)}function vR(){return this}["Symbol","Map","Set"].forEach(function(e){var t=fg();typeof t[e]>"u"&&fe("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:DM,extras:{getDebugName:zp},$mobx:q});class Vx{constructor(){g(this,"canvas",null);g(this,"canvasWidth",0);g(this,"canvasHeight",0);g(this,"pixelRatio",devicePixelRatio);g(this,"viewport",ut.empty());g(this,"userSpaceSize",ut.empty());g(this,"render",()=>{});g(this,"parentElementObserver");g(this,"frameHandle",-1);tR(this,{parentElementObserver:!1})}dispose(){var t;(t=this.parentElementObserver)==null||t.disconnect()}setCanvas(t){var n;t!==this.canvas&&((n=this.parentElementObserver)==null||n.disconnect(),this.canvas=t,t&&t.parentElement&&(this.parentElementObserver=new ResizeObserver(r=>{const i=r[0].borderBoxSize[0];this.setCanvasSize(i.inlineSize,i.blockSize)}),this.parentElementObserver.observe(t.parentElement),this.setCanvasSize(t.parentElement.clientWidth,t.parentElement.clientHeight)),this.redraw())}setCanvasSize(t,n){this.canvasWidth=t,this.canvasHeight=n,this.setViewport(this.viewport.update({height:this.viewport.width*n/t})),this.redraw()}setCursor(t){var n;(n=this.canvas)==null||n.style.setProperty("cursor",t)}setUserSpaceSize(t){this.userSpaceSize=t,this.redraw()}setViewport(t){this.viewport=t,this.redraw()}setRenderFunction(t){this.render=t,this.redraw()}setPixelRatio(t){this.pixelRatio=t,this.redraw()}zoom(t){var i,s;const n=.5*(((i=this.canvas)==null?void 0:i.width)??0)/this.pixelRatio,r=.5*(((s=this.canvas)==null?void 0:s.height)??0)/this.pixelRatio;this.zoomCenteredOn(t,n,r)}zoomCenteredOn(t,n,r){this.userSpaceSize.width<this.userSpaceSize.height?this.viewport.height*t>this.userSpaceSize.height?t=this.userSpaceSize.height/this.viewport.height:this.viewport.height*t<10&&(t=10/this.viewport.height):this.viewport.width*t>this.userSpaceSize.width?t=this.userSpaceSize.width/this.viewport.width:this.viewport.width*t<10&&(t=10/this.viewport.width);const i=this.viewport.width*t,s=this.viewport.height*t;this.setViewport(this.viewport.update({x:this.viewport.x+n/this.userspaceToCanvasFactorX*(1-t),y:this.viewport.y+r/this.userspaceToCanvasFactorY*(1-t),width:i,height:s}))}scrollBy(t,n){const r=t/this.userspaceToCanvasFactorX,i=n/this.userspaceToCanvasFactorY;this.scrollTo(this.viewport.x+r,this.viewport.y+i)}scrollIntoView(t){if(this.viewport.contains(t))return;const n=t.centerX-.5*this.viewport.width,r=t.centerY-.5*this.viewport.height;this.scrollTo(n,r)}scrollTo(t,n){let r,i;if(this.viewport.width<=this.userSpaceSize.width)r=this.userSpaceSize.left,i=this.userSpaceSize.right-this.viewport.width;else{const a=.5*(this.userSpaceSize.width-this.canvasWidth/this.userspaceToCanvasFactorX);r=a,i=a}let s,o;if(this.viewport.height<=this.userSpaceSize.height)s=this.userSpaceSize.top,o=this.userSpaceSize.bottom-this.viewport.height;else{const a=.5*(this.userSpaceSize.width-this.canvasWidth/this.userspaceToCanvasFactorX);s=a,o=a}this.setViewport(this.viewport.update({x:by(this.viewport.x,t,r,i),y:by(this.viewport.y,n,s,o)}))}userSpaceToCanvasViewport(t){return new ut((t.x-this.viewport.x)*this.userspaceToCanvasFactorX,(t.y-this.viewport.y)*this.userspaceToCanvasFactorY,t.width*this.userspaceToCanvasFactorX,t.height*this.userspaceToCanvasFactorY)}canvasViewportToUserSpace(t){return{x:t.x/this.userspaceToCanvasFactorX+this.viewport.x,y:t.y/this.userspaceToCanvasFactorY+this.viewport.y}}get canvasSpaceSize(){return new ut(0,0,this.userSpaceSize.width*this.userspaceToCanvasFactorX,this.userSpaceSize.height*this.userspaceToCanvasFactorY)}get userspaceToCanvasFactorX(){return this.canvasWidth/this.viewport.width}get userspaceToCanvasFactorY(){return this.canvasHeight/this.viewport.height}redraw(){this.canvas&&(this.canvasWidth==0||this.canvasHeight==0||this.canvasSpaceSize.width==0||this.canvasSpaceSize.height==0||(cancelAnimationFrame(this.frameHandle),this.frameHandle=requestAnimationFrame(t=>{if(!this.canvas)return;const n=this.canvas.getContext("2d",{willReadFrequently:!1});if(!n)return;const r=this.userspaceToCanvasFactorX*this.pixelRatio,i=this.userspaceToCanvasFactorY*this.pixelRatio;n.resetTransform(),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.setTransform(r,0,0,i,-r*this.viewport.x,-i*this.viewport.y),n.lineWidth=yR,this.render(n,this.viewport)})))}toJSON(){return{viewport:this.viewport}}fromJSON(t){if(xR(t.viewport)){const n=yc(t.viewport.x,0),r=yc(t.viewport.y,0),i=yc(t.viewport.width,0),s=yc(t.viewport.height,0);this.viewport=new ut(n,r,i,s)}}}const by=(e,t,n,r)=>(t<n?e>n?t=n:t<e&&(t=e):t>r&&(e<r?t=r:t>e&&(t=e)),t),yR=.1,xR=e=>{switch(typeof e){case"function":return!0;case"object":return e!=null;default:return!1}},yc=(e,t)=>typeof e=="number"?e:t,Ts={path:"M 0.97586655,0.17386772 A 0.34705856,0.5205878 66.75189 0 1 0.63453699,0.69822967 0.34705856,0.5205878 66.75189 0 1 0.01923,0.58483386 0.34705856,0.5205878 66.75189 0 1 0.36055955,0.06047192 a 0.34705856,0.5205878 66.75189 0 1 0.615307,0.1133958 z",height:.85615134},bR={[ie.Whole]:{stemmed:!1,flags:0,head:{path:"M 0.5,0 A 0.5,0.3 0 0 0 0,0.3 0.5,0.3 0 0 0 0.5,0.6 0.5,0.3 0 0 0 1,0.3 0.5,0.3 0 0 0 0.5,0 Z m -0.06902,0.028 A 0.3,0.225 50 0 1 0.672,0.1550.3,0.225 50 0 1 0.693,0.530 0.3,0.225 50 0 1 0.328,0.444 0.3,0.225 50 0 1 0.307,0.07 0.3,0.225 50 0 1 0.431,0.028 Z",height:.6}},[ie.Half]:{stemmed:!0,flags:0,head:{path:"M 0.68802786,0 A 0.35642382,0.55320651 55.94147 0 0 0.38660643,0.08187174 0.35642382,0.55320651 55.94147 0 0 0.01289716,0.67926182 0.35642382,0.55320651 55.94147 0 0 0.61301363,0.77472532 0.35642382,0.55320651 55.94147 0 0 0.98672026,0.1759734 0.35642382,0.55320651 55.94147 0 0 0.68802786,0 Z M 0.79713659,0.0886811 A 0.19143527,0.50133235 52.79973 0 1 0.9021544,0.12959031 0.19143527,0.50133235 52.79973 0 1 0.60210012,0.59058656 0.19143527,0.50133235 52.79973 0 1 0.09609058,0.72561322 0.19143527,0.50133235 52.79973 0 1 0.39751202,0.26598414 0.19143527,0.50133235 52.79973 0 1 0.79713395,0.08867586 Z",height:.85615134}},[ie.Quarter]:{stemmed:!0,flags:0,head:Ts},[ie.Eighth]:{stemmed:!0,flags:1,head:Ts},[ie.Sixteenth]:{stemmed:!0,flags:2,head:Ts},[ie.ThirtySecond]:{stemmed:!0,flags:3,head:Ts},[ie.SixtyFourth]:{stemmed:!0,flags:4,head:Ts},[ie.OneTwentyEighth]:{stemmed:!0,flags:5,head:Ts}},Hx={[ie.Whole]:"M 0 0 L 1 0 L 1 0.5 L 0 0.5",[ie.Half]:"M 0 0.5 L 1 0.5 L 1 1 L 0 1",[ie.Quarter]:"m 0.3418 -1.3962 c -0.0274 0.0116 -0.0438 0.0516 -0.0312 0.0796 c 0.0038 0.004 0.0436 0.0516 0.0836 0.104 c 0.0914 0.103 0.107 0.1274 0.1272 0.175 c 0.0798 0.1632 0.036 0.371 -0.1038 0.5024 c -0.0118 0.0156 -0.0634 0.0592 -0.1118 0.0952 c -0.139 0.1196 -0.203 0.1876 -0.2266 0.2476 c -0.0086 0.0158 -0.0086 0.0314 -0.0086 0.0556 c -0.0038 0.0554 0 0.0602 0.1642 0.2508 c 0.2226 0.2672 0.382 0.4546 0.3944 0.4664 l 0.0118 0.0116 l -0.0156 -0.0078 c -0.2196 -0.0914 -0.4664 -0.1352 -0.55 -0.0952 c -0.0282 0.0116 -0.0446 0.028 -0.0562 0.0554 c -0.0322 0.068 -0.0236 0.168 0.0242 0.3148 c 0.0436 0.132 0.1312 0.307 0.2186 0.4384 c 0.036 0.0562 0.104 0.1436 0.1118 0.1476 c 0.0118 0.0118 0.0282 0.0078 0.0398 0 c 0.0118 -0.0156 0.0118 -0.0282 -0.0116 -0.0554 c -0.0836 -0.1196 -0.1234 -0.3672 -0.0758 -0.4986 c 0.0194 -0.0592 0.0438 -0.0914 0.0874 -0.1116 c 0.1156 -0.0516 0.3712 0.0124 0.4782 0.1194 c 0.0078 0.008 0.0242 0.0244 0.032 0.0282 c 0.0282 0.0118 0.068 -0.0038 0.0798 -0.032 c 0.0164 -0.0282 0.0078 -0.0476 -0.0282 -0.0914 c -0.0672 -0.0798 -0.2704 -0.3188 -0.2984 -0.3548 c -0.072 -0.0836 -0.104 -0.1632 -0.1118 -0.2632 c -0.0038 -0.1274 0.0476 -0.2624 0.1438 -0.3508 c 0.0116 -0.0156 0.0632 -0.0594 0.111 -0.0952 c 0.1476 -0.1236 0.2078 -0.1914 0.2312 -0.2556 c 0.0164 -0.0516 0.0086 -0.0992 -0.0274 -0.143 c -0.0124 -0.0116 -0.1516 -0.1836 -0.3148 -0.3788 c -0.2234 -0.2626 -0.3032 -0.3586 -0.3148 -0.3626 c -0.0164 -0.0038 -0.036 -0.0038 -0.0524 0.004 z",[ie.Eighth]:"m 0.2274 -0.8375 c -0.104 0.0196 -0.1836 0.0914 -0.2196 0.1906 c -0.0078 0.032 -0.0078 0.0398 -0.0078 0.0836 c 0 0.0602 0.0038 0.0922 0.032 0.1398 c 0.0398 0.0798 0.1234 0.1438 0.2188 0.1672 c 0.1 0.0282 0.2672 0.004 0.4586 -0.0594 l 0.0476 -0.0164 l -0.2352 0.65 l -0.2312 0.6492 c 0 0 0.0078 0.004 0.0204 0.0126 c 0.0234 0.0156 0.0632 0.0274 0.0914 0.0274 c 0.0476 0 0.1078 -0.0274 0.1156 -0.0516 c 0 -0.0078 0.1116 -0.3868 0.2468 -0.8368 l 0.239 -0.825 l -0.0078 -0.0116 c -0.0194 -0.0242 -0.0592 -0.032 -0.0836 -0.0126 c -0.0078 0.0078 -0.0202 0.0242 -0.028 0.036 c -0.036 0.0602 -0.1274 0.1672 -0.175 0.207 c -0.0438 0.036 -0.068 0.0398 -0.1078 0.0242 c -0.036 -0.0196 -0.0478 -0.0398 -0.072 -0.1476 c -0.0234 -0.107 -0.0514 -0.1556 -0.1116 -0.1954 c -0.0556 -0.0358 -0.1274 -0.0476 -0.1906 -0.0312 z",[ie.Sixteenth]:"m 0.5382 -0.8306 c -0.1038 0.0196 -0.1836 0.0914 -0.2186 0.1906 c -0.0086 0.032 -0.0086 0.0398 -0.0086 0.0836 c 0 0.0602 0.0038 0.0922 0.032 0.1398 c 0.0398 0.0798 0.1234 0.1438 0.2196 0.1672 c 0.0992 0.0282 0.2584 0.0078 0.45 -0.0554 c 0.028 -0.0118 0.0514 -0.0204 0.0514 -0.0164 c 0 0.0046 -0.1788 0.586 -0.1866 0.6062 c -0.0204 0.0516 -0.0884 0.147 -0.1478 0.207 c -0.0554 0.0556 -0.0836 0.068 -0.1272 0.0478 c -0.036 -0.0196 -0.0478 -0.04 -0.072 -0.1478 c -0.0202 -0.0796 -0.0358 -0.1234 -0.0678 -0.1546 c -0.0836 -0.0922 -0.2274 -0.104 -0.3384 -0.032 c -0.0524 0.0358 -0.0922 0.0914 -0.1156 0.1516 c -0.0086 0.0312 -0.0086 0.0398 -0.0086 0.0834 c 0 0.0594 0.0046 0.0916 0.032 0.1392 c 0.0398 0.0796 0.1234 0.1438 0.2196 0.1672 c 0.0438 0.0124 0.1554 0.0124 0.2312 0 c 0.0632 -0.0118 0.139 -0.0314 0.2148 -0.0556 c 0.032 -0.0116 0.0602 -0.0194 0.0602 -0.0156 c 0 0 -0.3906 1.2712 -0.3984 1.2906 c 0 0.004 0.0312 0.0282 0.0632 0.036 c 0.032 0.0126 0.0642 0.0126 0.0962 0 c 0.0312 -0.0078 0.0632 -0.0274 0.0632 -0.0398 c 0.004 -0.004 0.1634 -0.6054 0.3586 -1.3352 l 0.3548 -1.3266 l -0.0078 -0.0116 c -0.0158 -0.0242 -0.0478 -0.0282 -0.0758 -0.0164 c -0.0158 0.0078 -0.0158 0.0078 -0.0634 0.0796 c -0.0398 0.064 -0.096 0.1312 -0.128 0.1632 c -0.0438 0.036 -0.0672 0.0438 -0.1072 0.0282 c -0.0358 -0.0196 -0.0484 -0.0398 -0.0718 -0.1476 c -0.0242 -0.107 -0.0524 -0.1556 -0.1118 -0.1954 c -0.0554 -0.0358 -0.1272 -0.0476 -0.1914 -0.0312 z",[ie.ThirtySecond]:"m 0.7774 -1.8274 c -0.1032 0.0202 -0.1836 0.0922 -0.2188 0.1914 c -0.0086 0.032 -0.0086 0.0398 -0.0086 0.0836 c 0 0.0436 0 0.06 0.0086 0.0836 c 0.0274 0.0882 0.0836 0.1554 0.1712 0.1952 c 0.0594 0.032 0.0874 0.036 0.171 0.036 c 0.104 0 0.1914 -0.0156 0.3314 -0.0594 c 0.0358 -0.0126 0.0632 -0.0204 0.0632 -0.0204 c 0.0038 0 -0.032 0.14 -0.0798 0.3072 c -0.0592 0.235 -0.0834 0.3108 -0.0914 0.3342 c -0.032 0.0602 -0.1 0.1516 -0.1436 0.1914 c -0.04 0.036 -0.0634 0.0438 -0.1032 0.0282 c -0.036 -0.0196 -0.0484 -0.0398 -0.0718 -0.1476 c -0.0204 -0.0798 -0.036 -0.1234 -0.068 -0.1556 c -0.0836 -0.0914 -0.2274 -0.103 -0.3384 -0.0312 c -0.0522 0.0352 -0.092 0.0914 -0.1156 0.1508 c -0.0086 0.032 -0.0086 0.0398 -0.0086 0.0836 c 0 0.0602 0.0048 0.0922 0.0322 0.1398 c 0.0398 0.0798 0.1234 0.1438 0.2194 0.1672 c 0.0438 0.0126 0.1556 0.0126 0.2312 0 c 0.0634 -0.0116 0.1392 -0.032 0.215 -0.0554 c 0.0358 -0.0118 0.064 -0.0204 0.064 -0.0204 c 0 0.004 -0.1594 0.6102 -0.168 0.622 c -0.0312 0.068 -0.0952 0.1516 -0.143 0.1992 c -0.0516 0.0516 -0.0796 0.0602 -0.1234 0.0438 c -0.036 -0.0196 -0.0484 -0.04 -0.0718 -0.1478 c -0.0204 -0.0796 -0.036 -0.1234 -0.068 -0.1546 c -0.0836 -0.0922 -0.2274 -0.104 -0.3384 -0.032 c -0.0522 0.0358 -0.092 0.0914 -0.1156 0.1516 c -0.0086 0.0312 -0.0086 0.0398 -0.0086 0.0834 c 0 0.0438 0 0.0594 0.0086 0.0836 c 0.0274 0.0876 0.0836 0.1556 0.1712 0.1954 c 0.064 0.032 0.0874 0.036 0.175 0.036 c 0.064 0 0.0844 0 0.1358 -0.0086 c 0.072 -0.0118 0.1478 -0.0352 0.2314 -0.0594 l 0.0516 -0.0204 l 0 0.0126 c -0.004 0.0156 -0.3392 1.275 -0.343 1.2828 c -0.004 0.0164 0.068 0.0476 0.1116 0.0476 c 0.0438 0 0.1078 -0.0274 0.1118 -0.0476 c 0.0038 -0.004 0.1952 -0.829 0.4344 -1.8328 c 0.4266 -1.8172 0.4266 -1.8212 0.4188 -1.8336 c -0.0126 -0.0156 -0.0322 -0.0234 -0.0564 -0.0234 c -0.028 0.0038 -0.0398 0.0156 -0.068 0.0632 c -0.0554 0.0962 -0.1194 0.1796 -0.1546 0.2078 c -0.0242 0.0156 -0.0446 0.0156 -0.0758 0.004 c -0.036 -0.0204 -0.0484 -0.04 -0.0718 -0.1478 c -0.0242 -0.1078 -0.0524 -0.1554 -0.1118 -0.1952 c -0.0554 -0.036 -0.1274 -0.0476 -0.1914 -0.032 z",[ie.SixtyFourth]:"m 0.9535 -1.8402 c -0.1057 0.0206 -0.1869 0.0939 -0.2227 0.1949 c -0.0087 0.0326 -0.0087 0.0405 -0.0087 0.0851 c 0 0.0444 0 0.0611 0.0087 0.0851 c 0.0279 0.0898 0.0851 0.1582 0.1743 0.1987 c 0.0643 0.0326 0.089 0.0366 0.1782 0.0366 c 0.0613 0 0.0851 0 0.1344 -0.0079 c 0.0643 -0.012 0.1535 -0.0366 0.2228 -0.0605 l 0.0446 -0.0167 l -0.0041 0.0167 c -0.0039 0.0079 -0.0326 0.1494 -0.0692 0.3117 c -0.0643 0.284 -0.0684 0.3007 -0.089 0.3372 c -0.0446 0.093 -0.1089 0.1822 -0.1543 0.2109 c -0.0238 0.0159 -0.0446 0.0159 -0.0725 0.0039 c -0.0364 -0.02 -0.0493 -0.0405 -0.0731 -0.1503 c -0.0208 -0.0812 -0.0367 -0.1256 -0.0692 -0.1584 c -0.0851 -0.093 -0.2315 -0.1049 -0.3451 -0.0318 c -0.0525 0.0358 -0.093 0.093 -0.1169 0.1535 c -0.0087 0.0326 -0.0087 0.0405 -0.0087 0.0851 c 0 0.0613 0.0039 0.0939 0.0326 0.1423 c 0.0405 0.0812 0.1256 0.1464 0.2236 0.1702 c 0.0444 0.0128 0.1582 0.0128 0.2354 0 c 0.0643 -0.0118 0.1415 -0.0326 0.2187 -0.0564 c 0.0367 -0.012 0.0613 -0.0208 0.0652 -0.0208 c 0 0.0041 -0.1383 0.6133 -0.1462 0.6332 c -0.0248 0.0525 -0.0892 0.1543 -0.1376 0.2067 c -0.0533 0.0487 -0.0772 0.0574 -0.1218 0.0407 c -0.0366 -0.02 -0.0493 -0.0407 -0.0731 -0.1505 c -0.0208 -0.081 -0.0367 -0.1256 -0.0692 -0.1574 c -0.0851 -0.0939 -0.2315 -0.1059 -0.3451 -0.0326 c -0.0525 0.0364 -0.0931 0.093 -0.1179 0.1543 c -0.0079 0.0318 -0.0079 0.0405 -0.0079 0.0849 c 0 0.0605 0.0041 0.0933 0.0328 0.1417 c 0.0405 0.081 0.1256 0.1464 0.2234 0.1702 c 0.1051 0.0285 0.28 0.0047 0.4789 -0.0605 c 0.0277 -0.012 0.0564 -0.0208 0.0564 -0.0208 c 0 0.0049 -0.0326 0.1385 -0.0692 0.3046 c -0.0605 0.284 -0.0643 0.3046 -0.0851 0.3404 c -0.0326 0.0692 -0.1049 0.1672 -0.1543 0.2116 c -0.0405 0.0366 -0.0682 0.0446 -0.1089 0.0279 c -0.0364 -0.02 -0.0493 -0.0405 -0.0731 -0.1494 c -0.0208 -0.0812 -0.0366 -0.1258 -0.0692 -0.1584 c -0.0851 -0.0939 -0.2315 -0.1057 -0.3451 -0.0326 c -0.0525 0.0366 -0.093 0.093 -0.1169 0.1543 c -0.0088 0.0326 -0.0088 0.0405 -0.0088 0.0851 c 0 0.0605 0.0039 0.093 0.0326 0.1415 c 0.0405 0.0812 0.1256 0.1464 0.2234 0.171 c 0.1051 0.0279 0.3079 0 0.5068 -0.0692 c 0.0246 -0.0079 0.0405 -0.0118 0.0405 -0.0118 c 0 0.0039 -0.284 1.2772 -0.2958 1.3178 c 0 0.0088 0.0039 0.0128 0.0197 0.0208 c 0.0248 0.0159 0.0654 0.0287 0.0939 0.0287 c 0.0279 0 0.0684 -0.0128 0.093 -0.0287 c 0.0167 -0.0079 0.0208 -0.012 0.0248 -0.0326 c 0 -0.012 0.2146 -1.0793 0.4787 -2.3735 c 0.4176 -2.0854 0.4701 -2.3525 0.4661 -2.3613 c -0.0118 -0.02 -0.0279 -0.0279 -0.0525 -0.0279 c -0.0364 0 -0.0444 0.0079 -0.081 0.0772 c -0.0525 0.101 -0.1059 0.1741 -0.1423 0.2028 c -0.02 0.0159 -0.0407 0.0159 -0.0725 0.0041 c -0.0364 -0.0208 -0.0493 -0.0407 -0.0731 -0.1505 c -0.0246 -0.1097 -0.0533 -0.1582 -0.1138 -0.1987 c -0.0572 -0.0366 -0.1295 -0.0485 -0.1949 -0.0326 z",[ie.OneTwentyEighth]:null},wR=["M 16.595231,10.091237 Q 16.595231,13.574405 14.674303,16.500267 12.317701,20.082954 8.3570256,20.082954 4.3765466,20.082954 2.0199444,16.500267 0.0990169,13.574405 0.0990169,10.091237 0.0990169,6.5881657 2.0199444,3.6424007 4.3567426,0.05971171 8.3570256,0.05971171 12.337504,0.05971171 14.674303,3.6424007 16.595231,6.5881657 16.595231,10.091237 z M 11.84242,10.131047 Q 11.84242,7.2648977 11.228515,4.9361507 10.31756,1.4728877 8.3570256,1.4728877 6.3766876,1.4728877 5.4657326,4.9361507 4.8716306,7.2051857 4.8716306,10.131047 4.8716306,18.669786 8.3570256,18.669786 11.84242,18.669786 11.84242,10.131047 z","M 12.099864,20.102856 H 2.099158 V 18.610069 Q 3.6636247,18.570259 4.1587096,17.794014 4.5349736,17.216803 4.5349736,15.524979 V 5.473549 L 1.2872196,10.668446 0.1386236,10.190754 4.4953666,0 H 9.6640486 V 15.524979 Q 9.6640486,17.216803 10.040313,17.794014 10.535397,18.570262 12.099864,18.610069 V 20.102856 z","M 15.743685,12.857869 Q 15.743685,20.082954 11.010678,20.082954 9.7036546,20.082954 7.5846936,18.610072 5.4063216,17.077478 4.4557596,16.997864 3.3863775,16.898344 2.574439,17.614881 1.7625006,18.331418 1.7030904,19.406225 H 0.2970506 Q 0.158427,18.809109 0.158427,18.251804 0.158427,15.982768 2.4952254,13.972483 3.2873607,13.295751 5.9014066,11.703446 8.1589916,10.330082 9.1293566,9.2154682 10.5552,7.5833557 10.594807,5.3541277 10.654217,1.5325967 7.1688226,1.5325967 4.1785126,1.5325967 4.1785126,2.7666317 4.1785126,2.7666317 5.4459286,3.7618227 6.7133446,4.7570147 6.7133446,5.9910507 6.7133446,7.1454737 5.7825866,7.9416257 4.8518276,8.7377767 3.6834281,8.7576817 0.6535114,8.4392207 0.6535114,5.7123987 0.6535114,2.6273057 3.2675573,1.1942307 5.3271086,0.05971171 8.6738796,0.05971171 11.446352,0.05971171 13.30787,1.4330757 15.367421,2.9656697 15.367421,5.6725887 15.367421,7.9615287 13.406887,9.4941222 12.297898,10.349987 9.2679806,11.623831 6.3766876,12.837964 5.3271086,13.773443 V 13.872963 Q 6.1984566,13.733635 7.0301986,13.733635 9.4660146,13.733635 11.743403,15.067191 12.218684,15.345845 12.713769,15.345845 14.357449,15.345845 14.357449,12.857868 H 15.743685 z","M 14.852533,14.23866 Q 14.852533,17.283943 12.396915,18.816537 10.357167,20.090381 7.1490196,20.0903 4.4161536,20.090381 2.5150288,19.174807 0,17.960672 0,15.4926 0,14.258562 0.8713486,13.382795 1.7426972,12.507026 2.9705066,12.487124 4.1785126,12.487124 4.9904516,13.283276 5.8023896,14.079429 5.8221926,15.313465 5.8221926,15.950387 4.8518276,17.463078 4.8320276,17.602404 4.8320276,17.721828 4.8320276,18.537885 6.0004266,18.677211 6.1786566,18.697111 6.4559036,18.697111 8.0203706,18.697111 9.0501466,17.542688 10.079922,16.388267 10.079922,14.795961 10.079922,10.51664 4.4953696,10.417121 V 9.0039556 Q 7.0500056,8.9044356 8.1787976,8.2874166 9.7630676,7.4116496 9.7630676,5.1227096 9.7630676,1.4405026 6.3172806,1.4405026 4.3171396,1.4405026 4.3567456,2.3560786 4.7528136,2.7541556 5.1686846,3.1721356 5.9608196,4.0678076 5.9608196,5.2620356 5.9608196,6.3567476 5.0498646,7.0334766 4.2379256,7.6504946 3.1091332,7.6504946 1.9011272,7.6504946 1.1287956,6.8543416 0.3564638,6.0581886 0.3564638,4.8440556 0.3564638,2.3560786 2.9309028,1.0822346 4.7924206,0.14675562 7.2876456,0.06713862 10.040316,-0.03238138 12.139474,1.2016576 14.713913,2.7143466 14.614896,5.4013636 14.555486,7.1728026 13.129642,8.3471286 11.921636,9.3622232 10.040316,9.6806842 V 9.7802042 Q 12.06026,9.9792422 13.367283,11.073953 14.852536,12.288086 14.852536,14.23866 z","M 15.783292,14.629305 H 13.446493 V 15.524979 Q 13.446493,17.117284 13.802954,17.734302 14.278235,18.570262 15.743685,18.610069 V 20.102856 H 5.8816026 V 18.610069 Q 7.4460696,18.570259 7.9411546,17.794014 8.3174186,17.216803 8.3174186,15.524979 V 14.629305 H 0.0396067 V 13.037001 Q 4.3963496,8.897007 5.5053386,0 H 12.535538 Q 11.030482,2.726822 7.5846936,6.886721 4.1191025,11.10633 1.7625006,13.037001 H 8.3174186 V 8.897007 L 13.446493,3.940955 V 13.037001 H 15.783292 V 14.629305 z","M 14.515876,13.176327 Q 14.515876,15.803631 12.594948,17.754205 10.277953,20.102856 6.0004236,20.102856 3.8418551,20.102856 2.1783714,19.008147 0.316854,17.774109 0.158427,15.724016 0.079213,14.509884 0.8317418,13.355463 1.6436802,12.121425 2.8318828,12.121425 5.9410136,12.121425 5.9410136,15.246325 5.9410136,16.360939 4.8518276,17.117284 4.4557596,17.316322 4.4557596,17.754205 4.4557596,18.669781 6.0400296,18.669781 7.4064626,18.669781 8.4164356,17.67459 9.3669976,16.739112 9.6244416,15.345844 9.7828686,14.450172 9.7234616,12.897673 9.6442516,11.185946 8.6144716,9.8324862 7.4658766,8.319796 5.8419996,8.319796 3.5052007,8.319796 2.0199474,10.389794 H 0.7327249 L 0.9703654,0 Q 3.8022485,0.53740302 6.8915756,0.61701702 9.4660146,0.67672702 12.733572,0 11.882027,4.418647 6.3766876,4.418647 4.6934006,4.418647 2.2971918,3.901148 L 2.158568,8.419315 Q 4.6141866,6.787202 7.4262666,6.82701 10.49579,6.88672 12.416718,8.459122 14.515876,10.170851 14.515876,13.176327 z","M 15.208994,13.932671 Q 15.208994,16.639591 12.931606,18.411031 10.872055,20.003337 8.0797776,20.003337 4.1389059,20.003337 1.9605344,16.997861 0.0396067,14.350653 0.0396067,10.230561 0.0396067,5.95124 2.257585,3.144802 4.6339906,0.13932602 8.7134856,0.13932602 10.753234,0.13932602 12.396915,1.194228 14.258432,2.388456 14.337645,4.299223 14.397055,5.493453 13.505904,6.349318 12.614752,7.20518 11.386942,7.225085 10.277953,7.225085 9.4462106,6.448837 8.6144686,5.672586 8.6144686,4.577877 8.6144686,4.060378 9.3075876,2.468073 9.3867976,2.288937 9.3867976,2.109804 9.3867976,1.552496 8.2183986,1.552496 6.4757016,1.552496 5.5449426,4.518165 4.9508416,6.409028 4.9508416,7.444027 V 10.27037 Q 7.5846906,8.857198 9.8026686,8.857198 12.119664,8.857198 13.624721,10.210658 15.208991,11.643733 15.208991,13.932671 z M 10.49579,14.290941 Q 10.49579,12.798155 9.9412956,11.683541 9.2283736,10.230561 7.9411546,10.230561 6.6143276,10.230561 5.9014066,11.683541 5.3469116,12.798155 5.3469116,14.290941 5.3469116,18.590165 7.9411546,18.590165 10.49579,18.590165 10.49579,14.290941 z","M 15.842702,0.64105232 Q 15.268404,4.0247023 14.83273,5.2985463 14.298039,6.8709473 12.614752,9.5579642 10.060116,13.618343 9.9809026,20.06718 H 3.1883437 Q 3.1883437,14.971802 10.159133,9.5181552 11.505763,8.4632533 12.000847,7.7069093 12.792982,6.7316213 13.030623,5.4378723 10.812644,7.1894083 9.3273906,7.1894083 8.3174186,7.1894083 6.4559006,5.3781623 5.1290746,4.0844133 4.0596923,4.0844133 2.5348322,4.0844133 1.5644668,6.6918143 H 0.0792135 V 0.64105232 H 1.5644668 Q 1.7426972,1.7556673 2.4358154,1.7556673 2.3764054,1.7556673 3.9606755,0.82018832 5.4855356,-0.07548368 6.9311816,0.08374632 8.3570256,0.24297732 10.099723,1.6959553 11.84242,3.1489343 12.139471,3.1489343 13.030623,3.1489343 13.684134,2.3129733 14.238629,1.6163413 14.377252,0.64105232 H 15.842702 z","M 15.208994,13.872964 Q 15.248604,16.739112 12.495931,18.530457 10.099723,20.082954 7.1094126,20.082954 4.3963496,20.082954 2.4358154,18.809109 0.1782304,17.336227 0.1782304,14.788538 0.1782304,11.842774 3.8022485,10.091237 0.5941013,8.2003757 0.5941013,5.2944167 0.5941013,2.7865367 2.9903098,1.2937497 4.9706476,0.05971171 7.6639066,0.05971171 10.297757,0.05971171 12.139471,0.93548172 14.614893,2.1098067 14.614893,4.4783607 14.614893,6.7872027 11.822617,9.0761422 15.149584,10.927197 15.208994,13.872964 z M 11.862223,4.6176867 Q 12.000847,2.9855737 10.31756,2.1297097 9.0303396,1.4728847 7.3272496,1.4728847 4.4557596,1.4728847 4.2181196,3.6822077 4.0794957,4.9560527 6.6935416,6.5881657 8.9907336,8.0212407 9.7630646,8.0212407 11.66419,6.7274917 11.862223,4.6176867 z M 11.188909,15.664307 Q 11.188909,14.111809 8.9313226,12.857869 7.9807606,12.340368 5.5053386,11.006813 2.9308998,12.81806 2.9308998,14.748731 2.9308998,16.241518 4.2379226,17.415844 5.5449456,18.590167 7.0500026,18.610072 7.3668566,18.669782 7.6837106,18.669782 8.8125026,18.669782 9.8620816,17.993052 11.188909,17.137188 11.188909,15.664306 z","M 15.466438,9.9121022 Q 15.466438,14.091904 13.24846,16.958054 10.832448,20.082954 6.7727546,20.082954 4.8122206,20.082954 3.0893264,19.008149 1.0891854,17.754207 1.0891854,15.903152 1.0891854,14.689019 1.9209274,13.833155 2.7526694,12.97729 3.9804794,12.957388 5.2082886,12.957388 6.0202266,13.733636 6.8321656,14.509886 6.8519686,15.763826 6.8519686,16.161902 6.4757046,17.017766 6.0994406,17.873631 6.0796366,18.152285 6.0796366,18.709591 7.1886256,18.709591 10.575004,18.709591 10.575004,9.8722952 7.8223336,11.285466 5.6637656,11.285466 3.3269674,11.285466 1.7823044,9.9121022 0.1782304,8.4790277 0.1782304,6.1701857 0.1782304,3.4234587 2.4754224,1.6719227 4.5745806,0.05971171 7.4064626,0.05971171 11.426549,0.05971171 13.585117,3.0651907 15.466438,5.7123987 15.466438,9.9121022 z M 10.13933,5.8915317 Q 10.13933,4.2793227 9.6442446,3.0850927 8.9709296,1.4728847 7.5846936,1.4728847 4.9706476,1.4728847 4.9706476,5.8318197 4.9706476,7.3644137 5.5251426,8.4790277 6.2380636,9.9121022 7.5846936,9.9121022 8.8521096,9.9121022 9.5650316,8.4790277 10.13933,7.3246067 10.13933,5.8915317 z"],wy=16.59523,_y=20.102856,Fp=(e,t,n)=>{const r=wR[e];if(!r)throw new Error(`no time signature digit for ${e}`);let i=1,s=1;return t&&n?(i=t/wy,s=n/_y):t?(i=t/wy,s=i):n&&(s=n/_y,i=s),{path:r,scaleX:i,scaleY:s}};class _R{constructor(){g(this,"enabled",!1);g(this,"highlightedElement",null);g(this,"index",0);g(this,"colorMap",new Map);Na(this,{enabled:ve,highlightedElement:ve,setEnabled:$t,setHighlightedElement:$t})}setEnabled(t){this.enabled=t}setHighlightedElement(t){this.highlightedElement=this.enabled?t:null}paramsForType(t){let n=this.colorMap.get(t);if(!n){const r=this.index++,i=Math.floor(r/Jh.length),o=Jh[r%Jh.length]+Math.floor(20*(Math.random()-.5)),a=50+Math.floor(20*Math.random()),l=50+Math.floor(10*Math.random());n={strokeStyle:`hsl(${o}deg, ${a}%, ${l}%)`,dashArray:Sy[i%Sy.length],lineWidth:be*1.5,fillStyle:""},this.colorMap.set(t,n)}return n}}const Jh=[0,225,90,180,315,135,45,270],Sy=[[],[be*5,be],[be,be*2],[be*5,be*2,be,be*2]],SR=(e,t)=>{const n=e.box.x,r=e.box.y,i=e.box.right,s=e.box.bottom,o=e.box.width,a=3*be;switch(t.beginPath(),e.orientation){case"above":t.moveTo(n,s),t.bezierCurveTo(n+o*.3,r,n+o*.7,r,i,s),t.bezierCurveTo(n+o*.7,r+a,n+o*.3,r+a,n,s);break;case"below":t.moveTo(n,r),t.bezierCurveTo(n+o*.3,s,n+o*.7,s,i,r),t.bezierCurveTo(n+o*.7,s-a,n+o*.3,s-a,n,r);break}t.fill(),t.closePath()},ER=(e,t)=>{t.lineWidth=e.strokeSize,t.beginPath(),t.moveTo(e.box.centerX,e.box.y),t.lineTo(e.box.centerX,e.box.bottom),t.stroke(),t.closePath()},OR=(e,t)=>{if(e.size==e.box.height){t.fillRect(e.box.x,e.box.y,e.box.width,e.box.height);return}const n=e.box.x,r=e.box.y,i=e.box.right,s=e.box.bottom,o=e.size;t.beginPath(),t.moveTo(n,s),t.lineTo(i,r+o),t.lineTo(i,r),t.lineTo(n,s-o),t.fill(),t.closePath()},AR=(e,t,n)=>{const r=e.text.length*e.size*.6,i=e.size,s=be*5;if(r+s<e.box.width)switch(e.style.textAlign){case void 0:case"left":e.decorations.end&&xc(t,e.decorations.end,e.box.update({x:e.box.x+r,y:e.box.centerY-.5*i,width:e.box.width-r-s,height:i}));break;case"right":e.decorations.start&&xc(t,e.decorations.start,e.box.update({x:e.box.x,y:e.box.centerY-.5*i,width:e.box.width-r-s,height:i}),!0);break;case"center":e.decorations.start&&xc(t,e.decorations.start,e.box.update({x:e.box.x,y:e.box.centerY-.5*i,width:.5*(e.box.width-r)-s,height:i}),!0),e.decorations.end&&xc(t,e.decorations.end,e.box.update({x:e.box.centerX+.5*r+s,y:e.box.centerY-.5*i,width:.5*(e.box.width-r)-s,height:i}));break}},xc=(e,t,n,r=!1)=>{e.beginPath(),t.dashed&&e.setLineDash([12*be,4*be]),e.moveTo(n.x,n.centerY),e.lineTo(n.right,n.centerY),e.stroke(),t.dashed&&e.setLineDash([]),e.beginPath();const i=r?n.x:n.right;t.upTick&&t.downTick?(e.moveTo(i,n.y),e.lineTo(i,n.bottom)):t.downTick?(e.moveTo(i,n.centerY),e.lineTo(i,n.bottom)):t.upTick&&(e.moveTo(i,n.y),e.lineTo(i,n.centerY)),e.stroke(),e.closePath()},PR=(e,t,n)=>{t.beginPath(),t.moveTo(e.box.x,e.box.y),t.ellipse(e.box.centerX,e.box.centerY,.5*e.box.width,.5*e.box.height,0,0,2*Math.PI),n.style.fill&&t.fill(),n.style.stroke&&t.stroke()},CR=(e,t)=>{t.beginPath(),t.moveTo(e.box.x,e.box.y),t.lineTo(e.box.right,e.box.bottom),t.stroke()},TR=(e,t)=>{const n=e.content.box.translate(e.box.x,e.box.y);t.beginPath(),t.rect(n.x,n.y,n.width,n.height),t.clip(),t.closePath()},kR=(e,t)=>{t.fillStyle!="transparent"&&t.fill(e.path),t.strokeStyle!="transparent"&&t.stroke(e.path)},NR=(e,t)=>{const n=Hx[e.chord.value.name];if(!n)return null;const r=pl(e,"Part");if(!(r instanceof ag))return null;const i=r.part.instrument;let s=6;i instanceof ys&&(s=i.tuning.length);const o=(s-1)/2;t.save(),t.translate(e.box.x,e.box.y+$*o),t.scale($,$),t.fill(new Path2D(n)),t.restore()},$R=(e,t)=>{switch(e.stroke.direction){case $i.Down:{t.fillRect(e.box.x,e.box.y,e.box.width,.5*e.box.height),t.beginPath(),t.moveTo(e.box.x,e.box.y),t.lineTo(e.box.x,e.box.bottom),t.moveTo(e.box.right,e.box.y),t.lineTo(e.box.right,e.box.bottom),t.stroke(),t.closePath();break}case $i.Up:{const n=`
        M ${e.box.x} ${e.box.bottom}
        L ${e.box.centerX} 0
        L ${e.box.right} ${e.box.bottom}
      `;t.stroke(new Path2D(n));break}}},MR=(e,t,n)=>{let r,i;switch(n.style.textAlign){case void 0:case"left":r=e.box.x,i="left";break;case"center":r=e.box.centerX,i="center";break;case"right":r=e.box.right,i="right";break;default:throw new Error(`unsupported text-align value: ${n.style.textAlign}`)}let s,o;switch(n.style.verticalAlign){case void 0:case"top":s=e.box.y,o="top";break;case"middle":{s=e.box.centerY-.5*e.size*(e.lines.length-1)+.5*e.size,o="ideographic";break}case"bottom":s=e.box.bottom-e.size*(e.lines.length-1),o="ideographic";break;case"hanging":s=e.box.y,o="hanging";break;default:throw new Error(`unsupported vertical-align value: ${n.style.textAlign}`)}t.fillStyle=n.style.color||"currentColor",t.textAlign=i,t.textBaseline=o,t.font=`
    ${n.style.fontStyle??""}
    ${n.style.fontWeight??""}
    ${e.size}px
    ${n.style.fontFamily??j4}
  `,e.lines.forEach((a,l)=>{t.fillText(a,r,s+l*e.size)})},RR=(e,t)=>{const n=e.timeSignature.count.toString().split("").map(c=>parseInt(c,10)),r=e.timeSignature.value.toNumber().toString().split("").map(c=>parseInt(c,10)),i=e.box.width/Math.max(n.length,r.length),s=e.box.height-2*i,o=n.map(c=>Fp(c,void 0,i)),a=r.map(c=>Fp(c,void 0,i)),l=.5*(e.box.width-n.length*i),u=.5*(e.box.width-r.length*i);o.map(({path:c,scaleX:f,scaleY:d},h)=>{t.save(),t.translate(e.box.x+l+h*i,e.box.y),t.scale(f,d),t.fill(new Path2D(c)),t.restore()}),a.map(({path:c,scaleX:f,scaleY:d},h)=>{t.save(),t.translate(e.box.x+u+h*i,e.box.y+s+i),t.scale(f,d),t.fill(new Path2D(c)),t.restore()})},jR=(e,t)=>{const n=.2*$,r=e.box.x+n,i=e.box.y+.6*e.box.height,s=.3*$,o=.3*$,a=Math.floor((e.box.width-2*n)/o/2)*2,l=ze(a-1).map(c=>`${o},0`),u=new Path2D(`
    M ${r},${i}
    q ${.5*o},-${s} ${o},0
    t ${l.join(" ")}
    l ${.6*o},-${.8*o}
    q -${.5*o},${s} -${o},0
    t -${l.join(" -")}
    L ${r},${i}
  `);t.stroke(u),t.fill(u)},IR=(e,t)=>{const n=e.box.width,r=e.box.height;t.beginPath(),t.ellipse(e.box.centerX,e.box.centerY,.25*n,.25*r,0,0,2*Math.PI),t.fill(),t.closePath()},LR=/^(?<color>(#?\w+|(rgba?|hsl|hwb|lab|lch|oklab|oklch)\(.+?\)|\w+))(?<offsetX> \d+\w*)?(?<offsetY> \d+\w*)?(?<blur> \d+\w*)?(?<spread> \d+\w*)?$/,wg=(e,t,n)=>{var s,o,a,l,u,c,f;if(!e.box.overlaps(n.viewport))return;const r=n.style,i=F5({color:r.color,fill:r.fill,stroke:r.stroke},n.styler.stylesFor(e,n.ancestors),e.style);if(i.display!="none"){t.save();try{if(n.style=i,n.style.backgroundColor||n.style.boxShadow){if(n.style.boxShadow)if(n.style.boxShadow.includes("inset"))console.warn("inset box shadows not supported");else{const d=n.style.boxShadow.trim().match(LR);d&&(t.shadowColor=((s=d.groups)==null?void 0:s.color)??"",t.shadowOffsetX=parseInt(((o=d.groups)==null?void 0:o.offsetX)??"0"),t.shadowOffsetY=parseInt(((a=d.groups)==null?void 0:a.offsetY)??"0"),t.shadowBlur=parseInt(((l=d.groups)==null?void 0:l.blur)??"0"))}t.fillStyle=n.style.backgroundColor??"",t.fillRect(e.box.x,e.box.y,e.box.width,e.box.height),t.fillStyle="",t.shadowBlur=0,t.shadowColor="",t.shadowOffsetX=0,t.shadowOffsetY=0}if(DR(t,i),(u=Zh[e.type])==null||u.call(Zh,e,t,n),(c=e.children)!=null&&c.length){t.translate(e.box.x,e.box.y);const d=n.viewport.translate(-e.box.x,-e.box.y);for(const h of e.children)wg(h,t,{...n,viewport:d});t.translate(-e.box.x,-e.box.y)}if((f=n.debug)!=null&&f.highlightedElement&&J7(e,n.debug.highlightedElement)){const d=n.debug.paramsForType(e.type);d&&(t.strokeStyle=d.strokeStyle,t.lineWidth=d.lineWidth,t.fillStyle=d.fillStyle,t.setLineDash(d.dashArray),t.strokeRect(e.box.x,e.box.y,e.box.width,e.box.height),t.setLineDash([]))}}finally{n.style=r,t.restore()}}},DR=(e,t)=>{const n=t.color;switch(t.fill){case void 0:break;case"none":e.fillStyle="transparent";break;case"currentcolor":e.fillStyle=n;break;default:e.fillStyle=t.fill;break}switch(t.stroke){case void 0:break;case"none":e.strokeStyle="transparent";break;case"currentcolor":e.strokeStyle=n;break;default:e.strokeStyle=t.stroke;break}t.strokeLinecap&&(e.lineCap=t.strokeLinecap),t.strokeWidth&&(e.lineWidth=Number(t.strokeWidth)),t.textAlign&&(e.textAlign=t.textAlign),t.alignmentBaseline&&(e.textBaseline=t.alignmentBaseline)},Zh={Arc:SR,BarLine:ER,Beam:OR,DecoratedText:AR,Dot:IR,Ellipse:PR,Line:CR,Page:TR,Path:kR,Rest:NR,Stroke:$R,Text:MR,TimeSignature:RR,Vibrato:jR};class zR{constructor(t){g(this,"rules",[]);if(t)for(let n=0;n<t.cssRules.length;++n){const r=t.cssRules.item(n);if(!(r instanceof CSSStyleRule))continue;const i=Object.fromEntries(Array.from(r.style).map(s=>[YO(s),r.style.getPropertyValue(s)]));for(const s of r.selectorText.split(",")){let o,a;if(s.includes("[")){const[l,...u]=s.split("["),c=u.join("").slice(0,-1),[f,d]=c.split("=");o=l.substring(1),a=[f,d==null?void 0:d.slice(1,-1)]}else o=s.substring(1);this.rules.push({rule:r,class:o,attribute:a,styles:i})}}}stylesFor(t,n){const r={},i=this.classForElement(t);for(const s of this.rules)s.class==i&&(s.attribute&&!(s.attribute[0]in t&&String(t[s.attribute[0]])==s.attribute[1])||Object.assign(r,s.styles));return r}classForElement(t){return t.type[0].toLowerCase()+t.type.substring(1).replaceAll(BR,n=>"-"+n.toLowerCase())}}const BR=/[A-Z]/g,FR={NoteValues:bR,Rests:Hx,timeSignatureDigit:Fp},Kx=e=>{let t;e.split(",")[0].includes("base64")?t=window.atob(e.split(",")[1]):t=decodeURIComponent(e.split(",")[1]);const n=e.split(",")[0].split(":")[1].split(";")[0],r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return new Blob([r],{type:n})},Wx=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{if(typeof r.result=="string"){t(r.result);return}n(new Error("unexpected result when converting blob to data uri"))},r.onerror=()=>{n(r.error??new Error("unknown error converting blob to data uri"))},r.readAsDataURL(e)});class UR{async store(t,n,r){let i;r instanceof Blob?i=await Wx(r):i=JSON.stringify(r.toJSON()),this.set(t,n,i)}loadObject(t,n,r){const i=this.get(t,n);if(!i)return;const s=JSON.parse(i);!s||typeof s!="object"||r.fromJSON(s)}loadBlob(t,n){const r=this.get(t,n);return r?Kx(r):null}}class _g{async store(t,n,r){let i;r instanceof Blob?i=await Wx(r):i=JSON.stringify(r.toJSON()),await this.set(t,n,i)}async loadObject(t,n,r){const i=await this.get(t,n);if(!i)return;const s=JSON.parse(i);!s||typeof s!="object"||r.fromJSON(s)}async loadBlob(t,n){const r=await this.get(t,n);return r?Kx(r):null}}const Sg=e=>{switch(typeof e){case"function":return!0;case"object":return e!=null;default:return!1}},bc=(e,t)=>typeof e=="number"?e:t;class VR{constructor(){g(this,"head_",-1);g(this,"stack",[])}get length(){return this.stack.length}get head(){return this.stack[this.head_]}clear(){this.head_=-1,this.stack=[]}push(t){this.head_+=1,this.stack.length=this.head_,this.stack.push(t)}undo(){if(this.head_!=-1)return--this.head_,this.stack[this.head_+1]}redo(){if(this.head_!=this.stack.length-1)return++this.head_,this.stack[this.head_]}toJSON(){return[...this.stack.slice(0,this.head_+1)]}[Symbol.iterator](){return this.stack.values()}}class HR{constructor(t){g(this,"contextMenuSubject",null);g(this,"contextMenuX",0);g(this,"contextMenuY",0);g(this,"tooltip",null);g(this,"hideTooltipTimeout",0);g(this,"helpVisible",!1);g(this,"modalSubject",null);g(this,"modalProperty","");this.playback=t,vi(this,{hideTooltip:!1},{deep:!1})}get isPlaying(){return this.playback.playing}get editorFocused(){var n;const t=(n=document.activeElement)==null?void 0:n.tagName.toLowerCase();return(!document.activeElement||t!=="input"&&t!=="textarea"&&(!("isContentEditable"in document.activeElement)||!document.activeElement.isContentEditable))&&!this.contextMenuSubject}showContextMenuFor(t,n=0,r=0){this.contextMenuSubject=t,this.contextMenuX=n,this.contextMenuY=r}hideContextMenu(){this.contextMenuSubject=null,this.contextMenuX=0,this.contextMenuY=0}showModalFor(t,n){this.modalSubject=t,this.modalProperty=n}hideModal(){this.modalSubject=null,this.modalProperty=""}showTooltip(t){(!this.tooltip||this.tooltip.subject!==t.subject)&&(this.tooltip=t),clearTimeout(this.hideTooltipTimeout),this.hideTooltipTimeout=0}hideTooltip(){this.tooltip&&!this.hideTooltipTimeout&&(this.hideTooltipTimeout=window.setTimeout(()=>{this.hideTooltipImmediately()},this.tooltip.delay??500))}hideTooltipImmediately(){this.tooltip=null,clearTimeout(this.hideTooltipTimeout)}toggleHelp(){this.helpVisible=!this.helpVisible}}class KR{constructor(t){g(this,"loading",!1);g(this,"error",null);g(this,"state");g(this,"debug",new _R);g(this,"canvas");g(this,"settingsStorage");g(this,"tabStorage");g(this,"selection");g(this,"playback");g(this,"navigate");g(this,"bodyWidth",document.body.clientWidth);g(this,"bodyHeight",document.body.clientHeight);g(this,"reflowDisposer",null);g(this,"undoStack",new VR);g(this,"currentTabUrl_",null);g(this,"loadScore",li(function*(t){var n;if(!(this.selection.score!=null&&t.toString()==((n=this.currentTabUrl_)==null?void 0:n.toString()))){this.loading=!0,yield Promise.all([Gk(()=>this.bodyWidth!=0&&this.bodyHeight!=0),new Promise(r=>window.setTimeout(r,200))]);try{this.error=null,this.currentTabUrl_=new URL(t);const r=yield this.tabStorage.load(this.currentTabUrl_);if(!r)throw new Error(`couldn't load tab: ${this.currentTabUrl_.pathname}`);const i=new File([r],this.currentTabUrl_.pathname);this.setScore(yield b$(i))}catch(r){r instanceof Error?this.error=r:this.error=new Error(`${r}`)}finally{this.loading=!1}}}));this.settingsStorage=t.settingsStorage,this.tabStorage=t.tabStorage,this.selection=t.selection,this.playback=t.playback,this.navigate=t.navigate,this.canvas=new Vx,this.state=new HR(this.playback),vi(this,void 0,{deep:!1})}dispose(){var t;(t=this.reflowDisposer)==null||t.call(this),this.canvas.dispose()}get currentTabUrl(){return this.currentTabUrl_}get isSmallScreen(){return this.bodyWidth<=768||this.bodyHeight<=768}setBodyDimensions(t,n){this.bodyWidth=t,this.bodyHeight=n}dispatch(t){if(t){if(WR(t)){this.dispatch(t.actionForState(this));return}XR(t)&&this.undoStack.push(t),t.apply(this)}}undo(t){const n=this.undoStack.undo();n&&n.undo()}redo(){const t=this.undoStack.redo();t&&t.apply(this)}toJSON(){var t;return{selection:this.selection.toJSON(),lastTabUrl:(t=this.currentTabUrl)==null?void 0:t.toString()}}fromJSON(t){Sg(t.selection)&&this.selection.fromJSON(t.selection),!this.currentTabUrl_&&B5(t.lastTabUrl)&&(this.currentTabUrl_=t.lastTabUrl?new URL(t.lastTabUrl):null)}setScore(t){var n;(n=this.reflowDisposer)==null||n.call(this),t?this.reflowDisposer=rs(()=>{const r=this.isSmallScreen?"compact":"normal";return{score:PN(t,[this.selection.partIndex],{layoutMode:r}),layoutMode:r,partIndex:this.selection.partIndex}},(r,i)=>{if(this.selection.setScore(r.score),this.canvas.setUserSpaceSize(r.score.box),r.layoutMode!==(i==null?void 0:i.layoutMode)){const s=r.score.box,o=this.canvas.canvasWidth/this.canvas.canvasHeight;this.canvas.setViewport(new R(this.canvas.viewport.x,this.canvas.viewport.y,s.width,s.width/(Number.isFinite(o)?o:1)))}},{fireImmediately:!0}):this.selection.setScore(null),this.undoStack.clear(),this.playback.reset()}}const WR=e=>Sg(e)&&typeof e.actionForState=="function",GR=e=>Sg(e)&&typeof e.apply=="function",XR=e=>GR(e)&&typeof e.undo=="function";class YR{constructor(){g(this,"score",null);g(this,"partIndex",0);g(this,"measureIndex",0);g(this,"chordIndex",0);g(this,"noteIndex",0);vi(this,void 0,{deep:!1})}get part(){if(!this.score)return;const t=this.score.score.parts[this.partIndex];return this.score.children.find(n=>n.part==t)}get page(){var n;const t=(n=this.part)==null?void 0:n.children.find(r=>{const i=r.measures[0].measure.number,s=Gl(r.measures).measure.number+1;return AC(this.measureIndex+1,i,s)});if(!t)throw new Error("current measure not found in any page");return t}get measure(){var t;return(t=this.part)==null?void 0:t.measures[this.measureIndex]}get chord(){var t;return(t=this.measure)==null?void 0:t.chords[this.chordIndex]}get note(){var n;if(((n=this.chord)==null?void 0:n.type)!="Chord")return;const t=this.chord.chord.notes.findIndex(r=>{var i;return((i=r.placement)==null?void 0:i.string)==this.noteIndex+1});return t==-1?void 0:this.chord.notes[t]}get element(){return this.note??this.chord??this.measure}reset(){this.update({partIndex:0,measureIndex:0,chordIndex:0,noteIndex:0})}update(t){var c,f;const n=t.partIndex,r=n!=null&&t.partIndex!=this.partIndex;r&&(this.partIndex=n);const i=t.measureIndex,s=i!=null&&t.measureIndex!=this.measureIndex;s&&(this.measureIndex=i);const o=t.chordIndex;o!=null&&t.chordIndex!=this.chordIndex&&(this.chordIndex=o);const l=t.noteIndex;if(l!=null&&t.noteIndex!=this.noteIndex&&(this.noteIndex=l),r||s){const d=(f=(c=this.score)==null?void 0:c.score.parts[this.partIndex])==null?void 0:f.measures[this.measureIndex];d&&this.chordIndex>=d.chords.length&&(this.chordIndex=0,this.noteIndex=0)}}previousPart(){this.partIndex>0&&this.update({partIndex:this.partIndex-1})}nextPart(){this.score&&this.partIndex<this.score.score.parts.length-1&&this.update({partIndex:this.partIndex+1})}previousPage(){if(!this.part)return;const t=this.part.children.findIndex(r=>this.page==r),n=t<=0?0:this.part.children[t-1].measures[0].measure.number-1;this.update({measureIndex:n})}nextPage(){if(!this.part)return;const t=this.part.children.findIndex(r=>this.page==r),n=t==this.part.children.length-1?this.part.measures.length-1:this.part.children[t+1].measures[0].measure.number-1;this.update({measureIndex:n})}previousMeasure(){this.measureIndex>0&&this.update({measureIndex:this.measureIndex-1})}nextMeasure(){this.part&&this.measureIndex<this.part.part.measures.length-1&&this.update({measureIndex:this.measureIndex+1})}previousChord(){var t;if(this.chordIndex==0){if(this.measureIndex>0){const n=(t=this.part)==null?void 0:t.measures[this.measureIndex-1];this.update({measureIndex:this.measureIndex-1,chordIndex:((n==null?void 0:n.chords.length)??1)-1})}}else this.update({chordIndex:this.chordIndex-1})}nextChord(){!this.measure||!this.part||(this.chordIndex==this.measure.measure.chords.length-1?this.measureIndex<this.part.part.measures.length-1&&this.update({measureIndex:this.measureIndex+1,chordIndex:0}):this.update({chordIndex:this.chordIndex+1}))}previousNote(){var u,c;if(!this.part)return;if(this.noteIndex>0){this.update({noteIndex:this.noteIndex-1});return}if(!this.chord)return;const t=(c=(u=this.measure)==null?void 0:u.parent)==null?void 0:c.parent;if((t==null?void 0:t.type)!=="PageLine")return;const r=this.part.children.flatMap(f=>f.lines),i=r.findIndex(f=>f===t);if(i<=0)return;const s=bn(this.chord).x,a=r[i-1].measures.flatMap(f=>f.chords.map(d=>[f,d])),l=$2(a,([f,d])=>Math.abs(bn(d).x-s));l&&this.update({measureIndex:l[0].measure.number-1,chordIndex:l[0].chords.indexOf(l[1]),noteIndex:this.part.part.lineCount-1})}nextNote(){var u,c;if(!this.part)return;if(this.noteIndex<this.part.part.lineCount-1){this.update({noteIndex:this.noteIndex+1});return}if(!this.chord)return;const t=(c=(u=this.measure)==null?void 0:u.parent)==null?void 0:c.parent;if((t==null?void 0:t.type)!=="PageLine")return;const r=this.part.children.flatMap(f=>f.content.children.filter(d=>d.type==="PageLine")),i=r.findIndex(f=>f===t);if(i===-1||i===r.length-1)return;const s=bn(this.chord).x,a=r[i+1].measures.flatMap(f=>f.chords.map(d=>[f,d])),l=$2(a,([f,d])=>Math.abs(bn(d).x-s));l&&this.update({measureIndex:l[0].measure.number-1,chordIndex:l[0].chords.indexOf(l[1]),noteIndex:0})}setFor(t){const n=pl(t,"Note"),r=pl(n??t,"Chord"),i=pl(r??t,"Measure");this.update({measureIndex:i?i.measure.number-1:void 0,chordIndex:r&&i?i.measure.chords.findIndex(s=>Object.is(s,r.chord)):void 0,noteIndex:n&&n.note.placement?n.note.placement.string-1:void 0})}setScore(t){qt.clear(),this.score=t,t==null&&(this.partIndex=-1,this.measureIndex=-1,this.chordIndex=-1,this.noteIndex=-1,this.update({partIndex:0,measureIndex:0,chordIndex:0,noteIndex:0}))}toJSON(){return{partIndex:this.partIndex,measureIndex:this.measureIndex,chordIndex:this.chordIndex,noteIndex:this.noteIndex}}fromJSON(t){this.partIndex=bc(t.partIndex,0),this.measureIndex=bc(t.measureIndex,0),this.chordIndex=bc(t.chordIndex,0),this.noteIndex=bc(t.noteIndex,0)}}const Xr="tabs",Ey="application",Oy="state";class qR extends _g{constructor(t){super(),this.urls=t}async loadBlob(t,n){if(t!=Xr)throw new Error(`Unknown demo namespace: ${t}`);const r=new URL(`/muzart/songs/${n}`,import.meta.url);return await(await fetch(r)).blob()}async get(t,n){throw new Error("Can't get demo tabs")}async delete(t,n){throw new Error("Can't delete demo tabs")}async set(t,n,r){throw new Error("Can't store demo tabs")}async list(t){return t==Xr?this.urls:[]}}class J{}const Ai=class Ai extends J{constructor(n){super();g(this,"part");this.score=n,this.part=Gx(n)}static actionForState(n){var i;const r=(i=n.selection.score)==null?void 0:i.score;return r?new Ai(r):null}static actionForContextMenu(n){var i;const r=(i=n.selection.score)==null?void 0:i.score;return r?new Ai(r):null}apply(n){const r=this.score.addPart(this.part);n.selection.update({partIndex:r})}undo(n){this.score.removePart(this.part)}};g(Ai,"name","Add part"),g(Ai,"when","editorFocused"),g(Ai,"defaultKeyBinding",null);let Up=Ai;const QR=["E4","B3","G3","D3","A2","E2"],Gx=e=>{var r;const t=new ys({midiPreset:25,volume:.8125,tuning:QR.map(i=>xt.fromScientificNotation(i))}),n=(((r=e.parts[0])==null?void 0:r.measures)??[]).map((i,s)=>({number:s+1,staffDetails:{clef:i.staffDetails.clef&&{...i.staffDetails.clef},key:i.staffDetails.key&&{...i.staffDetails.key},tempo:i.staffDetails.tempo&&{...i.staffDetails.tempo},time:i.staffDetails.time&&{...i.staffDetails.time}},chords:[{value:Y.fromString("whole"),notes:[]}]}));return n.length==0&&n.push({number:1,chords:[{value:Y.fromString("whole"),notes:[]}],staffDetails:{clef:{changed:!0,value:{sign:"G",line:2}},key:{changed:!0,value:{fifths:0}},time:{changed:!0,value:new pa(new Y(ie.Quarter),4)},tempo:{changed:!0,value:128}}}),new Dd({name:"Untitled Guitar Track",lineCount:t.tuning.length,measures:n,instrument:t})};class JR extends _g{async loadBlob(t,n){if(t!=Xr)throw new Error(`Unknown empty namespace: ${t}`);const r=new Jl({title:"Untitled Tab"});return r.addPart(Gx(r)),new File([JSON.stringify(r)],n,{type:"application/muzart+json"})}async get(t,n){throw new Error("Can't get empty tabs")}async delete(t,n){throw new Error("Can't delete empty tabs")}async set(t,n,r){throw new Error("Can't store empty tabs")}async list(t){return[]}}class ZR extends _g{constructor(n,r,i,s=globalThis.indexedDB){if(r<=0)throw new Error("IndexedDbStorage version must be a positive integer");super();g(this,"db");this.db=new Promise((o,a)=>{const l=s.open(n,r);l.onsuccess=()=>{o(l.result),this.db=l.result},l.onerror=()=>{a(l.error??new Error("unknown error opening IndexedDB"))},l.onblocked=()=>{a(new Error("upgrade blocked by another tab"))},l.onupgradeneeded=u=>{const c=u.target;if(!c){const d=new Error("no DB to target when needing to do an upgrade");throw a(d),d}const f=c.result;i(u.oldVersion,u.newVersion,f)}})}async set(n,r,i){const l=(await this.db).transaction([n],"readwrite").objectStore(n).put(i,r);await new Promise((u,c)=>{l.onsuccess=()=>u(),l.onerror=()=>c(l.error??new Error("unknown error setting value"))})}async delete(n,r){const a=(await this.db).transaction([n],"readwrite").objectStore(n).delete(r);await new Promise((l,u)=>{a.onsuccess=()=>l(),a.onerror=()=>u(a.error??new Error("unknown error deleting value"))})}async get(n,r){const a=(await this.db).transaction([n],"readonly").objectStore(n).get(r);return await new Promise((l,u)=>{a.onsuccess=()=>l(a.result),a.onerror=()=>u(a.error??new Error("unknown error getting from IndexedDB storage"))})}async list(n){const o=(await this.db).transaction([n],"readonly").objectStore(n).getAllKeys();return await new Promise((a,l)=>{o.onsuccess=()=>a(o.result.map(u=>String(u))),o.onerror=()=>l(o.error??new Error("unknown error listing IndexedDB storage"))})}}class ej extends UR{constructor(t=globalThis.localStorage){super(),this.localStorage=t}set(t,n,r){this.localStorage.setItem(`${t}/${n}`,r)}delete(t,n){this.localStorage.removeItem(`${t}/${n}`)}get(t,n){return this.localStorage.getItem(`${t}/${n}`)}list(t){const n=[];for(let r=0;r<this.localStorage.length;++r){const i=this.localStorage.key(r);if(!i)continue;const[s,o]=i.split("/",2);s==t&&o&&n.push(o)}return n}}class tj{constructor(t){this.loaders=t}async load(t){const n=t.protocol.slice(0,-1),r=this.loaders[n];if(!r)throw new Error(`unknown protocol for tab storage: ${n}`);return await r.loadBlob(Xr,t.pathname)}async store(t,n){const r=t.protocol.slice(0,-1),i=this.loaders[r];if(!i)throw new Error(`unknown protocol for tab storage: ${r}`);await i.store(Xr,t.pathname,n)}async delete(t){const n=t.protocol.slice(0,-1),r=this.loaders[n];if(!r)throw new Error(`unknown loader type: ${n}`);await r.delete(Xr,t.pathname)}async list(){return(await Promise.all(Object.entries(this.loaders).map(async([n,r])=>(await r.list(Xr)).map(s=>new URL(`${n}:${s}`))))).flatMap(n=>n)}}const Vp=(e,t)=>{const n=3*be,r=bn(e);return r.update({y:r.y+t*$,width:e.type=="Chord"?r.width:$,height:$}).expand(n)},Xx=A.createContext(null),me=()=>{const e=A.useContext(Xx);if(e==null)throw new Error("Application state hasn't been set");return e},nj=e=>{const[t,n]=$4(),r=A.useMemo(()=>{const i=new ej,s=new tj({demo:new qR(["Song13.gp4"]),empty:new JR,"indexed-db":new ZR("muzart_tabs",1,(l,u,c)=>{l<1&&c.createObjectStore(Xr)})}),o=new YR,a=new P$(o);return new KR({settingsStorage:i,tabStorage:s,selection:o,playback:a,navigate:n})},[]);return A.useEffect(()=>()=>r.dispose(),[r]),A.useEffect(()=>{const i=new ResizeObserver(s=>{r.setBodyDimensions(s[0].contentBoxSize[0].inlineSize,s[0].contentBoxSize[0].blockSize)});return i.observe(document.body),()=>i.disconnect()},[r]),A.useEffect(()=>{let i=!1;return rs(()=>[r.playback.currentMeasure??r.selection.element,r.selection.noteIndex,r.isSmallScreen],([s,o,a],l)=>{if(!s)return;if(a!=l[2]){i=!0;return}else if(i){i=!1;return}let u;if(s.type=="Chord"||s.type=="Rest")u=Vp(s,o);else if(s.type=="Note"){const c=Th(s,"Chord");if(c)u=Vp(c,o);else{const f=Th(s,"PageLine")??s;u=bn(f)}}else{const c=Th(s,"PageLine")??s;u=bn(c)}r.canvas.scrollIntoView(u)})},[r]),A.useEffect(()=>{window.Muzart=r,r.settingsStorage.loadObject(Ey,Oy,r);const i=rs(()=>r.toJSON(),s=>{r.settingsStorage.set(Ey,Oy,JSON.stringify(s))},{equals:ts.structural,fireImmediately:!0});return()=>{i(),delete window.Muzart}},[r]),A.useEffect(()=>{r.selection.score==null},[r]),w.jsx(Xx.Provider,{value:r,children:e.children})},so=class so extends J{static actionForState(t){return new so}apply(t){t.state.hideModal()}};g(so,"name","Hide modal"),g(so,"when","modalSubject"),g(so,"defaultKeyBinding","Escape");let Hp=so;const oo=class oo extends J{constructor(t){super(),this.chord=t}static actionForState(t){var r;const n=(r=t.selection.chord)==null?void 0:r.chord;return n?new oo(n):null}apply(t){this.chord.setValue(this.chord.value.decrease())}undo(t){this.chord.setValue(this.chord.value.increase())}};g(oo,"name","Decrease note value"),g(oo,"defaultKeyBinding","Shift + +"),g(oo,"when","editorFocused && !isPlaying");let Kp=oo;const ao=class ao extends J{constructor(t,n){super(),this.chord=t,this.note=n}static actionForState(t){var s,o;const n=(s=t.selection.part)==null?void 0:s.part.instrument,r=(o=t.selection.chord)==null?void 0:o.chord,i=r==null?void 0:r.noteByString(t.selection.noteIndex+1);return n&&r&&i?new ao(r,i):null}apply(t){this.chord.removeNote(this.note)}undo(t){this.chord.changeNote(this.note)}};g(ao,"name","Delete note"),g(ao,"when","editorFocused && !isPlaying"),g(ao,"defaultKeyBinding","Delete");let Wp=ao;class Uf extends J{constructor(t,n,r){super(),this.chord=t,this.note=n,this.dots=r}apply(t){this.chord.changeNote(this.note.withChanges({value:this.note.value.withDots(this.dots)}))}undo(t){this.chord.changeNote(this.note)}}const Ay=e=>{var t;return t=class extends Uf{static actionForState(n){var s,o;const r=(s=n.selection.chord)==null?void 0:s.chord,i=(o=n.selection.note)==null?void 0:o.note;return r&&i?new Uf(r,i,e):null}},g(t,"name",e==0?"Remove note dots":e==1?"Dot note":`Dot note ${e} times`),g(t,"when","editorFocused"),g(t,"defaultKeyBinding",null),t},lo=class lo extends J{constructor(t){super(),this.note=t}static actionForState(t){var r;const n=(r=t.selection.note)==null?void 0:r.note;return n?new lo(n):null}apply(t){t.state.showModalFor(this.note,"bend")}};g(lo,"name","Toggle edit bend"),g(lo,"when","editorFocused && !isPlaying"),g(lo,"defaultKeyBinding","b");let Vf=lo;const uo=class uo extends J{constructor(t){super(),this.note=t}static actionForState(t){const n=t.selection.note;return n instanceof ua?new uo(n):null}apply(t){t.state.showModalFor(this.note,"note.dynamic")}};g(uo,"name","Toggle edit dynamic"),g(uo,"when","editorFocused && !isPlaying"),g(uo,"defaultKeyBinding","d");let Gp=uo;const co=class co extends J{constructor(t){super(),this.note=t}static actionForState(t){const n=t.selection.note;return n instanceof ua?new co(n):null}apply(t){t.state.showModalFor(this.note,"note.harmonic")}};g(co,"name","Toggle edit harmonic"),g(co,"when","editorFocused && !isPlaying"),g(co,"defaultKeyBinding","n");let Xp=co;const fo=class fo extends J{constructor(t){super(),this.chord=t}static actionForState(t){var r;const n=(r=t.selection.chord)==null?void 0:r.chord;return n?new fo(n):null}apply(t){this.chord.setValue(this.chord.value.increase())}undo(t){this.chord.setValue(this.chord.value.decrease())}};g(fo,"name","Increase note value"),g(fo,"defaultKeyBinding","-"),g(fo,"when","editorFocused && !isPlaying");let Yp=fo;class Py extends J{constructor(n,r,i,s){super();g(this,"note");g(this,"shouldPlayNote",!0);this.instrument=n,this.chord=r,this.string=i,this.fret=s,this.note=r.noteByString(i)}apply(n){const r=this.instrument.tuning[this.string];let i;this.note?i=new qt(this.note.withChanges({pitch:r.adjust(this.fret),placement:{string:this.string,fret:this.fret},dead:void 0})):i=new qt({value:this.chord.value,pitch:r.adjust(this.fret),placement:{string:this.string,fret:this.fret},dead:void 0}),this.chord.changeNote(i),this.shouldPlayNote&&(n.playback.playNote(i),this.shouldPlayNote=!1)}undo(n){if(this.note)this.chord.changeNote(this.note);else{const r=this.chord.noteByString(this.string);r&&this.chord.removeNote(r)}}}const Cy={dead:{name:"Toggle dead note",defaultKeyBinding:"x"},palmMute:{name:"Toggle palm mute",defaultKeyBinding:"p"},ghost:{name:"Toggle ghost note",defaultKeyBinding:"g"},hammerOnPullOff:{name:"Toggle hammer-on / pull-off",defaultKeyBinding:"h"},letRing:{name:"Toggle let ring",defaultKeyBinding:"l"},staccato:{name:"Toggle staccato",defaultKeyBinding:"s"},vibrato:{name:"Toggle vibrato",defaultKeyBinding:"v"}},jr=e=>{var t;return t=class extends J{constructor(r,i,s){super(),this.chord=r,this.note=i,this.feature=s}static actionForState(r){var o,a;const i=(o=r.selection.chord)==null?void 0:o.chord,s=(a=r.selection.note)==null?void 0:a.note;return i&&s?new t(i,s,e):null}apply(r){this.chord.changeNote(this.note.withChanges({[this.feature]:!this.note[this.feature]}))}undo(r){this.chord.changeNote(this.note)}},g(t,"name",Cy[e].name),g(t,"when","editorFocused"),g(t,"defaultKeyBinding",Cy[e].defaultKeyBinding),t},ho=class ho extends J{static actionForState(t){return new ho}apply(t){t.redo()}};g(ho,"name","Redo"),g(ho,"when","editorFocused && !isPlaying"),g(ho,"defaultKeyBinding","$mod + Shift + z");let qp=ho;const po=class po extends J{static actionForState(t){return new po}apply(t){t.navigate("#/empty:Untitled.muzart")}};g(po,"name","New score"),g(po,"when",""),g(po,"defaultKeyBinding","$mod + Alt + KeyN");let Qp=po;const mo=class mo extends J{static actionForState(t){return new mo}apply(t){t.undo(t)}};g(mo,"name","Undo"),g(mo,"when","editorFocused && !isPlaying"),g(mo,"defaultKeyBinding","$mod + z");let Jp=mo;const go=class go extends J{static actionForState(t){return new go}apply(t){t.selection.update({measureIndex:0})}};g(go,"name","First page"),g(go,"when","editorFocused"),g(go,"defaultKeyBinding","Home");let Zp=go;const vo=class vo extends J{static actionForState(t){return new vo}apply(t){var r;const n=(r=t.selection.part)==null?void 0:r.part;n&&t.selection.update({measureIndex:n.measures.length-1})}};g(vo,"name","Last page"),g(vo,"when","editorFocused"),g(vo,"defaultKeyBinding","End");let e1=vo;const yo=class yo extends J{constructor(n,r){super();g(this,"chord");this.measure=n,this.chord=new K8({value:r,notes:[]})}static actionForState(n){var s,o;const r=(s=n.selection.measure)==null?void 0:s.measure,i=(o=n.selection.chord)==null?void 0:o.chord.value;return r&&i?new yo(r,i):null}apply(n){this.measure.addChord(this.chord)}undo(n){this.measure.removeChord(this.chord)}};g(yo,"name","Add chord"),g(yo,"when","editorFocused && !isPlaying"),g(yo,"defaultKeyBinding",null);let t1=yo;const xo=class xo extends J{constructor(n){super();g(this,"measure");this.part=n;const r=n.measures[n.measures.length-1],{clef:i,key:s,tempo:o,time:a}=r.staffDetails;this.measure=new Mu({number:n.measures.length+1,staffDetails:{clef:i&&{changed:!1,value:i.value},key:s&&{changed:!1,value:s.value},tempo:o&&{changed:!1,value:o.value},time:a&&{changed:!1,value:a.value}},chords:[{value:Y.fromNumber(1)}]})}static actionForState(n){var i;const r=(i=n.selection.part)==null?void 0:i.part;return r?new xo(r):null}apply(n){this.part.addMeasure(this.measure)}undo(n){this.part.removeMeasure(this.measure)}};g(xo,"name","Add chord"),g(xo,"when","editorFocused && !isPlaying"),g(xo,"defaultKeyBinding",null);let n1=xo;const bo=class bo extends J{static actionForState(t){return new bo}apply(t){var s,o;const n=(s=t.selection.measure)==null?void 0:s.measure;if(!n)return;const r=t.selection.chordIndex==n.chords.length-1;r&&!n.isValid&&t.dispatch(t1.actionForState(t));const i=(o=t.selection.part)==null?void 0:o.part;i&&t.selection.measureIndex==i.measures.length-1&&r&&t.dispatch(n1.actionForState(t)),t.selection.nextChord()}};g(bo,"name","Next chord"),g(bo,"when","editorFocused && !isPlaying"),g(bo,"defaultKeyBinding","ArrowRight");let r1=bo;const wo=class wo extends J{static actionForState(t){return new wo}apply(t){t.selection.nextMeasure()}};g(wo,"name","Next measure"),g(wo,"when","editorFocused"),g(wo,"defaultKeyBinding","$mod + Shift + ArrowRight");let i1=wo;const _o=class _o extends J{static actionForState(t){return new _o}apply(t){t.selection.nextNote()}};g(_o,"name","Next note"),g(_o,"when","editorFocused && !isPlaying"),g(_o,"defaultKeyBinding","ArrowDown");let s1=_o;const So=class So extends J{static actionForState(t){return new So}apply(t){t.selection.nextPage()}};g(So,"name","Next page"),g(So,"when","editorFocused"),g(So,"defaultKeyBinding","PageDown");let o1=So;const Eo=class Eo extends J{static actionForState(t){return new Eo}apply(t){t.selection.nextPart()}};g(Eo,"name","Next part"),g(Eo,"when","editorFocused"),g(Eo,"defaultKeyBinding","$mod + Alt + ArrowDown");let a1=Eo;const Oo=class Oo extends J{static actionForState(t){return new Oo}apply(t){t.selection.previousChord()}};g(Oo,"name","Previous chord"),g(Oo,"when","editorFocused && !isPlaying"),g(Oo,"defaultKeyBinding","ArrowLeft");let l1=Oo;const Ao=class Ao extends J{static actionForState(t){return new Ao}apply(t){t.selection.previousMeasure()}};g(Ao,"name","Previous measure"),g(Ao,"when","editorFocused"),g(Ao,"defaultKeyBinding","$mod + Shift + ArrowLeft");let u1=Ao;const Po=class Po extends J{static actionForState(t){return new Po}apply(t){t.selection.previousNote()}};g(Po,"name","Previous note"),g(Po,"when","editorFocused && !isPlaying"),g(Po,"defaultKeyBinding","ArrowUp");let c1=Po;const Co=class Co extends J{static actionForState(t){return new Co}apply(t){t.selection.previousPage()}};g(Co,"name","Previous page"),g(Co,"when","editorFocused"),g(Co,"defaultKeyBinding","PageUp");let f1=Co;const To=class To extends J{static actionForState(t){return new To}apply(t){t.selection.previousPart()}};g(To,"name","Previous part"),g(To,"when","editorFocused"),g(To,"defaultKeyBinding","$mod + Alt + ArrowUp");let d1=To;const ko=class ko extends J{static actionForState(t){return new ko}apply(t){t.state.hideContextMenu()}};g(ko,"name","Close context menu"),g(ko,"when","contextMenuSubject"),g(ko,"defaultKeyBinding","Escape");let h1=ko;const No=class No extends J{static actionForState(t){return new No}apply(t){t.state.toggleHelp()}};g(No,"name","Hide help"),g(No,"when","helpVisible"),g(No,"defaultKeyBinding","Escape");let p1=No;const $o=class $o extends J{static actionForState(t){return new $o}apply(t){t.debug.setEnabled(!t.debug.enabled)}};g($o,"name","Toggle debug"),g($o,"when","editorFocused"),g($o,"defaultKeyBinding","Shift + D");let m1=$o;const Mo=class Mo extends J{static actionForState(t){return new Mo}apply(t){t.state.toggleHelp()}};g(Mo,"name","Toggle help"),g(Mo,"when","editorFocused && !editingBend"),g(Mo,"defaultKeyBinding","Shift + ?");let g1=Mo;const Ro=class Ro extends J{static actionForState(t){return new Ro}apply(t){t.playback.togglePlay()}};g(Ro,"name","Toggle playback"),g(Ro,"when","editorFocused"),g(Ro,"defaultKeyBinding"," ");let su=Ro;const jo=class jo extends J{static actionForState(t){return new jo}apply(t){var r;const n=(r=t.selection.score)==null?void 0:r.box;n&&t.canvas.setViewport(new R(0,0,n.width,n.width*(t.canvas.canvasHeight/t.canvas.canvasWidth)))}};g(jo,"name","Reset zoom"),g(jo,"when","editorFocused"),g(jo,"defaultKeyBinding","$mod + 0");let v1=jo;const Io=class Io extends J{static actionForState(t){return new Io}apply(t){t.canvas.zoom(1/1.2)}};g(Io,"name","Zoom in"),g(Io,"when","editorFocused"),g(Io,"defaultKeyBinding","$mod + =");let y1=Io;const Lo=class Lo extends J{static actionForState(t){return new Lo}apply(t){t.canvas.zoom(1.2)}};g(Lo,"name","Zoom out"),g(Lo,"when","editorFocused"),g(Lo,"defaultKeyBinding","$mod + -");let x1=Lo;const rj={},no=window.navigator.userAgent.includes("Macintosh"),ou=" + ",Ty=e=>{switch(e){case"$mod":return"$1";case"Shift":return"$2";case"Alt":return"$3";default:return e}},ij=(e,t)=>{const n=Ty(e),r=Ty(t);return n<r?-1:n>r?1:0},sj=(e,t)=>{A.useEffect(()=>{const n=e.reduce((s,o)=>{var a;return s[a=o.key]??(s[a]=[]),s[o.key].push(o),s},{});let r={};const i=s=>{const o=[];(no&&s.metaKey||!no&&s.ctrlKey)&&o.push("$mod"),s.shiftKey&&o.push("Shift"),s.altKey&&o.push("Alt");let a=[...o,s.code].join(ou),l=n[a];if(!l&&(a=[...o,s.key].join(ou),l=n[a],!l))return;const u=l.filter(f=>f.when?f.when.split(" && ").every(h=>h[0]=="!"?!t[h.substring(1)]:t[h]):!0);if(u.length>1){rj.warn("Multiple bindings found for sequence",a,u);return}const c=u[0];if(c){s.stopPropagation(),s.preventDefault();const f=c.action(r);r={previous:{sequence:a,when:Date.now(),other:f}}}};return document.body.addEventListener("keydown",i),()=>{document.body.removeEventListener("keydown",i)}},[e,t])},ky=500;let Rs=null,b1=0;const oj=()=>{const e=me(),t=e.state,n=A.useMemo(()=>Object.entries(aj).flatMap(([r,i])=>i.filter(s=>!!s.defaultKeyBinding).map(s=>({name:s.name,group:r,when:s.when,key:s.defaultKeyBinding.split(ou).sort((o,a)=>ij(o,a)).join(ou),action(o){const a=s.actionForState(e);e.dispatch(a),Rs=a,b1=Date.now()}}))),[e]);return sj(n,t),n};var qa;const aj={Playback:[su],Zoom:[y1,x1,v1],Editing:[Qp,Jp,qp,Wp,Kp,Yp,Vf,Gp,Xp,...ze(10).map(e=>{var t;return t=class extends Py{static actionForState(n){var o,a;const r=(o=n.selection.part)==null?void 0:o.part.instrument,i=(a=n.selection.chord)==null?void 0:a.chord;if(!(r instanceof ys)||!i)return null;let s=e;if(Rs instanceof Py){const l=Rs.fret;l<10&&Date.now()-b1<ky&&(s=10*l+e)}return new this(r,i,n.selection.noteIndex+1,s)}},g(t,"name","Set note fret"),g(t,"when","editorFocused && !isPlaying"),g(t,"defaultKeyBinding",String(e)),t}),(qa=class extends Uf{static actionForState(e){var i,s;const t=(i=e.selection.chord)==null?void 0:i.chord,n=(s=e.selection.note)==null?void 0:s.note;if(!t||!n)return null;let r=n.value.dots==0?1:0;return Rs instanceof Uf&&Date.now()-b1<ky&&(r=Rs.dots==3?0:Rs.dots+1),new this(t,n,r)}},g(qa,"name","Dot note"),g(qa,"when","editorFocused && !isPlaying"),g(qa,"defaultKeyBinding","."),qa),jr("hammerOnPullOff"),jr("vibrato"),jr("letRing"),jr("palmMute"),jr("dead"),jr("ghost"),jr("staccato"),Hp],Navigation:[l1,r1,c1,s1,f1,o1,Zp,e1,u1,i1,d1,a1],Miscellaneous:[g1,m1,p1,h1]},Yx=e=>w.jsx("div",{className:"flex min-h-screen w-screen items-center justify-center px-12 py-24 text-8xl text-slate-100",children:e.children});class lj extends A.Component{constructor(t){super(t),this.state={}}static getDerivedStateFromError(t){return{error:t}}render(){return this.state.error?w.jsx(Yx,{children:w.jsxs("div",{className:"w-full",children:[w.jsxs("h1",{className:"text-3xl text-red-600",children:["Error: ",this.state.error.message]}),this.state.error.stack&&w.jsx("pre",{className:"w-full whitespace-pre-wrap text-xl",children:this.state.error.stack.split(`
`).filter(t=>!t.includes("/chunk-")).map(t=>t.replace("@"," @ ")).map(t=>t.replaceAll(/https:\/\/muzart\.dev\/|.vite\/deps\/|\?.*/g,"")).join(`
`)})]})}):this.props.children}}if(!A.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Na)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function uj(e){e()}function cj(e){e||(e=uj),Fk({reactionScheduler:e})}function fj(e){return Uk(e)}var dj=1e4,hj=1e4,pj=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=dj),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(s,o){i-s.registeredAt>=r&&(n.finalize(s.value),n.registrations.delete(o))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,hj))}}),e}(),mj=typeof FinalizationRegistry<"u"?FinalizationRegistry:pj,w1=new mj(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null});function Ny(e){e.reaction=new rr("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function qx(e,t){t===void 0&&(t="observed");var n=Xn.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(a){return w1.unregister(r),r.onStoreChange=a,r.reaction||(Ny(r),r.stateVersion=Symbol()),function(){var l;r.onStoreChange=null,(l=r.reaction)===null||l===void 0||l.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i=n.current;i.reaction||(Ny(i),w1.register(n,i,i)),Xn.useDebugValue(i.reaction,fj),E4.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getSnapshot);var s,o;if(i.reaction.track(function(){try{s=e()}catch(a){o=a}}),o)throw o;return s}var e0,t0,Qx=typeof Symbol=="function"&&Symbol.for,gj=(t0=(e0=Object.getOwnPropertyDescriptor(function(){},"name"))===null||e0===void 0?void 0:e0.configurable)!==null&&t0!==void 0?t0:!1,$y=Qx?Symbol.for("react.forward_ref"):typeof A.forwardRef=="function"&&A.forwardRef(function(e){return null}).$$typeof,My=Qx?Symbol.for("react.memo"):typeof A.memo=="function"&&A.memo(function(e){return null}).$$typeof;function Pe(e,t){var n;if(My&&e.$$typeof===My)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=void 0)!==null&&n!==void 0?n:!1,i=e,s=e.displayName||e.name;if($y&&e.$$typeof===$y&&(r=!0,i=e.render,typeof i!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var o=function(a,l){return qx(function(){return i(a,l)},s)};return o.displayName=e.displayName,gj&&Object.defineProperty(o,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(o.contextTypes=e.contextTypes),r&&(o=A.forwardRef(o)),o=A.memo(o),yj(e,o),o}var vj={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function yj(e,t){Object.keys(e).forEach(function(n){vj[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}function Jx(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:qx(r)}Jx.displayName="Observer";function Zx(e,t){return A.useState(function(){return ve(e(),t,{autoBind:!0})})[0]}var n0;cj(Pm.unstable_batchedUpdates);n0=w1.finalizeAllImmediately;const xj=(e,t=[])=>{const[n,r]=A.useState({pending:!0,error:void 0,value:void 0}),i=A.useCallback(e,t);return A.useEffect(()=>{let s=!1;return i().then(o=>!s&&r({pending:!1,error:void 0,value:o})).catch(o=>!s&&r({pending:!1,error:o,value:void 0})),()=>{s=!0}},[i]),n},bj=Pe(e=>{const t=me(),{loading:n,tabStorage:r}=t,[i,s]=A.useReducer((l,u)=>Math.max(l,u)+1,0),{value:o,error:a}=xj(async()=>n?[]:(await r.list()).map(u=>({key:u,href:`#/${encodeURIComponent(u.toString())}`,text:u.pathname,remove:u.protocol=="demo:"?null:()=>r.delete(u)})),[n,r,i]);if(a)throw a;return o?w.jsx("div",{className:"mx-auto w-fit",children:w.jsxs("div",{className:"relative w-fit bg-white text-xl leading-6 text-gray-400",style:{width:`${Nm}mm`,height:`${$m}mm`,marginTop:`${pt.top}mm`,marginLeft:`${pt.left}mm`,marginRight:`${pt.right}mm`,marginBottom:`${pt.bottom}mm`,paddingTop:`${.5*pt.top}mm`,paddingLeft:`${.5*pt.left}mm`,paddingRight:`${.5*pt.right}mm`,paddingBottom:`${.5*pt.bottom}mm`,overflow:"clip"},children:[w.jsx("img",{src:"Song13.svg",className:"pointer-events-none absolute h-full object-cover opacity-20 blur-sm",style:{marginLeft:`-${.5*pt.left}mm`}}),w.jsxs("div",{className:"flex h-full flex-col justify-center border-2 border-dashed border-gray-400",style:{paddingTop:`${1.5*pt.top}mm`,paddingLeft:`${1.5*pt.left}mm`,paddingRight:`${1.5*pt.right}mm`,paddingBottom:`${1.5*pt.bottom}mm`},children:[w.jsx("div",{className:"flex-shrink flex-grow"}),w.jsx("h1",{className:"text-center text-6xl font-bold",children:"Drop a Guitar Pro 3/4 file here"}),w.jsx("p",{className:"my-6 font-extralight",children:"Or load one from storage:"}),w.jsx("ul",{className:"list-inside font-light",style:{color:"#88aaff"},children:o.map(({key:l,href:u,text:c,remove:f})=>w.jsx("li",{style:{listStyleType:"none"},children:w.jsxs("div",{className:"flex w-full items-center p-1 hover:bg-gray-50",children:[w.jsxs("a",{className:"flex-1",href:u,children:[" ",c]}),f&&w.jsx("a",{href:"#",className:"inline-flex items-center justify-center rounded-sm px-2 py-1 hover:bg-gray-200",onClick:d=>{d.preventDefault(),s(i),f()},children:""})]})},l.toString()))}),w.jsx("div",{className:"flex-grow-2 flex-shrink"})]})]})}):null});function eb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=eb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function jn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=eb(e))&&(r&&(r+=" "),r+=t);return r}const{createElement:xa,createContext:wj,createRef:ZD,forwardRef:tb,useCallback:mt,useContext:nb,useEffect:Wi,useImperativeHandle:rb,useLayoutEffect:_j,useMemo:Sj,useRef:vt,useState:Go}=td,Ry=td[`useId${Math.random()}`.slice(0,5)],Ej=_j,Xd=wj(null);Xd.displayName="PanelGroupContext";const Gi=Ej,Oj=typeof Ry=="function"?Ry:()=>null;let Aj=0;function Eg(e=null){const t=Oj(),n=vt(e||t||null);return n.current===null&&(n.current=""+Aj++),e??n.current}function ib({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:i,forwardedRef:s,id:o,maxSize:a,minSize:l,onCollapse:u,onExpand:c,onResize:f,order:d,style:h,tagName:v="div",...x}){const b=nb(Xd);if(b===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:m,expandPanel:p,getPanelSize:y,getPanelStyle:_,groupId:E,isPanelCollapsed:P,reevaluatePanelConstraints:O,registerPanel:T,resizePanel:H,unregisterPanel:I}=b,ee=Eg(o),Z=vt({callbacks:{onCollapse:u,onExpand:c,onResize:f},constraints:{collapsedSize:n,collapsible:r,defaultSize:i,maxSize:a,minSize:l},id:ee,idIsFromProps:o!==void 0,order:d});vt({didLogMissingDefaultSizeWarning:!1}),Gi(()=>{const{callbacks:j,constraints:Q}=Z.current,U={...Q};Z.current.id=ee,Z.current.idIsFromProps=o!==void 0,Z.current.order=d,j.onCollapse=u,j.onExpand=c,j.onResize=f,Q.collapsedSize=n,Q.collapsible=r,Q.defaultSize=i,Q.maxSize=a,Q.minSize=l,(U.collapsedSize!==Q.collapsedSize||U.collapsible!==Q.collapsible||U.maxSize!==Q.maxSize||U.minSize!==Q.minSize)&&O(Z.current,U)}),Gi(()=>{const j=Z.current;return T(j),()=>{I(j)}},[d,ee,T,I]),rb(s,()=>({collapse:()=>{m(Z.current)},expand:j=>{p(Z.current,j)},getId(){return ee},getSize(){return y(Z.current)},isCollapsed(){return P(Z.current)},isExpanded(){return!P(Z.current)},resize:j=>{H(Z.current,j)}}),[m,p,y,P,ee,H]);const he=_(Z.current,i);return xa(v,{...x,children:e,className:t,id:o,style:{...he,...h},"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":E,"data-panel-id":ee,"data-panel-size":parseFloat(""+he.flexGrow).toFixed(1)})}const js=tb((e,t)=>xa(ib,{...e,forwardedRef:t}));ib.displayName="Panel";js.displayName="forwardRef(Panel)";let _1=null,Mi=null;function Pj(e,t){if(t){const n=(t&ub)!==0,r=(t&cb)!==0,i=(t&fb)!==0,s=(t&db)!==0;if(n)return i?"se-resize":s?"ne-resize":"e-resize";if(r)return i?"sw-resize":s?"nw-resize":"w-resize";if(i)return"s-resize";if(s)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Cj(){Mi!==null&&(document.head.removeChild(Mi),_1=null,Mi=null)}function r0(e,t){const n=Pj(e,t);_1!==n&&(_1=n,Mi===null&&(Mi=document.createElement("style"),document.head.appendChild(Mi)),Mi.innerHTML=`*{cursor: ${n}!important;}`)}function sb(e){return e.type==="keydown"}function ob(e){return e.type.startsWith("pointer")}function ab(e){return e.type.startsWith("mouse")}function Yd(e){if(ob(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(ab(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Tj(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function kj(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Nj(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:Ly(e),b:Ly(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;ne(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:Iy(jy(n.a)),b:Iy(jy(n.b))};if(i.a===i.b){const s=r.childNodes,o={a:n.a.at(-1),b:n.b.at(-1)};let a=s.length;for(;a--;){const l=s[a];if(l===o.a)return 1;if(l===o.b)return-1}}return Math.sign(i.a-i.b)}const $j=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Mj(e){var t;const n=getComputedStyle((t=lb(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function Rj(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Mj(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||$j.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function jy(e){let t=e.length;for(;t--;){const n=e[t];if(ne(n,"Missing node"),Rj(n))return n}return null}function Iy(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Ly(e){const t=[];for(;e;)t.push(e),e=lb(e);return t}function lb(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const ub=1,cb=2,fb=4,db=8,jj=Tj()==="coarse";let Cn=[],Xo=!1,Br=new Map,qd=new Map;const au=new Set;function Ij(e,t,n,r,i){var s;const{ownerDocument:o}=t,a={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:i},l=(s=Br.get(o))!==null&&s!==void 0?s:0;return Br.set(o,l+1),au.add(a),Hf(),function(){var c;qd.delete(e),au.delete(a);const f=(c=Br.get(o))!==null&&c!==void 0?c:1;if(Br.set(o,f-1),Hf(),f===1&&Br.delete(o),Cn.includes(a)){const d=Cn.indexOf(a);d>=0&&Cn.splice(d,1),Ag(),i("up",!0,null)}}}function Dy(e){const{target:t}=e,{x:n,y:r}=Yd(e);Xo=!0,Og({target:t,x:n,y:r}),Hf(),Cn.length>0&&(Kf("down",e),e.preventDefault(),e.stopPropagation())}function Xa(e){const{x:t,y:n}=Yd(e);if(Xo&&e.buttons===0&&(Xo=!1,Kf("up",e)),!Xo){const{target:r}=e;Og({target:r,x:t,y:n})}Kf("move",e),Ag(),Cn.length>0&&e.preventDefault()}function ks(e){const{target:t}=e,{x:n,y:r}=Yd(e);qd.clear(),Xo=!1,Cn.length>0&&e.preventDefault(),Kf("up",e),Og({target:t,x:n,y:r}),Ag(),Hf()}function Og({target:e,x:t,y:n}){Cn.splice(0);let r=null;e instanceof HTMLElement&&(r=e),au.forEach(i=>{const{element:s,hitAreaMargins:o}=i,a=s.getBoundingClientRect(),{bottom:l,left:u,right:c,top:f}=a,d=jj?o.coarse:o.fine;if(t>=u-d&&t<=c+d&&n>=f-d&&n<=l+d){if(r!==null&&document.contains(r)&&s!==r&&!s.contains(r)&&!r.contains(s)&&Nj(r,s)>0){let v=r,x=!1;for(;v&&!v.contains(s);){if(kj(v.getBoundingClientRect(),a)){x=!0;break}v=v.parentElement}if(x)return}Cn.push(i)}})}function i0(e,t){qd.set(e,t)}function Ag(){let e=!1,t=!1;Cn.forEach(r=>{const{direction:i}=r;i==="horizontal"?e=!0:t=!0});let n=0;qd.forEach(r=>{n|=r}),e&&t?r0("intersection",n):e?r0("horizontal",n):t?r0("vertical",n):Cj()}function Hf(){Br.forEach((e,t)=>{const{body:n}=t;n.removeEventListener("contextmenu",ks),n.removeEventListener("pointerdown",Dy),n.removeEventListener("pointerleave",Xa),n.removeEventListener("pointermove",Xa)}),window.removeEventListener("pointerup",ks),window.removeEventListener("pointercancel",ks),au.size>0&&(Xo?(Cn.length>0&&Br.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("contextmenu",ks),n.addEventListener("pointerleave",Xa),n.addEventListener("pointermove",Xa))}),window.addEventListener("pointerup",ks),window.addEventListener("pointercancel",ks)):Br.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("pointerdown",Dy,{capture:!0}),n.addEventListener("pointermove",Xa))}))}function Kf(e,t){au.forEach(n=>{const{setResizeHandlerState:r}=n,i=Cn.includes(n);r(e,i,t)})}function Lj(){const[e,t]=Go(0);return mt(()=>t(n=>n+1),[])}function ne(e,t){if(!e)throw console.error(t),Error(t)}const Pg=10;function us(e,t,n=Pg){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function hr(e,t,n=Pg){return us(e,t,n)===0}function At(e,t,n){return us(e,t,n)===0}function Dj(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const i=e[r],s=t[r];if(!At(i,s,n))return!1}return!0}function ro({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];ne(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:i=0,collapsible:s,maxSize:o=100,minSize:a=0}=r;if(us(n,a)<0)if(s){const l=(i+a)/2;us(n,l)<0?n=i:n=a}else n=a;return n=Math.min(o,n),n=parseFloat(n.toFixed(Pg)),n}function rl({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:i,trigger:s}){if(At(e,0))return t;const o=[...t],[a,l]=r;ne(a!=null,"Invalid first pivot index"),ne(l!=null,"Invalid second pivot index");let u=0;if(s==="keyboard"){{const f=e<0?l:a,d=n[f];ne(d,`Panel constraints not found for index ${f}`);const{collapsedSize:h=0,collapsible:v,minSize:x=0}=d;if(v){const b=t[f];if(ne(b!=null,`Previous layout not found for panel index ${f}`),At(b,h)){const m=x-b;us(m,Math.abs(e))>0&&(e=e<0?0-m:m)}}}{const f=e<0?a:l,d=n[f];ne(d,`No panel constraints found for index ${f}`);const{collapsedSize:h=0,collapsible:v,minSize:x=0}=d;if(v){const b=t[f];if(ne(b!=null,`Previous layout not found for panel index ${f}`),At(b,x)){const m=b-h;us(m,Math.abs(e))>0&&(e=e<0?0-m:m)}}}}{const f=e<0?1:-1;let d=e<0?l:a,h=0;for(;;){const x=t[d];ne(x!=null,`Previous layout not found for panel index ${d}`);const m=ro({panelConstraints:n,panelIndex:d,size:100})-x;if(h+=m,d+=f,d<0||d>=n.length)break}const v=Math.min(Math.abs(e),Math.abs(h));e=e<0?0-v:v}{let d=e<0?a:l;for(;d>=0&&d<n.length;){const h=Math.abs(e)-Math.abs(u),v=t[d];ne(v!=null,`Previous layout not found for panel index ${d}`);const x=v-h,b=ro({panelConstraints:n,panelIndex:d,size:x});if(!At(v,b)&&(u+=v-b,o[d]=b,u.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?d--:d++}}if(Dj(i,o))return i;{const f=e<0?l:a,d=t[f];ne(d!=null,`Previous layout not found for panel index ${f}`);const h=d+u,v=ro({panelConstraints:n,panelIndex:f,size:h});if(o[f]=v,!At(v,h)){let x=h-v,m=e<0?l:a;for(;m>=0&&m<n.length;){const p=o[m];ne(p!=null,`Previous layout not found for panel index ${m}`);const y=p+x,_=ro({panelConstraints:n,panelIndex:m,size:y});if(At(p,_)||(x-=_-p,o[m]=_),At(x,0))break;e>0?m--:m++}}}const c=o.reduce((f,d)=>d+f,0);return At(c,100)?o:i}function zj({layout:e,panelsArray:t,pivotIndices:n}){let r=0,i=100,s=0,o=0;const a=n[0];ne(a!=null,"No pivot index found"),t.forEach((f,d)=>{const{constraints:h}=f,{maxSize:v=100,minSize:x=0}=h;d===a?(r=x,i=v):(s+=x,o+=v)});const l=Math.min(i,100-s),u=Math.max(r,100-o),c=e[a];return{valueMax:l,valueMin:u,valueNow:c}}function lu(e,t=document){return Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function hb(e,t,n=document){const i=lu(e,n).findIndex(s=>s.getAttribute("data-panel-resize-handle-id")===t);return i??null}function pb(e,t,n){const r=hb(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function mb(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function Qd(e,t=document){const n=t.querySelector(`[data-panel-resize-handle-id="${e}"]`);return n||null}function Bj(e,t,n,r=document){var i,s,o,a;const l=Qd(t,r),u=lu(e,r),c=l?u.indexOf(l):-1,f=(i=(s=n[c])===null||s===void 0?void 0:s.id)!==null&&i!==void 0?i:null,d=(o=(a=n[c+1])===null||a===void 0?void 0:a.id)!==null&&o!==void 0?o:null;return[f,d]}function Fj({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:i,panelGroupElement:s,setLayout:o}){vt({didWarnAboutMissingResizeHandle:!1}),Gi(()=>{if(!s)return;const a=lu(n,s);for(let l=0;l<i.length-1;l++){const{valueMax:u,valueMin:c,valueNow:f}=zj({layout:r,panelsArray:i,pivotIndices:[l,l+1]}),d=a[l];if(d!=null){const h=i[l];ne(h,`No panel data found for index "${l}"`),d.setAttribute("aria-controls",h.id),d.setAttribute("aria-valuemax",""+Math.round(u)),d.setAttribute("aria-valuemin",""+Math.round(c)),d.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{a.forEach((l,u)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,i,s]),Wi(()=>{if(!s)return;const a=t.current;ne(a,"Eager values not found");const{panelDataArray:l}=a,u=mb(n,s);ne(u!=null,`No group found for id "${n}"`);const c=lu(n,s);ne(c,`No resize handles found for group id "${n}"`);const f=c.map(d=>{const h=d.getAttribute("data-panel-resize-handle-id");ne(h,"Resize handle element has no handle id attribute");const[v,x]=Bj(n,h,l,s);if(v==null||x==null)return()=>{};const b=m=>{if(!m.defaultPrevented)switch(m.key){case"Enter":{m.preventDefault();const p=l.findIndex(y=>y.id===v);if(p>=0){const y=l[p];ne(y,`No panel data found for index ${p}`);const _=r[p],{collapsedSize:E=0,collapsible:P,minSize:O=0}=y.constraints;if(_!=null&&P){const T=rl({delta:At(_,E)?O-E:E-_,initialLayout:r,panelConstraints:l.map(H=>H.constraints),pivotIndices:pb(n,h,s),prevLayout:r,trigger:"keyboard"});r!==T&&o(T)}}break}}};return d.addEventListener("keydown",b),()=>{d.removeEventListener("keydown",b)}});return()=>{f.forEach(d=>d())}},[s,e,t,n,r,i,o])}function zy(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function gb(e,t){const n=e==="horizontal",{x:r,y:i}=Yd(t);return n?r:i}function Uj(e,t,n,r,i){const s=n==="horizontal",o=Qd(t,i);ne(o,`No resize handle element found for id "${t}"`);const a=o.getAttribute("data-panel-group-id");ne(a,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const u=gb(n,e),c=mb(a,i);ne(c,`No group element found for id "${a}"`);const f=c.getBoundingClientRect(),d=s?f.width:f.height;return(u-l)/d*100}function Vj(e,t,n,r,i,s){if(sb(e)){const o=n==="horizontal";let a=0;e.shiftKey?a=100:i!=null?a=i:a=10;let l=0;switch(e.key){case"ArrowDown":l=o?0:a;break;case"ArrowLeft":l=o?-a:0;break;case"ArrowRight":l=o?a:0;break;case"ArrowUp":l=o?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:Uj(e,t,n,r,s)}function Hj({panelDataArray:e}){const t=Array(e.length),n=e.map(s=>s.constraints);let r=0,i=100;for(let s=0;s<e.length;s++){const o=n[s];ne(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;a!=null&&(r++,t[s]=a,i-=a)}for(let s=0;s<e.length;s++){const o=n[s];ne(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;if(a!=null)continue;const l=e.length-r,u=i/l;r++,t[s]=u,i-=u}return t}function Ns(e,t,n){t.forEach((r,i)=>{const s=e[i];ne(s,`Panel data not found for index ${i}`);const{callbacks:o,constraints:a,id:l}=s,{collapsedSize:u=0,collapsible:c}=a,f=n[l];if(f==null||r!==f){n[l]=r;const{onCollapse:d,onExpand:h,onResize:v}=o;v&&v(r,f),c&&(d||h)&&(h&&(f==null||hr(f,u))&&!hr(r,u)&&h(),d&&(f==null||!hr(f,u))&&hr(r,u)&&d())}})}function wc(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Kj({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:i,precision:s=3}){const o=n[i];let a;return o==null?a=e!=null?e.toPrecision(s):"1":r.length===1?a="1":a=o.toPrecision(s),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function Wj(e,t=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...i)},t)}}function By(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function vb(e){return`react-resizable-panels:${e}`}function yb(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:i,order:s}=t;return i?r:s?`${s}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function xb(e,t){try{const n=vb(e),r=t.getItem(n);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function Gj(e,t,n){var r,i;const s=(r=xb(e,n))!==null&&r!==void 0?r:{},o=yb(t);return(i=s[o])!==null&&i!==void 0?i:null}function Xj(e,t,n,r,i){var s;const o=vb(e),a=yb(t),l=(s=xb(e,i))!==null&&s!==void 0?s:{};l[a]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{i.setItem(o,JSON.stringify(l))}catch(u){console.error(u)}}function Fy({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((s,o)=>s+o,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(s=>`${s}%`).join(", ")}`);if(!At(r,100)&&n.length>0)for(let s=0;s<t.length;s++){const o=n[s];ne(o!=null,`No layout data found for index ${s}`);const a=100/r*o;n[s]=a}let i=0;for(let s=0;s<t.length;s++){const o=n[s];ne(o!=null,`No layout data found for index ${s}`);const a=ro({panelConstraints:t,panelIndex:s,size:o});o!=a&&(i+=o-a,n[s]=a)}if(!At(i,0))for(let s=0;s<t.length;s++){const o=n[s];ne(o!=null,`No layout data found for index ${s}`);const a=o+i,l=ro({panelConstraints:t,panelIndex:s,size:a});if(o!==l&&(i-=l-o,n[s]=l,At(i,0)))break}return n}const Yj=100,il={getItem:e=>(By(il),il.getItem(e)),setItem:(e,t)=>{By(il),il.setItem(e,t)}},Uy={};function bb({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:i,id:s=null,onLayout:o=null,keyboardResizeBy:a=null,storage:l=il,style:u,tagName:c="div",...f}){const d=Eg(s),h=vt(null),[v,x]=Go(null),[b,m]=Go([]),p=Lj(),y=vt({}),_=vt(new Map),E=vt(0),P=vt({autoSaveId:e,direction:r,dragState:v,id:d,keyboardResizeBy:a,onLayout:o,storage:l}),O=vt({layout:b,panelDataArray:[],panelDataArrayChanged:!1});vt({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),rb(i,()=>({getId:()=>P.current.id,getLayout:()=>{const{layout:M}=O.current;return M},setLayout:M=>{const{onLayout:G}=P.current,{layout:V,panelDataArray:F}=O.current,K=Fy({layout:M,panelConstraints:F.map(se=>se.constraints)});zy(V,K)||(m(K),O.current.layout=K,G&&G(K),Ns(F,K,y.current))}}),[]),Gi(()=>{P.current.autoSaveId=e,P.current.direction=r,P.current.dragState=v,P.current.id=d,P.current.onLayout=o,P.current.storage=l}),Fj({committedValuesRef:P,eagerValuesRef:O,groupId:d,layout:b,panelDataArray:O.current.panelDataArray,setLayout:m,panelGroupElement:h.current}),Wi(()=>{const{panelDataArray:M}=O.current;if(e){if(b.length===0||b.length!==M.length)return;let G=Uy[e];G==null&&(G=Wj(Xj,Yj),Uy[e]=G);const V=[...M],F=new Map(_.current);G(e,V,F,b,l)}},[e,b,l]),Wi(()=>{});const T=mt(M=>{const{onLayout:G}=P.current,{layout:V,panelDataArray:F}=O.current;if(M.constraints.collapsible){const K=F.map(dn=>dn.constraints),{collapsedSize:se=0,panelSize:Re,pivotIndices:Ge}=wi(F,M,V);if(ne(Re!=null,`Panel size not found for panel "${M.id}"`),!hr(Re,se)){_.current.set(M.id,Re);const Ft=Is(F,M)===F.length-1?Re-se:se-Re,je=rl({delta:Ft,initialLayout:V,panelConstraints:K,pivotIndices:Ge,prevLayout:V,trigger:"imperative-api"});wc(V,je)||(m(je),O.current.layout=je,G&&G(je),Ns(F,je,y.current))}}},[]),H=mt((M,G)=>{const{onLayout:V}=P.current,{layout:F,panelDataArray:K}=O.current;if(M.constraints.collapsible){const se=K.map(hn=>hn.constraints),{collapsedSize:Re=0,panelSize:Ge=0,minSize:dn=0,pivotIndices:Ft}=wi(K,M,F),je=G??dn;if(hr(Ge,Re)){const hn=_.current.get(M.id),Vu=hn!=null&&hn>=je?hn:je,Hu=Is(K,M)===K.length-1?Ge-Vu:Vu-Ge,bi=rl({delta:Hu,initialLayout:F,panelConstraints:se,pivotIndices:Ft,prevLayout:F,trigger:"imperative-api"});wc(F,bi)||(m(bi),O.current.layout=bi,V&&V(bi),Ns(K,bi,y.current))}}},[]),I=mt(M=>{const{layout:G,panelDataArray:V}=O.current,{panelSize:F}=wi(V,M,G);return ne(F!=null,`Panel size not found for panel "${M.id}"`),F},[]),ee=mt((M,G)=>{const{panelDataArray:V}=O.current,F=Is(V,M);return Kj({defaultSize:G,dragState:v,layout:b,panelData:V,panelIndex:F})},[v,b]),Z=mt(M=>{const{layout:G,panelDataArray:V}=O.current,{collapsedSize:F=0,collapsible:K,panelSize:se}=wi(V,M,G);return ne(se!=null,`Panel size not found for panel "${M.id}"`),K===!0&&hr(se,F)},[]),he=mt(M=>{const{layout:G,panelDataArray:V}=O.current,{collapsedSize:F=0,collapsible:K,panelSize:se}=wi(V,M,G);return ne(se!=null,`Panel size not found for panel "${M.id}"`),!K||us(se,F)>0},[]),j=mt(M=>{const{panelDataArray:G}=O.current;G.push(M),G.sort((V,F)=>{const K=V.order,se=F.order;return K==null&&se==null?0:K==null?-1:se==null?1:K-se}),O.current.panelDataArrayChanged=!0,p()},[p]);Gi(()=>{if(O.current.panelDataArrayChanged){O.current.panelDataArrayChanged=!1;const{autoSaveId:M,onLayout:G,storage:V}=P.current,{layout:F,panelDataArray:K}=O.current;let se=null;if(M){const Ge=Gj(M,K,V);Ge&&(_.current=new Map(Object.entries(Ge.expandToSizes)),se=Ge.layout)}se==null&&(se=Hj({panelDataArray:K}));const Re=Fy({layout:se,panelConstraints:K.map(Ge=>Ge.constraints)});zy(F,Re)||(m(Re),O.current.layout=Re,G&&G(Re),Ns(K,Re,y.current))}}),Gi(()=>{const M=O.current;return()=>{M.layout=[]}},[]);const Q=mt(M=>function(V){V.preventDefault();const F=h.current;if(!F)return()=>null;const{direction:K,dragState:se,id:Re,keyboardResizeBy:Ge,onLayout:dn}=P.current,{layout:Ft,panelDataArray:je}=O.current,{initialLayout:hn}=se??{},Vu=pb(Re,M,F);let sr=Vj(V,M,K,se,Ge,F);const Hu=K==="horizontal";document.dir==="rtl"&&Hu&&(sr=-sr);const bi=je.map(Bb=>Bb.constraints),Ia=rl({delta:sr,initialLayout:hn??Ft,panelConstraints:bi,pivotIndices:Vu,prevLayout:Ft,trigger:sb(V)?"keyboard":"mouse-or-touch"}),$g=!wc(Ft,Ia);(ob(V)||ab(V))&&E.current!=sr&&(E.current=sr,!$g&&sr!==0?Hu?i0(M,sr<0?ub:cb):i0(M,sr<0?fb:db):i0(M,0)),$g&&(m(Ia),O.current.layout=Ia,dn&&dn(Ia),Ns(je,Ia,y.current))},[]),U=mt((M,G)=>{const{onLayout:V}=P.current,{layout:F,panelDataArray:K}=O.current,se=K.map(hn=>hn.constraints),{panelSize:Re,pivotIndices:Ge}=wi(K,M,F);ne(Re!=null,`Panel size not found for panel "${M.id}"`);const Ft=Is(K,M)===K.length-1?Re-G:G-Re,je=rl({delta:Ft,initialLayout:F,panelConstraints:se,pivotIndices:Ge,prevLayout:F,trigger:"imperative-api"});wc(F,je)||(m(je),O.current.layout=je,V&&V(je),Ns(K,je,y.current))},[]),te=mt((M,G)=>{const{layout:V,panelDataArray:F}=O.current,{collapsedSize:K=0,collapsible:se}=G,{collapsedSize:Re=0,collapsible:Ge,maxSize:dn=100,minSize:Ft=0}=M.constraints,{panelSize:je}=wi(F,M,V);je!=null&&(se&&Ge&&hr(je,K)?hr(K,Re)||U(M,Re):je<Ft?U(M,Ft):je>dn&&U(M,dn))},[U]),C=mt((M,G)=>{const{direction:V}=P.current,{layout:F}=O.current;if(!h.current)return;const K=Qd(M,h.current);ne(K,`Drag handle element not found for id "${M}"`);const se=gb(V,G);x({dragHandleId:M,dragHandleRect:K.getBoundingClientRect(),initialCursorPosition:se,initialLayout:F})},[]),z=mt(()=>{x(null)},[]),B=mt(M=>{const{panelDataArray:G}=O.current,V=Is(G,M);V>=0&&(G.splice(V,1),delete y.current[M.id],O.current.panelDataArrayChanged=!0,p())},[p]),de=Sj(()=>({collapsePanel:T,direction:r,dragState:v,expandPanel:H,getPanelSize:I,getPanelStyle:ee,groupId:d,isPanelCollapsed:Z,isPanelExpanded:he,reevaluatePanelConstraints:te,registerPanel:j,registerResizeHandle:Q,resizePanel:U,startDragging:C,stopDragging:z,unregisterPanel:B,panelGroupElement:h.current}),[T,v,r,H,I,ee,d,Z,he,te,j,Q,U,C,z,B]),ge={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return xa(Xd.Provider,{value:de},xa(c,{...f,children:t,className:n,id:s,ref:h,style:{...ge,...u},"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":d}))}const S1=tb((e,t)=>xa(bb,{...e,forwardedRef:t}));bb.displayName="PanelGroup";S1.displayName="forwardRef(PanelGroup)";function Is(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function wi(e,t,n){const r=Is(e,t),s=r===e.length-1?[r-1,r]:[r,r+1],o=n[r];return{...t.constraints,panelSize:o,pivotIndices:s}}function qj({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){Wi(()=>{if(e||n==null||r==null)return;const i=Qd(t,r);if(i==null)return;const s=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),n(o);break}case"F6":{o.preventDefault();const a=i.getAttribute("data-panel-group-id");ne(a,`No group element found for id "${a}"`);const l=lu(a,r),u=hb(a,t,r);ne(u!==null,`No resize element found for id "${t}"`);const c=o.shiftKey?u>0?u-1:l.length-1:u+1<l.length?u+1:0;l[c].focus();break}}};return i.addEventListener("keydown",s),()=>{i.removeEventListener("keydown",s)}},[r,e,t,n])}function Vc({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:i,onBlur:s,onDragging:o,onFocus:a,style:l={},tabIndex:u=0,tagName:c="div",...f}){var d,h;const v=vt(null),x=vt({onDragging:o});Wi(()=>{x.current.onDragging=o});const b=nb(Xd);if(b===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:m,groupId:p,registerResizeHandle:y,startDragging:_,stopDragging:E,panelGroupElement:P}=b,O=Eg(i),[T,H]=Go("inactive"),[I,ee]=Go(!1),[Z,he]=Go(null),j=vt({state:T});Gi(()=>{j.current.state=T}),Wi(()=>{if(n)he(null);else{const C=y(O);he(()=>C)}},[n,O,y]);const Q=(d=r==null?void 0:r.coarse)!==null&&d!==void 0?d:15,U=(h=r==null?void 0:r.fine)!==null&&h!==void 0?h:5;return Wi(()=>{if(n||Z==null)return;const C=v.current;return ne(C,"Element ref not attached"),Ij(O,C,m,{coarse:Q,fine:U},(B,de,ge)=>{if(de)switch(B){case"down":{H("drag"),ne(ge,'Expected event to be defined for "down" action'),_(O,ge);const{onDragging:M}=x.current;M&&M(!0);break}case"move":{const{state:M}=j.current;M!=="drag"&&H("hover"),ne(ge,'Expected event to be defined for "move" action'),Z(ge);break}case"up":{H("hover"),E();const{onDragging:M}=x.current;M&&M(!1);break}}else H("inactive")})},[Q,m,n,U,y,O,Z,_,E]),qj({disabled:n,handleId:O,resizeHandler:Z,panelGroupElement:P}),xa(c,{...f,children:e,className:t,id:i,onBlur:()=>{ee(!1),s==null||s()},onFocus:()=>{ee(!0),a==null||a()},ref:v,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...l},tabIndex:u,"data-panel-group-direction":m,"data-panel-group-id":p,"data-resize-handle":"","data-resize-handle-active":T==="drag"?"pointer":I?"keyboard":void 0,"data-resize-handle-state":T,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":O})}Vc.displayName="PanelResizeHandle";const Jd=(e,t)=>e instanceof t?e:null,Pi=class Pi extends J{constructor(t){super(),this.measure=t}static actionForState(t){var r;const n=(r=t.selection.measure)==null?void 0:r.measure;return n?new Pi(n):null}static actionForContextMenu(t){const n=Jd(t.state.contextMenuSubject,Mu);return n?new Pi(n):null}apply(t){t.state.showModalFor(this.measure,"staffDetails.time")}};g(Pi,"name","Edit time signature"),g(Pi,"when","editorFocused && !isPlaying"),g(Pi,"defaultKeyBinding",null);let E1=Pi;const Ci=class Ci extends J{constructor(n,r){super();g(this,"index",-1);this.score=n,this.part=r,this.index=n.parts.indexOf(r)}static actionForState(n){var s,o;const r=(s=n.selection.score)==null?void 0:s.score,i=(o=n.selection.part)==null?void 0:o.part;return r&&i?new Ci(r,i):null}static actionForContextMenu(n){var s;const r=(s=n.selection.score)==null?void 0:s.score,i=Jd(n.state.contextMenuSubject,Dd);return r&&i?new Ci(r,i):null}apply(n){this.score.removePart(this.part)}undo(n){this.score.addPart(this.part,this.index)}};g(Ci,"name","Remove part"),g(Ci,"when","editorFocused"),g(Ci,"defaultKeyBinding",null);let O1=Ci;var wb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vy=Xn.createContext&&Xn.createContext(wb),Qj=["attr","size","title"];function Jj(e,t){if(e==null)return{};var n=Zj(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zj(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wf.apply(this,arguments)}function Hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hy(Object(n),!0).forEach(function(r){eI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eI(e,t,n){return t=tI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tI(e){var t=nI(e,"string");return typeof t=="symbol"?t:t+""}function nI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _b(e){return e&&e.map((t,n)=>Xn.createElement(t.tag,Gf({key:n},t.attr),_b(t.child)))}function fn(e){return t=>Xn.createElement(rI,Wf({attr:Gf({},e.attr)},t),_b(e.child))}function rI(e){var t=n=>{var{attr:r,size:i,title:s}=e,o=Jj(e,Qj),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Xn.createElement("svg",Wf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Gf(Gf({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Xn.createElement("title",null,s),e.children)};return Vy!==void 0?Xn.createElement(Vy.Consumer,null,n=>t(n)):t(wb)}function iI(e){return fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M19.952 1.651a.75.75 0 0 1 .298.599V16.303a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.403-4.909l2.311-.66a1.5 1.5 0 0 0 1.088-1.442V6.994l-9 2.572v9.737a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.402-4.909l2.31-.66a1.5 1.5 0 0 0 1.088-1.442V5.25a.75.75 0 0 1 .544-.721l10.5-3a.75.75 0 0 1 .658.122Z",clipRule:"evenodd"},child:[]}]})(e)}function sI(e){return fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 4.5h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z",clipRule:"evenodd"},child:[]}]})(e)}function oI(e){return fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm14.024-.983a1.125 1.125 0 0 1 0 1.966l-5.603 3.113A1.125 1.125 0 0 1 9 15.113V8.887c0-.857.921-1.4 1.671-.983l5.603 3.113Z",clipRule:"evenodd"},child:[]}]})(e)}function aI(e){return fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"},child:[]}]})(e)}function lI(e){return fn({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"},child:[]}]})(e)}function uI(e){return fn({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"},child:[]}]})(e)}function cI(e){return fn({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"},child:[]}]})(e)}function fI(e){return fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m111 58.3-87.37.4-.61 8.3L192.4 92.6l1.8-8.1zm310.8 18.8-.3 29.7 5-.8 4.9.8-.3-29.7zM96.33 92.8l-1.81 13-33.17 26.4 1.84 115.6 6.16-40.4 9.55-2.3h.28l-1.03-65 31.95-25.4 2.7-19.4zm330.17 25.9-66.6 10.4.6 8.3h132l.6-8.3zm-66 33.3-.6 8.3 66.6 10.4 66.6-10.4-.6-8.3zm60.3 30.5-.2 20.8c2.8.5 5.6 1.2 8.5 1.8l3.3.8-.2-23.4-5.7.9zm-287.4 30.7c-16.5-.2-33.5 1.9-51.1 6.1l-2.86 18.8c23.26-3.3 75.96-6.9 127.56 14.6 4-1.6 8.2-3.1 12.4-4.3l1.2-8c-26.6-18.2-55.8-26.8-87.2-27.2zm241.2 0c-31.4.4-60.6 9-87.2 27.2l1.2 8c4.2 1.2 8.4 2.7 12.4 4.3 51.6-21.5 104.3-17.9 127.6-14.6l-2.9-18.8c-17.6-4.2-34.6-6.3-51.1-6.1zm-258.1 39c-17.91 0-32.1 1.8-39.69 3.1l-7.05 46.3 72.94 11.1c10.1-20.3 25.5-37.5 44.5-49.6-25.4-8.5-50.4-10.9-70.7-10.9zm275 0c-20.3 0-45.3 2.4-70.7 10.9 19 12.1 34.4 29.3 44.5 49.6l72.9-11.1-7-46.3c-7.6-1.3-21.8-3.1-39.7-3.1zm-137.5 10c-49.9 0-90.4 40.5-90.4 90.4 0 49.9 40.5 90.4 90.4 90.4 49.9 0 90.4-40.5 90.4-90.4 0-49.9-40.5-90.4-90.4-90.4zM64.27 315.5l1.36 85.5-46.73 87h18.94l33.24-62 15.19 62h17.23l-21.19-86-1.33-84zM433.6 317l-14.2 2.2-.8 74.1-24.2 55.7 7.4 25 24.7-57 30.9 71h18.2l-41.2-94.7zm-279.7 11.6c-4.7 12.1-7.2 25.2-7.2 38.9C146.7 427 194.8 475 254 475c59.2 0 107.3-48 107.3-107.5 0-13.7-2.5-26.8-7.2-38.9 1.8 7.7 2.8 15.8 2.8 24C356.9 409 310.8 456 254 456c-56.8 0-102.9-47-102.9-103.4 0-8.2 1-16.3 2.8-24zm-18 77.4-20.2 82h25.7l11.8-48c-7.4-11-13.3-22-17.3-34zm236.2 0c-4 12-9.9 23-17.3 34l11.8 48h25.7z"},child:[]}]})(e)}function dI(e){return fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m376.3 30.6-63.3 3L61.43 230.9l261.47-51.5c5.8-4.6 10.9-9 15.4-13.1L302 75.6l15.5-6.2 33.7 84.2c55.1-60.2-20.4-71.1 25.1-123zM357 168l-13.2 11.9 9.6 24.1c-9.1-.4-19.2-.6-30.5-.7L61.43 254.9s.34 2.2.84 5.5c2.36 15.5-7.73 30.2-23.07 33.6-8.93 2-16.61 3.7-16.61 3.7l3.95 21.2 334.16 30.5 126-53.9-.9-43.4c-81.1-8.7-11.4-39.4-114-47L357 168zM83.78 284.8 358.4 307l-18.1 16.1-280.68-25.9 24.16-12.4zm-1.35 53.6 13.65 97.1-3.47 6.2.36 15.8 17.13 1.6 17.1-6.2v-13.2l-4.8-3.9 9.1-93-49.07-4.4zM184 350.5V426l105.2 9v-75.2l-16.7-1.5V417l-71.8-6v-59l-16.7-1.5zm209.8 2.7-29.4 10.9-24.8-2 15.6 99.4-3.9 5.1.8 18 17.1 1.7 15.9-7.4.3-13.2-3.9-3.9 12.3-108.6zm-208.7 89.6-28.4 9.5 3.1 14.4 102.3 10.1 21-7.4 1.1-18.3-99.1-8.3z"},child:[]}]})(e)}function hI(e){return fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M228.2 26.89c-15.2-.25-27.7 33.46-12.3 39.8l8.9 3.61 17.8-15.5-1.8-23.5-8.7-3.6c-1.1-.43-2.1-.68-3.2-.78h-.7zm134.4 7.92h-2.3c-7.4.3-15.3 2.12-23.3 5.75-21.2 9.67-43.6 32.67-59.7 75.74L174.4 394.7l-.1.2v.2c.9.5 3.6 1.9 8 4 9.8 4.8 24 15.7 26.1 38.8v.5l-1 55.6H304c-.1-17.6 1.4-34.5 8.1-51.5 11.7-29.4 39.3-54.9 97-77 0-.2 0 0 .1-.4.3-2 .4-6 0-11-1-10.1-4-24.9-8.6-42.2-9.2-34.7-24.8-80.2-42.4-124.9l-2.4-6.2 5.2-4.2c36.1-28.2 51.1-56.4 53.8-79.56 2.7-23.06-6.5-41.48-21.3-52.25-8.7-6.31-19.3-9.99-30.9-10.02zM260.5 52.44l.7 10.01-7.6 6.6 21.7 8.93c1.2-2.17 2.5-4.28 3.8-6.33l4-9.89zm69 18.56c8.8 0 16 7.16 16 16s-7.2 16-16 16-16-7.16-16-16 7.2-16 16-16zm-136.7 49.7c-15.2-.3-27.9 33.4-12.3 39.8l8.8 3.6 17.8-15.5-1.7-23.6-8.8-3.6c-1.1-.4-2.1-.6-3.1-.7zm32.2 25.5l.7 10-7.6 6.6 19.9 8.1 6.2-16.8zm71.6 19.8c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm-139.8 50.6c-15.3-.3-27.8 33.4-12.4 39.8l8.9 3.6 17.8-15.5-1.8-23.6-8.7-3.6c-1.1-.4-2.1-.6-3.1-.7zm32.2 25.5l.7 10-7.6 6.6 20.4 8.3 6.2-16.8zm67.2 19.3c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm-140.1 54.4c-15.2-.3-27.78 33.4-12.3 39.8l8.8 3.6 17.8-15.5-1.8-23.6-8.7-3.6c-1.1-.4-2.1-.6-3.1-.7zm32.2 25.5l.7 10-7.6 6.6 22.8 9.3 6.8-16.6zm69.3 18.5c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16z"},child:[]}]})(e)}function pI(e){return fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M152.6 26.32L137.2 441.9 256 486.4l118.8-44.5-15.4-415.58L256 41.09 152.6 26.32zM64 89c-36 0-36 78 0 78h9.51l13-39-13-39H64zm374.5 0l-13 39 13 39h9.5c36 0 36-78 0-78h-9.5zM192 112a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm128 0a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm-217.6 7l2.1 6.2 1 2.8-3 9h28l.7-18h-28.8zm278.4 0l.7 18h28.1l-2.1-6.2-1-2.8 3-9h-28.7zM60 217c-36 0-36 78 0 78h9.51l13-39-13-39H60zm382.5 0l-13 39 13 39h9.5c36 0 36-78 0-78h-9.5zM192 240a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm128 0a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm-221.56 7l2.06 6.2 1 2.8-3 9h27.3l.7-18H98.44zm287.06 0l.7 18h27.4l-2.1-6.2-1-2.8 3-9h-28zM56 345c-36 0-36 78 0 78h9.51l13-39-13-39H56zm390.5 0l-13 39 13 39h9.5c36 0 36-78 0-78h-9.5zM192 368a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm128 0a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm-225.53 7l2.07 6.2.95 2.8-3 9h26.61l.6-18H94.47zm295.83 0l.6 18h26.7l-2.1-6.2-1-2.8 3-9h-27.2z"},child:[]}]})(e)}function mI(e){return fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M98.05 18.54c-11.46-.08-23.59 1.28-36.08 3.99L130.1 261.1c-14.2-5.1-31.18-6.2-48.09-3.2-39.17 6.9-67.15 33.8-62.52 59.8 4.64 26.1 40.14 41.7 79.33 34.7 39.08-6.9 67.08-33.7 62.38-59.8-22.1-80.8-44.4-163-66.39-244.21 50.69 3.59 72.59 31.58 90.59 60.31-.5-62.33-37.7-89.81-87.35-90.16zm310.65 30.7c-13.9.1-28.8 2.59-44.1 7.22l87.1 232.44c-14.6-3.9-31.6-3.7-48.3.7-38.4 10-64.2 39-57.5 64.6 6.7 25.7 43.4 38.3 81.8 28.2 38.5-10 64.2-39 57.5-64.6-28.6-78.8-57.3-158.9-85.8-238.2 50.8-.5 74.9 25.7 95.2 52.9-5.2-58.55-40.4-83.61-85.9-83.26zM258.4 163.5l1.8 248.1c-12.3-8.6-28.4-14.3-45.6-15.9-39.4-3.8-73.7 14.5-76.2 41-2.5 26.3 27.7 50.8 67.1 54.5 39.7 3.9 73.7-14.5 76.3-40.9.2-83.8.8-168.9 1.3-253.1 47.9 17 61.6 49.8 71.2 82.4 19.9-74.1-27.9-112.3-95.9-116.1z"},child:[]}]})(e)}const gI=hI,vI=fI,yI=pI,xI=iI,bI=cI,wI=sI,_I=dI,SI=aI,EI=oI,OI=uI,AI=lI,PI=mI,Sb=()=>w.jsxs(Yx,{children:[w.jsx(s0,{delayMS:100}),w.jsx(s0,{delayMS:200}),w.jsx(s0,{delayMS:300})]}),s0=e=>w.jsx("div",{className:"inline-block -translate-y-1/4 animate-bounce",style:{animationDelay:`${e.delayMS}ms`},children:"."}),CI=e=>{const t=me();return w.jsx("div",{...e,className:jn(e.className,"min-w-48 rounded bg-gray-950 p-1 text-gray-300 outline-none"),children:A.Children.map(e.children,n=>{var i;if(A.isValidElement(n))return n;const r=(i=n.actionForContextMenu)==null?void 0:i.bind(n);return r?w.jsx(TI,{onMouseDown:()=>{t.dispatch(r(t)),t.state.hideContextMenu()},children:n.name},n.name):null})})},TI=e=>w.jsx("div",{...e,onMouseDown:t=>{var n;t.stopPropagation(),(n=e.onMouseDown)==null||n.call(e,t)},className:jn(e.className,"text-shadow-sm flex w-full cursor-pointer gap-2 rounded bg-gray-950 py-1 pl-6 shadow-black hover:bg-blue-700")}),kI=e=>{const[t,n]=A.useState(-1),[r,i]=A.useState(-1),s=o=>{o.preventDefault(),o.stopPropagation(),e.onHideMenu()};return w.jsx("div",{...e,className:jn(t==-1||r==-1?"invisible":"visible","z-top absolute bottom-0 left-0 right-0 top-0",e.className),onMouseDown:s,onContextMenu:o=>o.preventDefault(),children:w.jsx("div",{ref:o=>{if(!o)return;const a=e.offsetX??0,l=e.offsetY??0,u=o.getBoundingClientRect();a+u.width>window.innerWidth?n(a-u.width):n(a),l+u.height>window.innerHeight?i(l-u.height):i(l)},className:"relative w-fit",style:{left:t,top:r},children:e.children})})};function Zd(){return typeof window<"u"}function ja(e){return Eb(e)?(e.nodeName||"").toLowerCase():"#document"}function Rt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $r(e){var t;return(t=(Eb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Eb(e){return Zd()?e instanceof Node||e instanceof Rt(e).Node:!1}function De(e){return Zd()?e instanceof Element||e instanceof Rt(e).Element:!1}function In(e){return Zd()?e instanceof HTMLElement||e instanceof Rt(e).HTMLElement:!1}function A1(e){return!Zd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Rt(e).ShadowRoot}function Bu(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=cn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function NI(e){return["table","td","th"].includes(ja(e))}function eh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Cg(e){const t=Tg(),n=De(e)?cn(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $I(e){let t=Pr(e);for(;In(t)&&!ci(t);){if(Cg(t))return t;if(eh(t))return null;t=Pr(t)}return null}function Tg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ci(e){return["html","body","#document"].includes(ja(e))}function cn(e){return Rt(e).getComputedStyle(e)}function th(e){return De(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pr(e){if(ja(e)==="html")return e;const t=e.assignedSlot||e.parentNode||A1(e)&&e.host||$r(e);return A1(t)?t.host:t}function Ob(e){const t=Pr(e);return ci(t)?e.ownerDocument?e.ownerDocument.body:e.body:In(t)&&Bu(t)?t:Ob(t)}function Yo(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Ob(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=Rt(i);if(s){const a=P1(o);return t.concat(o,o.visualViewport||[],Bu(i)?i:[],a&&n?Yo(a):[])}return t.concat(i,Yo(i,[],n))}function P1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ky(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&A1(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function MI(e){return"nativeEvent"in e}function RI(e){return e.matches("html,body")}function Wy(e){return(e==null?void 0:e.ownerDocument)||document}function o0(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Ya(e){return"composedPath"in e?e.composedPath()[0]:e.target}const jI=["top","right","bottom","left"],uu=Math.min,qo=Math.max,Xf=Math.round,fi=e=>({x:e,y:e}),II={left:"right",right:"left",bottom:"top",top:"bottom"},LI={start:"end",end:"start"};function DI(e,t,n){return qo(e,uu(t,n))}function Fu(e,t){return typeof e=="function"?e(t):e}function ba(e){return e.split("-")[0]}function Uu(e){return e.split("-")[1]}function zI(e){return e==="x"?"y":"x"}function kg(e){return e==="y"?"height":"width"}function cu(e){return["top","bottom"].includes(ba(e))?"y":"x"}function Ng(e){return zI(cu(e))}function BI(e,t,n){n===void 0&&(n=!1);const r=Uu(e),i=Ng(e),s=kg(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Yf(o)),[o,Yf(o)]}function FI(e){const t=Yf(e);return[C1(e),t,C1(t)]}function C1(e){return e.replace(/start|end/g,t=>LI[t])}function UI(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function VI(e,t,n,r){const i=Uu(e);let s=UI(ba(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(C1)))),s}function Yf(e){return e.replace(/left|right|bottom|top/g,t=>II[t])}function HI(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ab(e){return typeof e!="number"?HI(e):{top:e,right:e,bottom:e,left:e}}function qf(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Gy(e,t,n){let{reference:r,floating:i}=e;const s=cu(t),o=Ng(t),a=kg(o),l=ba(t),u=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Uu(t)){case"start":h[o]-=d*(n&&u?-1:1);break;case"end":h[o]+=d*(n&&u?-1:1);break}return h}const KI=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=Gy(u,r,l),d=r,h={},v=0;for(let x=0;x<a.length;x++){const{name:b,fn:m}=a[x],{x:p,y,data:_,reset:E}=await m({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});c=p??c,f=y??f,h={...h,[b]:{...h[b],..._}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(d=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:c,y:f}=Gy(u,d,l)),x=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function T1(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Fu(t,e),v=Ab(h),b=a[d?f==="floating"?"reference":"floating":f],m=qf(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),p=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),_=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},E=qf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:p,offsetParent:y,strategy:l}):p);return{top:(m.top-E.top+v.top)/_.y,bottom:(E.bottom-m.bottom+v.bottom)/_.y,left:(m.left-E.left+v.left)/_.x,right:(E.right-m.right+v.right)/_.x}}const WI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=Fu(e,t)||{};if(u==null)return{};const f=Ab(c),d={x:n,y:r},h=Ng(i),v=kg(h),x=await o.getDimensions(u),b=h==="y",m=b?"top":"left",p=b?"bottom":"right",y=b?"clientHeight":"clientWidth",_=s.reference[v]+s.reference[h]-d[h]-s.floating[v],E=d[h]-s.reference[h],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=P?P[y]:0;(!O||!await(o.isElement==null?void 0:o.isElement(P)))&&(O=a.floating[y]||s.floating[v]);const T=_/2-E/2,H=O/2-x[v]/2-1,I=uu(f[m],H),ee=uu(f[p],H),Z=I,he=O-x[v]-ee,j=O/2-x[v]/2+T,Q=DI(Z,j,he),U=!l.arrow&&Uu(i)!=null&&j!==Q&&s.reference[v]/2-(j<Z?I:ee)-x[v]/2<0,te=U?j<Z?j-Z:j-he:0;return{[h]:d[h]+te,data:{[h]:Q,centerOffset:j-Q-te,...U&&{alignmentOffset:te}},reset:U}}}),GI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...b}=Fu(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=ba(i),p=cu(a),y=ba(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=d||(y||!x?[Yf(a)]:FI(a)),P=v!=="none";!d&&P&&E.push(...VI(a,x,v,_));const O=[a,...E],T=await T1(t,b),H=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&H.push(T[m]),f){const j=BI(i,o,_);H.push(T[j[0]],T[j[1]])}if(I=[...I,{placement:i,overflows:H}],!H.every(j=>j<=0)){var ee,Z;const j=(((ee=s.flip)==null?void 0:ee.index)||0)+1,Q=O[j];if(Q)return{data:{index:j,overflows:I},reset:{placement:Q}};let U=(Z=I.filter(te=>te.overflows[0]<=0).sort((te,C)=>te.overflows[1]-C.overflows[1])[0])==null?void 0:Z.placement;if(!U)switch(h){case"bestFit":{var he;const te=(he=I.filter(C=>{if(P){const z=cu(C.placement);return z===p||z==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(z=>z>0).reduce((z,B)=>z+B,0)]).sort((C,z)=>C[1]-z[1])[0])==null?void 0:he[0];te&&(U=te);break}case"initialPlacement":U=a;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function Xy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Yy(e){return jI.some(t=>e[t]>=0)}const XI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Fu(e,t);switch(r){case"referenceHidden":{const s=await T1(t,{...i,elementContext:"reference"}),o=Xy(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Yy(o)}}}case"escaped":{const s=await T1(t,{...i,altBoundary:!0}),o=Xy(s,n.floating);return{data:{escapedOffsets:o,escaped:Yy(o)}}}default:return{}}}}};async function YI(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ba(n),a=Uu(n),l=cu(n)==="y",u=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,f=Fu(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(h=a==="end"?v*-1:v),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const qI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await YI(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function Pb(e){const t=cn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=In(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=Xf(n)!==s||Xf(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Cb(e){return De(e)?e:e.contextElement}function Qo(e){const t=Cb(e);if(!In(t))return fi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=Pb(t);let o=(s?Xf(n.width):n.width)/r,a=(s?Xf(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const QI=fi(0);function Tb(e){const t=Rt(e);return!Tg()||!t.visualViewport?QI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function JI(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Rt(e)?!1:t}function fu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=Cb(e);let o=fi(1);t&&(r?De(r)&&(o=Qo(r)):o=Qo(e));const a=JI(s,n,r)?Tb(s):fi(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const d=Rt(s),h=r&&De(r)?Rt(r):r;let v=d,x=P1(v);for(;x&&r&&h!==v;){const b=Qo(x),m=x.getBoundingClientRect(),p=cn(x),y=m.left+(x.clientLeft+parseFloat(p.paddingLeft))*b.x,_=m.top+(x.clientTop+parseFloat(p.paddingTop))*b.y;l*=b.x,u*=b.y,c*=b.x,f*=b.y,l+=y,u+=_,v=Rt(x),x=P1(v)}}return qf({width:c,height:f,x:l,y:u})}function ZI(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=$r(r),a=t?eh(t.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=fi(1);const c=fi(0),f=In(r);if((f||!f&&!s)&&((ja(r)!=="body"||Bu(o))&&(l=th(r)),In(r))){const d=fu(r);u=Qo(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x,y:n.y*u.y-l.scrollTop*u.y+c.y}}function eL(e){return Array.from(e.getClientRects())}function k1(e,t){const n=th(e).scrollLeft;return t?t.left+n:fu($r(e)).left+n}function tL(e){const t=$r(e),n=th(e),r=e.ownerDocument.body,i=qo(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=qo(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+k1(e);const a=-n.scrollTop;return cn(r).direction==="rtl"&&(o+=qo(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function nL(e,t){const n=Rt(e),r=$r(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=Tg();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function rL(e,t){const n=fu(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=In(e)?Qo(e):fi(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function qy(e,t,n){let r;if(t==="viewport")r=nL(e,n);else if(t==="document")r=tL($r(e));else if(De(t))r=rL(t,n);else{const i=Tb(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return qf(r)}function kb(e,t){const n=Pr(e);return n===t||!De(n)||ci(n)?!1:cn(n).position==="fixed"||kb(n,t)}function iL(e,t){const n=t.get(e);if(n)return n;let r=Yo(e,[],!1).filter(a=>De(a)&&ja(a)!=="body"),i=null;const s=cn(e).position==="fixed";let o=s?Pr(e):e;for(;De(o)&&!ci(o);){const a=cn(o),l=Cg(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Bu(o)&&!l&&kb(e,o))?r=r.filter(c=>c!==o):i=a,o=Pr(o)}return t.set(e,r),r}function sL(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?eh(t)?[]:iL(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const f=qy(t,c,i);return u.top=qo(f.top,u.top),u.right=uu(f.right,u.right),u.bottom=uu(f.bottom,u.bottom),u.left=qo(f.left,u.left),u},qy(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function oL(e){const{width:t,height:n}=Pb(e);return{width:t,height:n}}function aL(e,t,n){const r=In(t),i=$r(t),s=n==="fixed",o=fu(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=fi(0);if(r||!r&&!s)if((ja(t)!=="body"||Bu(i))&&(a=th(t)),r){const h=fu(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=k1(i));let u=0,c=0;if(i&&!r&&!s){const h=i.getBoundingClientRect();c=h.top+a.scrollTop,u=h.left+a.scrollLeft-k1(i,h)}const f=o.left+a.scrollLeft-l.x-u,d=o.top+a.scrollTop-l.y-c;return{x:f,y:d,width:o.width,height:o.height}}function a0(e){return cn(e).position==="static"}function Qy(e,t){if(!In(e)||cn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return $r(e)===n&&(n=n.ownerDocument.body),n}function Nb(e,t){const n=Rt(e);if(eh(e))return n;if(!In(e)){let i=Pr(e);for(;i&&!ci(i);){if(De(i)&&!a0(i))return i;i=Pr(i)}return n}let r=Qy(e,t);for(;r&&NI(r)&&a0(r);)r=Qy(r,t);return r&&ci(r)&&a0(r)&&!Cg(r)?n:r||$I(e)||n}const lL=async function(e){const t=this.getOffsetParent||Nb,n=this.getDimensions,r=await n(e.floating);return{reference:aL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function uL(e){return cn(e).direction==="rtl"}const cL={convertOffsetParentRelativeRectToViewportRelativeRect:ZI,getDocumentElement:$r,getClippingRect:sL,getOffsetParent:Nb,getElementRects:lL,getClientRects:eL,getDimensions:oL,getScale:Qo,isElement:De,isRTL:uL},fL=qI,dL=GI,hL=XI,Jy=WI,$b=(e,t,n)=>{const r=new Map,i={platform:cL,...n},s={...i.platform,_c:r};return KI(e,t,{...i,platform:s})};var Hc=typeof document<"u"?A.useLayoutEffect:A.useEffect;function Qf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Qf(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Qf(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Mb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Zy(e,t){const n=Mb(e);return Math.round(t*n)/n}function l0(e){const t=A.useRef(e);return Hc(()=>{t.current=e}),t}function pL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,f]=A.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=A.useState(r);Qf(d,r)||h(r);const[v,x]=A.useState(null),[b,m]=A.useState(null),p=A.useCallback(C=>{C!==P.current&&(P.current=C,x(C))},[]),y=A.useCallback(C=>{C!==O.current&&(O.current=C,m(C))},[]),_=s||v,E=o||b,P=A.useRef(null),O=A.useRef(null),T=A.useRef(c),H=l!=null,I=l0(l),ee=l0(i),Z=l0(u),he=A.useCallback(()=>{if(!P.current||!O.current)return;const C={placement:t,strategy:n,middleware:d};ee.current&&(C.platform=ee.current),$b(P.current,O.current,C).then(z=>{const B={...z,isPositioned:Z.current!==!1};j.current&&!Qf(T.current,B)&&(T.current=B,Pm.flushSync(()=>{f(B)}))})},[d,t,n,ee,Z]);Hc(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[u]);const j=A.useRef(!1);Hc(()=>(j.current=!0,()=>{j.current=!1}),[]),Hc(()=>{if(_&&(P.current=_),E&&(O.current=E),_&&E){if(I.current)return I.current(_,E,he);he()}},[_,E,he,I,H]);const Q=A.useMemo(()=>({reference:P,floating:O,setReference:p,setFloating:y}),[p,y]),U=A.useMemo(()=>({reference:_,floating:E}),[_,E]),te=A.useMemo(()=>{const C={position:n,left:0,top:0};if(!U.floating)return C;const z=Zy(U.floating,c.x),B=Zy(U.floating,c.y);return a?{...C,transform:"translate("+z+"px, "+B+"px)",...Mb(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:B}},[n,a,U.floating,c.x,c.y]);return A.useMemo(()=>({...c,update:he,refs:Q,elements:U,floatingStyles:te}),[c,he,Q,U,te])}const mL=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Jy({element:r.current,padding:i}).fn(n):{}:r?Jy({element:r,padding:i}).fn(n):{}}}},gL=(e,t)=>({...fL(e),options:[e,t]}),vL=(e,t)=>({...dL(e),options:[e,t]}),yL=(e,t)=>({...hL(e),options:[e,t]}),xL=(e,t)=>({...mL(e),options:[e,t]}),Rb={...td},bL=Rb.useInsertionEffect,wL=bL||(e=>e());function Ls(e){const t=A.useRef(()=>{});return wL(()=>{t.current=e}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var N1=typeof document<"u"?A.useLayoutEffect:A.useEffect;let e3=!1,_L=0;const t3=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+_L++;function SL(){const[e,t]=A.useState(()=>e3?t3():void 0);return N1(()=>{e==null&&t(t3())},[]),A.useEffect(()=>{e3=!0},[]),e}const EL=Rb.useId,jb=EL||SL;function OL(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const AL=A.createContext(null),PL=A.createContext(null),Ib=()=>{var e;return((e=A.useContext(AL))==null?void 0:e.id)||null},Lb=()=>A.useContext(PL);function CL(e){return"data-floating-ui-"+e}function u0(e,t){let n=e.filter(i=>{var s;return i.parentId===t&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=e.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const TL="data-floating-ui-focusable",kL={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},NL={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},n3=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function $L(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=e,{enabled:o=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:c=!1,referencePressEvent:f="pointerdown",ancestorScroll:d=!1,bubbles:h,capture:v}=t,x=Lb(),b=Ls(typeof l=="function"?l:()=>!1),m=typeof l=="function"?b:l,p=A.useRef(!1),y=A.useRef(!1),{escapeKey:_,outsidePress:E}=n3(h),{escapeKey:P,outsidePress:O}=n3(v),T=Ls(j=>{var Q;if(!n||!o||!a||j.key!=="Escape")return;const U=(Q=s.current.floatingContext)==null?void 0:Q.nodeId,te=x?u0(x.nodesRef.current,U):[];if(!_&&(j.stopPropagation(),te.length>0)){let C=!0;if(te.forEach(z=>{var B;if((B=z.context)!=null&&B.open&&!z.context.dataRef.current.__escapeKeyBubbles){C=!1;return}}),!C)return}r(!1,MI(j)?j.nativeEvent:j,"escape-key")}),H=Ls(j=>{var Q;const U=()=>{var te;T(j),(te=Ya(j))==null||te.removeEventListener("keydown",U)};(Q=Ya(j))==null||Q.addEventListener("keydown",U)}),I=Ls(j=>{var Q;const U=p.current;p.current=!1;const te=y.current;if(y.current=!1,u==="click"&&te||U||typeof m=="function"&&!m(j))return;const C=Ya(j),z="["+CL("inert")+"]",B=Wy(i.floating).querySelectorAll(z);let de=De(C)?C:null;for(;de&&!ci(de);){const V=Pr(de);if(ci(V)||!De(V))break;de=V}if(B.length&&De(C)&&!RI(C)&&!Ky(C,i.floating)&&Array.from(B).every(V=>!Ky(de,V)))return;if(In(C)&&he){const V=C.clientWidth>0&&C.scrollWidth>C.clientWidth,F=C.clientHeight>0&&C.scrollHeight>C.clientHeight;let K=F&&j.offsetX>C.clientWidth;if(F&&cn(C).direction==="rtl"&&(K=j.offsetX<=C.offsetWidth-C.clientWidth),K||V&&j.offsetY>C.clientHeight)return}const ge=(Q=s.current.floatingContext)==null?void 0:Q.nodeId,M=x&&u0(x.nodesRef.current,ge).some(V=>{var F;return o0(j,(F=V.context)==null?void 0:F.elements.floating)});if(o0(j,i.floating)||o0(j,i.domReference)||M)return;const G=x?u0(x.nodesRef.current,ge):[];if(G.length>0){let V=!0;if(G.forEach(F=>{var K;if((K=F.context)!=null&&K.open&&!F.context.dataRef.current.__outsidePressBubbles){V=!1;return}}),!V)return}r(!1,j,"outside-press")}),ee=Ls(j=>{var Q;const U=()=>{var te;I(j),(te=Ya(j))==null||te.removeEventListener(u,U)};(Q=Ya(j))==null||Q.addEventListener(u,U)});A.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=_,s.current.__outsidePressBubbles=E;function j(te){r(!1,te,"ancestor-scroll")}const Q=Wy(i.floating);a&&Q.addEventListener("keydown",P?H:T,P),m&&Q.addEventListener(u,O?ee:I,O);let U=[];return d&&(De(i.domReference)&&(U=Yo(i.domReference)),De(i.floating)&&(U=U.concat(Yo(i.floating))),!De(i.reference)&&i.reference&&i.reference.contextElement&&(U=U.concat(Yo(i.reference.contextElement)))),U=U.filter(te=>{var C;return te!==((C=Q.defaultView)==null?void 0:C.visualViewport)}),U.forEach(te=>{te.addEventListener("scroll",j,{passive:!0})}),()=>{a&&Q.removeEventListener("keydown",P?H:T,P),m&&Q.removeEventListener(u,O?ee:I,O),U.forEach(te=>{te.removeEventListener("scroll",j)})}},[s,i,a,m,u,n,r,d,o,_,E,T,P,H,I,O,ee]),A.useEffect(()=>{p.current=!1},[m,u]);const Z=A.useMemo(()=>({onKeyDown:T,[kL[f]]:j=>{c&&r(!1,j.nativeEvent,"reference-press")}}),[T,r,c,f]),he=A.useMemo(()=>({onKeyDown:T,onMouseDown(){y.current=!0},onMouseUp(){y.current=!0},[NL[u]]:()=>{p.current=!0}}),[T,u]);return A.useMemo(()=>o?{reference:Z,floating:he}:{},[o,Z,he])}function ML(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=jb(),s=A.useRef({}),[o]=A.useState(()=>OL()),a=Ib()!=null,[l,u]=A.useState(r.reference),c=Ls((h,v,x)=>{s.current.openEvent=h?v:void 0,o.emit("openchange",{open:h,event:v,reason:x,nested:a}),n==null||n(h,v,x)}),f=A.useMemo(()=>({setPositionReference:u}),[]),d=A.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return A.useMemo(()=>({dataRef:s,open:t,onOpenChange:c,elements:d,events:o,floatingId:i,refs:f}),[t,c,d,o,i,f])}function RL(e){e===void 0&&(e={});const{nodeId:t}=e,n=ML({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[s,o]=A.useState(null),[a,l]=A.useState(null),c=(i==null?void 0:i.reference)||s,f=A.useRef(null),d=Lb();N1(()=>{c&&(f.current=c)},[c]);const h=pL({...e,elements:{...i,...a&&{reference:a}}}),v=A.useCallback(y=>{const _=De(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;l(_),h.refs.setReference(_)},[h.refs]),x=A.useCallback(y=>{(De(y)||y===null)&&(f.current=y,o(y)),(De(h.refs.reference.current)||h.refs.reference.current===null||y!==null&&!De(y))&&h.refs.setReference(y)},[h.refs]),b=A.useMemo(()=>({...h.refs,setReference:x,setPositionReference:v,domReference:f}),[h.refs,x,v]),m=A.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),p=A.useMemo(()=>({...h,...r,refs:b,elements:m,nodeId:t}),[h,b,m,t,r]);return N1(()=>{r.dataRef.current.floatingContext=p;const y=d==null?void 0:d.nodesRef.current.find(_=>_.id===t);y&&(y.context=p)}),A.useMemo(()=>({...h,context:p,refs:b,elements:m}),[h,b,m,p])}const r3="active",i3="selected";function c0(e,t,n){const r=new Map,i=n==="item";let s=e;if(i&&e){const{[r3]:o,[i3]:a,...l}=e;s=l}return{...n==="floating"&&{tabIndex:-1,[TL]:""},...s,...t.map(o=>{const a=o?o[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[u,c]=l;if(!(i&&[r3,i3].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof c=="function"){var f;(f=r.get(u))==null||f.push(c),o[u]=function(){for(var d,h=arguments.length,v=new Array(h),x=0;x<h;x++)v[x]=arguments[x];return(d=r.get(u))==null?void 0:d.map(b=>b(...v)).find(b=>b!==void 0)}}}else o[u]=c}),o),{})}}function jL(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),i=A.useCallback(a=>c0(a,e,"reference"),t),s=A.useCallback(a=>c0(a,e,"floating"),n),o=A.useCallback(a=>c0(a,e,"item"),r);return A.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}const IL=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function LL(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:i}=e,{enabled:s=!0,role:o="dialog"}=t,a=(n=IL.get(o))!=null?n:o,l=jb(),c=Ib()!=null,f=A.useMemo(()=>a==="tooltip"||o==="label"?{["aria-"+(o==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:l},...a==="menu"&&c&&{role:"menuitem"},...o==="select"&&{"aria-autocomplete":"none"},...o==="combobox"&&{"aria-autocomplete":"list"}},[a,i,c,r,l,o]),d=A.useMemo(()=>{const v={id:i,...a&&{role:a}};return a==="tooltip"||o==="label"?v:{...v,...a==="menu"&&{"aria-labelledby":l}}},[a,i,l,o]),h=A.useCallback(v=>{let{active:x,selected:b}=v;const m={role:"option",...x&&{id:i+"-option"}};switch(o){case"select":return{...m,"aria-selected":x&&b};case"combobox":return{...m,...x&&{"aria-selected":!0}}}return{}},[i,o]);return A.useMemo(()=>s?{reference:f,floating:d,item:h}:{},[s,f,d,h])}const DL=e=>{var b;const t=me(),n=A.useRef(null),{refs:r,floatingStyles:i,context:s,placement:o,middlewareData:a}=RL({placement:"top",open:!!t.state.tooltip,middleware:[gL(10),vL(),yL(),xL({element:n})],onOpenChange(m){m||t.state.hideTooltipImmediately()},whileElementsMounted(m,p,y){return rs(()=>m.getBoundingClientRect(),()=>{$b(m,p).then(y).catch(console.error)},{fireImmediately:!0})}}),l=$L(s),u=LL(s,{role:"tooltip"}),c={top:"flex-col",right:"flex-row-reverse",bottom:"flex-col-reverse",left:"flex-row"},f={top:"0deg",right:"90deg",bottom:"180deg",left:"270deg"},d=o.split("-")[0],{getFloatingProps:h}=jL([l,u]),v=h(),x={...v,className:jn("flex items-center",(b=a.hide)!=null&&b.referenceHidden?"hidden":c[d],v.className)};return w.jsx(Jx,{children:()=>{var m;return r.setReference(((m=t.state.tooltip)==null?void 0:m.reference)??null),t.state.tooltip&&w.jsxs("div",{ref:r.setFloating,...x,style:{...i,fontSize:`${Math.log(-t.canvas.userspaceToCanvasFactorX/R4)}px`,filter:"drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.3))"},children:[w.jsx("div",{className:"rounded-md bg-gray-800 p-4",children:t.state.tooltip.children()}),w.jsx("svg",{ref:n,className:"h-auto max-h-4 fill-gray-800",viewBox:"0 0 24 10",style:{transform:`rotate(${f[d]})`},children:w.jsx("path",{d:"M 0 0 c 12 1 10 10 12 10 C 14 10 12 1 24 0"})})]})}})},Ri=e=>{var t;return t=class extends J{constructor(r,i,s){super(),this.chord=r,this.note=i,this.changes=s}static actionForState(r){var o,a;const i=(o=r.selection.note)==null?void 0:o.note,s=(a=r.selection.chord)==null?void 0:a.chord;return s&&i?new t(s,i,e):null}apply(r){this.chord.changeNote(this.note.withChanges(this.changes))}undo(r){this.chord.changeNote(this.note)}},g(t,"name","Change note"),g(t,"when","editorFocused"),g(t,"defaultKeyBinding",null),t},Db=A.forwardRef((e,t)=>w.jsx("div",{ref:t,className:"modal",popover:"manual",children:w.jsxs("div",{className:"flex flex-col items-center justify-center rounded bg-gray-200 text-black",children:[w.jsx("div",{className:"w-full rounded-t bg-gray-300 p-2 font-bold",children:e.title}),w.jsx("div",{className:"p-4",children:e.children})]})}));function zL(e){const t=A.useRef(null),n=A.useRef(null),r=o=>{if(o.preventDefault(),t.current&&n.current){const a=da((o.clientX-n.current.left)/n.current.width,0,1),l=da((o.clientY-n.current.top)/n.current.height,0,1);e.onDrag(t.current,a,l,o)}},i=o=>{var a;o.preventDefault(),t.current&&(r(o),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",i),(a=e.onDragEnd)==null||a.call(e,t.current),n.current=null,t.current=null)};return{startDrag:o=>{var l,u;const a=((l=e.boundedBy)==null?void 0:l.current)??document.body;window.addEventListener("pointermove",r),window.addEventListener("pointerup",i),n.current=a.getBoundingClientRect(),t.current=o,(u=e.onDragStart)==null||u.call(e,o)},currentlyDragging:t}}const Ht=0,Et=-400,mn=500,nt=-Et,s3=5,BL=5,FL=3,UL=Pe(e=>{const t=e.bend,n=t.points.map(a=>[Ht+a.time*mn,Et+nt-a.amplitude*nt]),r=A.useRef(null),i=A.useRef(null),{startDrag:s}=zL({boundedBy:r,onDrag:(a,l,u,c)=>{const f=t.points.indexOf(a);let d=0,h=0;f==0?(d=0,h=0):f==t.points.length-1?(d=1,h=1):c.shiftKey&&i.current?(d=i.current[0],h=i.current[0]):(d=t.points[f-1].time,h=t.points[f+1].time),a.time=da(l,d,h),a.amplitude=1-u},onDragStart:a=>{i.current=[a.time,a.amplitude]}}),o=a=>{if(a.preventDefault(),a.target instanceof Element){const d=a.target.closest("[data-bendpoint-index]");if(d){const h=Number(d.getAttribute("data-bendpoint-index"));a.metaKey&&h>0&&h<t.points.length-1?t.removeBendPoint(t.points[h]):(a.currentTarget.setPointerCapture(a.pointerId),s(t.points[h]));return}}const l=a.currentTarget.getBoundingClientRect(),u=(a.clientX-l.left)/l.width,c=1-(a.clientY-l.top)/l.height,f=t.addBendPoint(u,c);f&&(a.currentTarget.setPointerCapture(a.pointerId),s(f))};return w.jsxs("svg",{ref:r,className:`-m-1.5 stroke-1 ${e.className??""}`,viewBox:`${Ht-6} ${Et-6} ${mn+2*6} ${nt+2*6}`,onPointerDown:a=>o(a),children:[w.jsx("rect",{x:Ht,y:Et,width:mn,height:nt,className:"fill-gray-800"}),w.jsxs("g",{children:[ze(0,nt+1,nt/((FL+1)*t.amplitude)).map(a=>w.jsx("line",{x1:Ht+.5,y1:Et+nt-a,x2:Ht+mn-.5,y2:Et+nt-a,className:"stroke-gray-700"},`minor-h-${a}`)),ze(0,mn+1,mn/((BL+1)*(s3+1))).map(a=>w.jsx("line",{x1:Ht+a,y1:Et+.5,x2:Ht+a,y2:Et+nt-.5,className:"stroke-gray-700"},`minor-v-${a}`)),ze(0,nt+1,nt/t.amplitude).map(a=>w.jsx("line",{x1:Ht+.5,y1:Et+nt-a,x2:Ht+mn-.5,y2:Et+nt-a,className:"stroke-gray-500"},`major-h-${a}`)),ze(0,mn+1,mn/(s3+1)).map(a=>w.jsx("line",{x1:Ht+a,y1:Et+.5,x2:Ht+a,y2:Et+nt-.5,className:"stroke-gray-500"},`major-v-${a}`))]}),w.jsx("path",{d:L4(n),className:"fill-none stroke-lime-600 stroke-2"}),t.points.map((a,l)=>w.jsx(VL,{bend:t,point:a},l))]})}),VL=Pe(e=>{const t=e.bend.points.indexOf(e.point);return w.jsx("circle",{r:mn/100,cx:Ht+e.point.time*mn,cy:Et+nt-e.point.amplitude*nt,"data-bendpoint-index":t,className:"cursor-grab fill-gray-200 stroke-gray-700"})}),HL=Pe(e=>{const t=me(),n=Jd(t.state.modalSubject,qt),r=A.useRef(null);return A.useLayoutEffect(()=>{r.current&&(n?r.current.showPopover():r.current.hidePopover())},[n]),w.jsx(Db,{ref:r,title:"Bend",children:n&&t.state.modalProperty=="bend"&&w.jsx(KL,{note:n})})}),KL=Pe(e=>{const t=A.useMemo(()=>{const n=e.note.bend,r=n?{type:n.type,amplitude:n.amplitude,points:ve(n.points.map(i=>i))}:{type:rt.Bend,amplitude:1,points:j2(rt.Bend)};return ve({...r,note:e.note,addBendPoint(i,s){const o=this.points.findIndex(a=>i<a.time);if(o!=-1){const a=ve({time:i,amplitude:s});return this.points.splice(o,0,a),a}},removeBendPoint(i){this.points.splice(this.points.indexOf(i),1)},setType(i){this.type=i,this.points=j2(i)},setAmplitude(i){this.amplitude=i}})},[e.note]);return w.jsxs("div",{className:"flex flex-row items-center justify-between gap-4",children:[w.jsx(UL,{bend:t,className:"min-w-[50vw] flex-1"}),w.jsx(WL,{bend:t})]})}),WL=Pe(e=>{const t=me(),n=e.bend,r=()=>{t.dispatch(Ri({bend:void 0})),t.state.hideModal()},i=()=>{t.dispatch(Ri({bend:{type:n.type,amplitude:n.amplitude,points:n.points}})),t.state.hideModal()};return w.jsxs("div",{className:"flex flex-col items-stretch justify-between gap-y-4 self-stretch",children:[w.jsxs("div",{className:"flex flex-col gap-y-4",children:[w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsx("label",{htmlFor:"name",className:"font-bold",children:"Type:"}),w.jsx("select",{name:"type",size:Object.values(rt).length,className:"overflow-clip rounded p-2",onChange:s=>n.setType(s.currentTarget.value),children:Object.values(rt).map(s=>w.jsx("option",{selected:s==n.type,children:s},s))})]}),w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsxs("div",{className:"flex flex-row gap-x-2",children:[w.jsx("label",{htmlFor:"amplitude",className:"font-bold",children:"Amplitude:"}),w.jsx("div",{className:"flex-1",children:n.amplitude})]}),w.jsx("input",{type:"range",name:"amplitude",step:"0.1",min:"0.1",max:"5",value:n.amplitude,className:"col-span-2 flex",onChange:s=>n.setAmplitude(Number(s.currentTarget.value))})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-x-2",children:[w.jsx("button",{className:"rounded border border-red-300/50 bg-red-200 px-4 py-1 text-red-900",onClick:()=>r(),children:"Clear"}),w.jsx("button",{className:"rounded border border-gray-400/50 bg-gray-300 px-4 py-1 text-gray-900",onClick:()=>i(),children:"Set"})]})]})}),GL=Pe(e=>{const t=me();return w.jsx("div",{className:"debug-panel flex h-full min-w-72 max-w-72 flex-col gap-4 p-4 text-sm",children:w.jsx(XL,{element:t.debug.highlightedElement})})}),XL=e=>{if(!e.element)return null;let t=null,n=e.element;for(;n;)t=w.jsx(YL,{className:"pl-4",element:n,children:t}),n=n.parent;return t},YL=e=>w.jsxs("div",{className:e.className,children:[e.element.type,e.children]}),zb=e=>{const t=me();return{onContextMenu:r=>{r.preventDefault(),r.stopPropagation(),t.state.showContextMenuFor(e,r.pageX,r.pageY)}}},qL=Pe(e=>{const{measure:t,partIndex:n,color:r,onChange:i}=e,{playback:s,selection:o}=me(),[a,l]=A.useState(!1),u=n==o.partIndex;A.useEffect(()=>rs(()=>{const v=s.playing&&s.currentMeasure?s.currentMeasure.measure.number:o.measureIndex+1;return u&&v==t.number},v=>{l(v)},{fireImmediately:!0}),[t.number,u,s,o]);const c=A.useMemo(()=>t.chords.reduce((v,x)=>v+(x.rest?0:x.value.toDecimal()),0),[t.chords]),f=u?.3:.2,d=u?1:.4,h=f+(1-f)*d*Math.sqrt(c);return w.jsx("div",{className:"p-0.8 flex cursor-pointer rounded-sm",style:{backgroundColor:QL(r,h)},onClick:i,"data-measure":t.number-1,"data-part":n,children:a&&w.jsx("div",{className:"h-full w-full rounded-sm bg-white/50"})})}),QL=(e,t)=>`${e.substring(0,e.length-1)}, ${t})`,JL=Pe(e=>{var i;const{selection:t}=me(),n=s=>{const o=s.currentTarget.dataset.part,a=s.currentTarget.dataset.measure;t.update({partIndex:o?parseInt(o):void 0,measureIndex:a?parseInt(a):void 0})},r=((i=e.score.parts[0])==null?void 0:i.measures.length)??0;return w.jsxs("div",{className:"grid flex-1 items-stretch justify-stretch gap-px bg-gray-950/75",style:{gridTemplateColumns:`repeat(${r}, 1.75rem)`,gridAutoRows:"1.75rem",gridTemplateRows:"2rem"},children:[ze(r).map(s=>{const o=e.score.parts.find(c=>c.measures[s].marker),a=o==null?void 0:o.measures[s].marker,l=s==0||s%10==9,u=jn("sticky left-0 top-0 flex items-center font-light bg-gray-950/75",a?"text-2xs z-20 justify-start whitespace-nowrap pl-1 text-gray-400":"justify-center z-10");return w.jsx("div",{className:u,children:a?w.jsx("div",{className:"relative bg-gray-950/75",children:a.text}):l?s+1:null},s)}),e.score.parts.map((s,o)=>{const a=zb(s),l=s.color??"rgb(156, 163, 175)";return w.jsx("div",{className:"contents",...a,children:s.measures.map(u=>w.jsx(qL,{partIndex:o,measure:u,color:l,onChange:n},u.number))},o)})]})});class Kc extends J{constructor(n,r){super();g(this,"oldName");this.part=n,this.newName=r,this.oldName=n.name}apply(n){this.part.setName(this.newName)}undo(n){this.part.setName(this.oldName)}}g(Kc,"name","Change part name"),g(Kc,"when","editorFocused"),g(Kc,"defaultKeyBinding",null);const ZL=Pe(e=>{var h,v;const{selection:t,playback:n}=me(),r=(h=t.score)==null?void 0:h.score.parts.indexOf(e.part);if(r===void 0)throw new Error("Part not found in score");const i=e.part===((v=t.part)==null?void 0:v.part)?"bg-gray-700":"bg-gray-800",s=zb(e.part),o=me(),a=A.useRef(null),l=x=>{x.preventDefault(),n.toggleSolo(e.part)},u=x=>{x.preventDefault(),n.toggleMute(e.part)},c=()=>{if(a.current){const x=a.current.innerText.trim().replaceAll(/\n\r\t/g," ");o.dispatch(new Kc(e.part,x))}},f=x=>{const b=x.currentTarget.dataset.part,m=x.currentTarget.dataset.measure;t.update({partIndex:b?parseInt(b):void 0,measureIndex:m?parseInt(m):void 0})};let d;if(e.part.instrument instanceof ys)if(e.part.instrument.tuning.length>=6){const x=e.part.name.toLowerCase();x.includes("vocal")||x.includes("voice")?d=PI:x.includes("piano")?d=_I:d=yI}else e.part.instrument.tuning.length===4&&(d=gI);else e.part.instrument instanceof is&&(d=vI);return d??(d=xI),w.jsxs("div",{className:jn("contents",i),...s,children:[w.jsx("div",{className:"flex w-8 items-center justify-center bg-inherit p-1",children:w.jsx(d,{size:"100%",className:"text-gray-400"})}),w.jsx("div",{ref:a,className:"text-shadow flex cursor-text items-center bg-inherit px-2 text-xs font-extralight shadow-black",onClick:f,onBlur:c,"data-part":r,dangerouslySetInnerHTML:{__html:e.part.name},contentEditable:!0}),w.jsx("button",{type:"button",name:"solo",onClick:l,className:"flex items-center justify-center bg-inherit p-1",children:n.soloedParts[r]?w.jsx(AI,{size:"100%",className:"text-white hover:text-gray-400",title:"Play other tracks"}):w.jsx(EI,{size:"100%",className:"text-gray-500 hover:text-gray-300",title:"Only play this track"})}),w.jsx("button",{type:"button",name:"mute",onClick:u,className:"flex items-center justify-center rounded-r bg-inherit p-1",children:n.mutedParts[r]?w.jsx(OI,{size:"100%",className:"text-white hover:text-gray-400",title:"Unmute this track"}):w.jsx(bI,{size:"100%",className:"text-gray-500 hover:text-gray-300",title:"Mute this track"})})]})}),eD=Pe(e=>{const t=jn("sticky top-0 backdrop-blur-2xs items-center flex bg-inherit");return w.jsxs("div",{className:"sticky left-0 z-50 grid items-stretch gap-y-px bg-gray-950/75 pr-px",style:{gridTemplateColumns:"1.75rem max-content 1.75rem 1.75rem",gridAutoRows:"1.75rem",gridTemplateRows:"2rem"},children:[w.jsx("div",{className:t}),w.jsx("div",{className:jn(t,"px-2"),children:"Track"}),w.jsx("div",{className:t}),w.jsx("div",{className:t}),e.score.parts.map((n,r)=>w.jsx(ZL,{part:n},r))]})}),tD=Pe(e=>{const{selection:t}=me(),n=t.score;return n?w.jsxs("div",{className:"part-panel flex h-full overflow-auto",children:[w.jsx(eD,{score:n.score}),w.jsx(JL,{score:n.score})]}):null}),o3=Pe(e=>{const t=me(),n=A.useRef(null);A.useEffect(()=>{n.current&&n.current.focus()},[n]);const r=t.canvas.userSpaceToCanvasViewport(bn(e.element)),i={top:`${r.y}px`,left:`${r.centerX}px`,fontSize:`${Math.log(-t.canvas.userspaceToCanvasFactorY/R4)}px`,transform:"translate(-50%, -100%)",color:"#ffffff",position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",outline:"none",filter:"drop-shadow(3px 3px 2px rgba(0, 0, 0, 0.3))"};return w.jsxs("div",{ref:n,style:i,tabIndex:1,onBlur:()=>e.close(),children:[w.jsx("div",{className:"flex h-auto w-full justify-around rounded-md bg-gray-800 font-serif italic",children:Object.entries(e.options).map(([s,o])=>{const a=()=>{e.onSelect(o,e.element),e.close()};return w.jsx(nD,{onClick:a,value:o,current:o===e.currentValue,children:s},s)})}),w.jsx("svg",{className:"h-auto max-h-4 fill-gray-800",viewBox:"0 0 24 10",children:w.jsx("path",{d:"M 0 0 c 12 1 10 10 12 10 C 14 10 12 1 24 0"})})]})});function nD(e){return w.jsx("span",{onClick:e.onClick,className:`cursor-pointer rounded-md px-3 py-1 text-center hover:bg-gray-600 ${e.current?"bg-gray-500":""}`,children:e.children})}const rD=(e,t)=>{var n;return n=class extends J{constructor(s,o){super();g(this,"prev");this.element=s,this.text=o,this.prev=s.text}static actionForState(s){return e.text!=t?new n(e,t):null}apply(){this.prev=this.element.text,this.element.text=this.text}undo(s){this.element.text=this.prev}},g(n,"name",`Change text to ${t}`),g(n,"when","editorFocused"),g(n,"defaultKeyBinding",null),n},iD=Pe(e=>{const t=A.useRef(e.state.element.text),n=A.useRef(null);A.useEffect(()=>{var i;(i=n.current)==null||i.focus()},[n]);const r=jn("absolute flex whitespace-pre-wrap bg-white",oD(e.state.style.textAlign),aD(e.state.style.verticalAlign));return w.jsx("div",{ref:n,contentEditable:!0,className:r,style:e.state.style,onKeyDown:i=>{i.code=="Escape"?(i.preventDefault(),e.state.hide()):i.code=="Enter"&&!i.shiftKey&&(i.preventDefault(),e.state.complete(i.currentTarget.innerText))},onInput:i=>{t.current=i.currentTarget.innerText},onBlur:i=>e.state.complete(i.currentTarget.innerText),children:t.current})});class sD{constructor(t,n,r){g(this,"visible",!0);g(this,"styles");this.application=t,this.element=n,this.styles=F5(r.stylesFor(this.element,[]),this.element.style),vi(this,void 0,{deep:!1})}get style(){const t=this.application.canvas,n=t.userSpaceToCanvasViewport(bn(this.element));return{top:`${n.y}px`,left:`${n.x}px`,width:`${n.width}px`,minHeight:`${n.height}px`,fontSize:`${this.element.size*t.userspaceToCanvasFactorX}px`,lineHeight:`${this.element.size*t.userspaceToCanvasFactorX}px`,outline:"none",...this.styles}}hide(){this.visible=!1}complete(t){this.visible&&(this.application.dispatch(rD(this.element,t).actionForState(this.application)),this.visible=!1)}}const oD=e=>{switch(e){case"center":return"justify-center";case"right":return"justify-end";default:return"justify-start"}},aD=e=>{switch(e){case"middle":return"items-center";case"baseline":case"bottom":case"sub":case"text-bottom":return"items-end";default:return"items-start"}};class lD{constructor(t,n){this.element=t,this.canvas=n}getBoundingClientRect(){if(this.canvas.canvas===null)return R.empty();const t=bn(this.element),n=this.canvas.userSpaceToCanvasViewport(t),r=this.canvas.canvas.getBoundingClientRect();return n.translate(r.x,r.y)}}const uD=e=>{const t=me(),n=A.useMemo(()=>new Vx,[]);A.useEffect(()=>()=>n.dispose(),[n]),A.useEffect(()=>{var l;const o=new Ad({...e.diagram.diagram,name:""});n.setRenderFunction((u,c)=>{wg(o,u,{debug:t.debug,viewport:c,ancestors:[],style:{color:"#ffffff"},styler:e.styler})});const a=((l=o.diagram.diagram)==null?void 0:l.baseFret)??1;n.setUserSpaceSize(e.diagram.box),n.setViewport(e.diagram.box.translate(a>1?-2.5:-1,0))},[n,t,e.diagram,e.styler]);const[r,i]=A.useState(null),s=A.useMemo(()=>{if(r)return new tx({root:r,state:n,disabled:!0})},[r,n]);return A.useEffect(()=>s==null?void 0:s.mount(),[s]),w.jsx("div",{ref:o=>i(o),className:"relative max-w-48 overflow-hidden",style:{aspectRatio:`${e.diagram.box.width} / ${e.diagram.box.height}`}})},cD=Pe(e=>{const t=me(),n=A.useRef(0),r=Zx(()=>({epoch:0})),[i,s]=A.useState(null),o=A.useMemo(()=>{const v=Array.from(document.styleSheets).find(x=>{for(let b=0;b<x.cssRules.length;++b)if(x.title=="muzart")return!0;return!1});return new zR(v)},[]);A.useEffect(()=>{const v=rs(()=>t.playback.playing,x=>{x?n.current==0&&(n.current=window.setInterval(()=>{t.canvas.redraw()},20)):(clearInterval(n.current),n.current=0,t.canvas.redraw())});return()=>{v(),clearInterval(n.current)}}),A.useEffect(()=>{},[r]),A.useEffect(()=>{const v=t.selection.score;if(!v)return;const x=(b,m)=>{if(wg(v,b,{debug:t.debug,viewport:m,styler:o,ancestors:[],style:{}}),t.playback.playing){const p=t.playback.currentMeasure;if(p){const y=t.playback.tempoOfSelection,_=uT(p.measure.chords,ee=>Wo(ee.value,y)),E=t.playback.currentTime-t.playback.startOfCurrentMeasure,P=p.chords[0].box.x,O=p.chords[p.chords.length-1].box.right,T=bn(p),H=T.x+P+(O-P)*(E/_),I=bu(1.5);b.fillStyle="#ff000033",b.fillRect(H-I,T.y-.75*$,2*I,T.height+1.5*$)}}else if(t.selection.chord){const p=Vp(t.selection.chord,t.selection.noteIndex);b.fillStyle="#f0f0a055",b.strokeStyle="#a0a050",b.fillRect(p.x,p.y,p.width,p.height),b.strokeRect(p.x,p.y,p.width,p.height)}};t.canvas.setRenderFunction(x)},[t.selection.score,t.canvas,o]),A.useEffect(()=>rs(()=>[t.selection.partIndex,t.selection.measureIndex,t.selection.chordIndex,t.selection.noteIndex,t.selection.note,t.debug.highlightedElement,r.epoch],()=>{t.canvas.redraw()},{fireImmediately:!0}),[t.canvas,t.canvas.render,t,t.selection.part,r]);const a=A.useCallback(v=>{var b;const x=tl(v,t.selection.part);x&&(t.selection.setFor(x.element),x.element.type=="Chord"&&t.selection.update({noteIndex:Math.floor(x.point.y/x.element.staffHeight)}),(x.element.type=="Note"||((b=x.element.parent)==null?void 0:b.type)=="Note")&&t.playback.playNote())},[t]),l=A.useCallback(v=>{const x=tl(v,t.selection.part);(x==null?void 0:x.element.type)=="Text"&&!x.element.isReadOnly&&s(new sD(t,x.element,o))},[t,o]),u=A.useCallback((v,x)=>{let b="auto",m=null;const p=tl(v,t.selection.part);if(p)switch(p.element.type){case"Chord":case"Note":case"Rest":b="pointer";break;case"Text":{const y=p.element.parent;if((y==null?void 0:y.type)==="Note")b="pointer";else if((y==null?void 0:y.type)==="ChordDiagram"){if(pl(p.element,"PageLine")!==null){b="help";const _=y.diagram,E=new Ad(_);m={subject:_,children:()=>w.jsx(uD,{diagram:E,styler:o}),reference:new lD(p.element,t.canvas)}}}else p.element.isReadOnly||(b="text");break}}m?t.state.showTooltip(m):t.state.hideTooltip(),t.debug.setHighlightedElement((p==null?void 0:p.element)??null),t.canvas.setCursor(b)},[t.canvas,t.debug,t.selection.part,t.state,o]),c=A.useCallback((v,x)=>{var p;let b=null,m=(p=tl(v,t.selection.score))==null?void 0:p.element;for(;m;){if(m.type=="Measure"){b=m.measure;break}m=m.parent}b&&(x.stopPropagation(),x.preventDefault(),t.state.showContextMenuFor(b,x.pageX,x.pageY))},[t.selection.score,t.state]),[f,d]=A.useState(null),h=A.useMemo(()=>{if(f)return new tx({root:f,state:t.canvas,onContextMenu:c,onDoubleClick:l,onMouseDown:a,onMouseMove:u})},[f,t.canvas,c,l,a,u]);return A.useEffect(()=>h==null?void 0:h.mount(),[h]),w.jsxs("div",{ref:v=>d(v),className:"score relative h-full w-full overflow-hidden bg-gray-500",children:[(i==null?void 0:i.visible)&&w.jsx(iD,{state:i}),t.state.modalSubject instanceof ua&&t.state.modalProperty=="dynamic"&&w.jsx(o3,{element:t.state.modalSubject,options:{[xe.Pianississimo]:xe.Pianississimo,[xe.Pianissimo]:xe.Pianissimo,[xe.Piano]:xe.Piano,[xe.MezzoPiano]:xe.MezzoPiano,[xe.MezzoForte]:xe.MezzoForte,[xe.Forte]:xe.Forte,[xe.Fortissimo]:xe.Fortissimo,[xe.Fortississimo]:xe.Fortississimo},currentValue:t.state.modalSubject.note.dynamic,close:()=>t.state.hideModal(),onSelect:(v,x)=>{v==x.note.dynamic?t.dispatch(Ri({dynamic:void 0})):t.dispatch(Ri({dynamic:v}))}}),t.state.modalSubject instanceof ua&&t.state.modalProperty=="note.harmonic"&&w.jsx(o3,{element:t.state.modalSubject,options:{"N.H.":Ne.Natural,"P.H.":Ne.Pinch,"S.H":Ne.Semi,"T.H.":Ne.Tapped,"A.H. +5":Ne.ArtificialPlus5,"A.H. +7":Ne.ArtificialPlus7,"A.H. +12":Ne.ArtificialPlus12},currentValue:t.state.modalSubject.note.harmonic,close:()=>t.state.hideModal(),onSelect:(v,x)=>{v==x.note.harmonic?t.dispatch(Ri({harmonic:void 0})):t.dispatch(Ri({harmonic:v}))}})]})}),fD=e=>{var t;return t=class extends J{constructor(i,s){super();g(this,"previousValue");this.chord=i,this.value=s,this.previousValue=i.value.name}static actionForState(i){var o;const s=(o=i.selection.chord)==null?void 0:o.chord;return s?new t(s,e):null}apply(i){this.chord.setValue(this.chord.value.withName(this.value))}undo(i){this.chord.setValue(this.chord.value.withName(this.previousValue))}},g(t,"name",`Change note value to ${e}`),g(t,"when","editorFocused && !isPlaying"),g(t,"defaultKeyBinding",null),t},f0=e=>{const{noteValue:t,...n}=e,r=t instanceof Y?t.name:t,i=FR.NoteValues[r],s=t instanceof Y?t.dots:0,o=Math.max(3,i.flags),a=.3,l=.96,u=-1.5,c=4,f=-o+a,d=o+i.head.height-a;return w.jsxs("svg",{...n,viewBox:`${u} ${f} ${c} ${d}`,"stroke-width":"0.08","stroke-linecap":"butt",children:[w.jsx("path",{d:i.head.path}),i.stemmed&&w.jsx("line",{x1:l,y1:f,x2:l,y2:a,className:"stroke-current"}),i.flags>0&&ze(i.flags).map(h=>{const b=f+h*(o/(i.flags*2));return w.jsx("path",{d:`
                M ${l},${b}
                c 0.1,1 ${2.5*.6},${.6*1} ${.6},${2*1}
                c 0.1,${-.5*1} 0.5,-1 ${-.6},${-2*1+.8}
                z
              `},h)}),ze(s).map(h=>w.jsx("circle",{cx:1.3+h*.6,cy:.7,r:.2},h))]})},io=e=>{const{active:t,className:n,command:r,...i}=e,s=me(),o=jn("inline-flex min-h-8 min-w-8 cursor-pointer items-center justify-center rounded border border-gray-600 p-1 text-xs font-thin hover:bg-gray-700",n==null?void 0:n.toString(),t?"bg-gray-600":"bg-gray-800");return w.jsxs(w.Fragment,{children:[w.jsx("button",{...i,title:r.name,onClick:()=>s.dispatch(r),className:o}),w.jsx("span",{className:"hide-for-accessibility",children:r.name})]})};function a3(e){var l;const t=me(),{property:n,value:r,...i}=e,s=(l=t.selection.note)==null?void 0:l.note,o=s?s[n]==r:!1,a=Ri({[n]:o?void 0:r});return w.jsx(io,{...i,command:a,active:o})}const _c=e=>{const{children:t,...n}=e;return w.jsxs("fieldset",{...n,className:"rounded border border-gray-600 bg-white/5 px-2 pb-1",children:[n.name&&w.jsx("legend",{className:"px-1",children:n.name}),w.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-2 py-2",children:t})]})},_i=e=>{var o;const t=me(),{property:n,...r}=e,i=jr(n),s=((o=t.selection.note)==null?void 0:o.note[n])??!1;return w.jsx(io,{...r,command:i,active:s})},dD=Pe(()=>{var r,i;const e=me(),t=(r=e.selection.chord)==null?void 0:r.chord,n=(i=e.selection.note)==null?void 0:i.note;return n===void 0||t==null?w.jsx("div",{className:"flex h-full w-full items-center justify-center text-xl font-thin tracking-wider text-gray-500",children:"Select a note"}):w.jsxs(w.Fragment,{children:[w.jsxs(_c,{name:"Duration",className:"flex flex-col border border-gray-600 px-2 pb-1",children:[Object.entries(ie).map(([s,o])=>w.jsx(io,{className:"max-h-8 max-w-8",active:t.value.name==o,command:fD(o),children:w.jsx(f0,{noteValue:o,className:"aspect-square w-full"})},s)),w.jsx(io,{className:"max-h-8 max-w-8",active:n.value.dots==1,command:Ay(n.value.dots==1?0:1),children:w.jsx(f0,{noteValue:Y.fromNumber(4).dot(),className:"aspect-square w-full"})}),w.jsx(io,{className:"max-h-8 max-w-8",active:n.value.dots==2,command:Ay(n.value.dots==2?0:2),children:w.jsx(f0,{noteValue:Y.fromNumber(4).withDots(2),className:"aspect-square w-full"})})]}),w.jsxs(_c,{name:"Effects",className:"flex border border-gray-600 px-2 pb-1",children:[w.jsx(io,{command:Vf,children:"Bend"}),w.jsx(_i,{property:"vibrato",children:"Vibrato"}),w.jsx(_i,{property:"letRing",children:"Let Ring"}),w.jsx(_i,{property:"dead",children:"x"}),w.jsx(_i,{property:"ghost",children:"( )"}),w.jsx(_i,{property:"staccato",children:"Staccato"}),w.jsx(_i,{property:"palmMute",children:"P.M."}),w.jsx(_i,{property:"hammerOnPullOff",children:"Hammer-on / Pull-off"})]}),w.jsx(_c,{name:"Harmonics",className:"flex border border-gray-600 px-2 pb-1",children:Object.entries(Ne).map(([s,o])=>w.jsx(a3,{property:"harmonic",value:o,children:hD(o)},s))}),w.jsx(_c,{name:"Dynamics",className:"flex border border-gray-600 px-2 pb-1",children:Object.entries(xe).map(([s,o])=>w.jsx(a3,{className:"italic",property:"dynamic",value:o,children:o},s))})]})}),hD=e=>{switch(e){case Ne.Natural:return"";case Ne.ArtificialPlus5:return"A+5";case Ne.ArtificialPlus7:return"A+7";case Ne.ArtificialPlus12:return"A+12";case Ne.Tapped:return"T.H.";case Ne.Pinch:return"P.H.";case Ne.Semi:return"S.H."}},pD=e=>w.jsx("div",{className:"palette flex h-full w-full min-w-24 flex-col gap-4 p-4 text-sm",children:w.jsx(dD,{})});class Sl extends J{constructor(n,r,i){super();g(this,"oldTimeSignature");this.part=n,this.measure=r,this.timeSignature=i,this.oldTimeSignature=r.staffDetails.time}apply(n){var s,o;const r=this.part.measures.indexOf(this.measure),i=(o=(s=this.part.measures[r-1])==null?void 0:s.staffDetails.time)==null?void 0:o.value;if(!i)throw new Error("previous time signature not found");this.timeSignature?this.measure.setTimeSignature({value:this.timeSignature,changed:!this.timeSignature.isEqual(i)}):this.measure.setTimeSignature({value:i,changed:!1})}undo(n){this.measure.setTimeSignature(this.oldTimeSignature)}}g(Sl,"name","Change time signature"),g(Sl,"when","editorFocused"),g(Sl,"defaultKeyBinding",null);const mD=Pe(e=>{var o;const t=me(),n=(o=t.selection.part)==null?void 0:o.part;if(!n)return null;const r=e.timeSignature.measure,i=()=>{t.dispatch(new Sl(n,r,null)),t.state.hideModal()},s=()=>{const a=new pa(e.timeSignature.value,e.timeSignature.count);t.dispatch(new Sl(n,r,a)),t.state.hideModal()};return w.jsx("div",{className:"flex flex-col items-stretch justify-between gap-y-4 self-stretch",children:w.jsxs("div",{className:"grid grid-cols-2 gap-x-2",children:[w.jsx("button",{className:"rounded border border-red-300/50 bg-red-200 px-4 py-1 text-red-900",onClick:()=>i(),children:"Clear"}),w.jsx("button",{className:"rounded border border-gray-400/50 bg-gray-300 px-4 py-1 text-gray-900",onClick:()=>s(),children:"Set"})]})})}),gD=Pe(e=>{const t=me(),n=Jd(t.state.modalSubject,Mu);return!n||t.state.modalProperty!="staffDetails.time"?null:w.jsx(vD,{measure:n})}),vD=Pe(e=>{const t=e.measure.staffDetails.time;if(!t)return null;const n=Zx(()=>({count:t.value.count,value:t.value.value,measure:e.measure,setValue(r){this.value=Y.fromNumber(r)},setCount(r){this.count=r}}));return w.jsx(Db,{title:"Time signature",children:w.jsxs("div",{className:"grid gap-x-4 gap-y-2",style:{gridTemplateColumns:"auto 1fr"},children:[w.jsx("label",{htmlFor:"count",children:"Count:"}),w.jsx("input",{type:"number",name:"count",value:n.count,onChange:r=>n.setCount(parseInt(r.currentTarget.value))}),w.jsx("label",{htmlFor:"value",children:"Value:"}),w.jsxs("select",{name:"value",value:n.value.toNumber(),onChange:r=>n.setValue(parseInt(r.currentTarget.value)),children:[w.jsx("option",{value:"2",children:"2"}),w.jsx("option",{value:"4",children:"4"}),w.jsx("option",{value:"8",children:"8"}),w.jsx("option",{value:"16",children:"16"})]}),w.jsx("div",{className:"col-span-2",children:w.jsx(mD,{timeSignature:n})})]})})}),yD=Pe(e=>{const{loaderUrl:t}=e,n=me();if(A.useEffect(()=>{n.loadScore(t).catch(console.error)},[n,t]),n.error)throw n.error;if(n.loading)return w.jsx(Sb,{});const r=n.isSmallScreen?xD:bD;return w.jsxs(r,{children:[w.jsx(cD,{}),w.jsx(SD,{}),w.jsx(HL,{}),w.jsx(gD,{}),w.jsx(DL,{}),w.jsx(wD,{})]})}),xD=Pe(e=>w.jsx(w.Fragment,{children:e.children})),bD=Pe(e=>{const t=me();return w.jsx("div",{className:"chrome max-w-screen relative grid h-screen max-h-screen w-screen gap-px bg-gray-950 fill-gray-200 text-gray-200",children:w.jsxs(S1,{autoSaveId:"muzart-chrome",direction:"vertical",children:[w.jsx(js,{defaultSize:80,minSize:10,children:w.jsxs(S1,{autoSaveId:"muzart-chrome-inner",direction:"horizontal",children:[w.jsx(js,{order:1,defaultSize:20,children:w.jsx(pD,{})}),w.jsx(Vc,{hitAreaMargins:{coarse:0,fine:0}}),w.jsx(js,{order:2,minSize:10,children:e.children}),t.debug.enabled&&w.jsxs(w.Fragment,{children:[w.jsx(Vc,{hitAreaMargins:{coarse:0,fine:0}}),w.jsx(js,{order:3,defaultSize:20,children:w.jsx(GL,{})})]})]})}),w.jsx(Vc,{hitAreaMargins:{coarse:0,fine:0}}),w.jsx(js,{order:4,children:w.jsx(tD,{})})]})})}),wD=Pe(e=>{const t=me();return w.jsx("div",{className:"pointer-events-none absolute bottom-0 left-0 right-0 top-0 flex flex-col items-end p-4 lg:hidden",children:w.jsx(_D,{on:t.playback.playing,onIcon:wI,offIcon:SI,onCommand:su,offCommand:su})})}),_D=e=>{const t=me(),n=jn("pl-1.2 right-2 top-2 max-h-12 max-w-12 overflow-hidden rounded-full py-1 pr-0.8 shadow-modal hover:cursor-pointer pointer-events-auto",e.on?"text-white hover:bg-gray-800":"text-gray-600 hover:bg-gray-100",e.on?"bg-gray-700":"bg-white");return w.jsx("div",{className:n,children:e.on?w.jsx(e.onIcon,{className:"h-full w-full",onClick:()=>{t.dispatch(e.offCommand)}}):w.jsx(e.offIcon,{className:"h-full w-full",onClick:()=>{t.dispatch(e.onCommand)}})})},SD=Pe(e=>{const n=me().state;if(n.contextMenuSubject===null)return null;let r;if(n.contextMenuSubject instanceof Dd)r=[Up,O1];else if(n.contextMenuSubject instanceof Mu)r=[E1];else return null;return w.jsx(kI,{offsetX:n.contextMenuX,offsetY:n.contextMenuY,onHideMenu:()=>n.hideContextMenu(),children:w.jsx(CI,{children:r})})}),ED=()=>{const e=me(),[t,n]=$4(),r=async i=>{if(i.preventDefault(),!i.dataTransfer)return;const s=OD(i.dataTransfer),o=s.find(l=>Tp(l).filename.endsWith(".sf2"));o&&e.playback.loadSoundFont(o);const a=s.filter(l=>Fc(l)!=ex.Unknown);if(a.length>0){const l=await Promise.all(a.map(async u=>{const{filename:c}=Tp(u),f=await u.arrayBuffer(),d=new Blob([f],{type:"application/octet-stream"}),h=new URL(`indexed-db:${c}`);return await e.tabStorage.store(h,d),h}));n(`#/${l[0].toString()}`)}};return w.jsx("div",{className:"min-w-screen min-h-screen",onDrop:i=>{r(i).catch(console.error)},onDragOver:i=>{i.preventDefault()},children:w.jsxs("div",{className:"max-w-screen flex h-screen max-h-screen w-screen flex-col items-center overflow-clip",children:[w.jsx(Yv,{path:"/:url",children:i=>{const s=decodeURIComponent(i.url);return w.jsx(yD,{loaderUrl:s})}}),w.jsx(Yv,{path:"/",children:i=>(e.setScore(null),w.jsx(bj,{}))})]})})},OD=e=>{const t=[];for(let n=0;n<e.items.length;n++)if(e.items[n].kind==="file"){const r=e.items[n].getAsFile();r&&t.push(r)}for(let n=0;n<e.files.length;n++){const r=e.files[n];t.push(r)}return t},AD=Pe(function(t){const n=me();return w.jsxs("div",{className:`z-top absolute bottom-0 left-0 right-0 top-0 flex flex-col gap-4 overflow-clip bg-black/80 p-4 text-gray-300 backdrop-blur-md ${n.state.helpVisible?"block":"hidden"}`,children:[w.jsx("h1",{className:"flex-none text-center text-2xl font-bold",children:"Keyboard shortcuts"}),w.jsx("div",{className:"flex flex-1 items-center justify-start overflow-auto",children:w.jsx("div",{className:"flex h-full flex-col flex-wrap items-stretch justify-start gap-4",children:Object.entries(_C(t.bindings,"group")).map(([r,i])=>{const s=i.filter(o=>o.name&&o.key!="Escape");return s.length==0?null:w.jsxs("div",{className:"rounded-lg bg-white/10 px-4 py-2 shadow-lg",children:[w.jsx("h2",{className:"text-3 mb-2 border-b-2 border-b-white/25 font-bold",children:r}),w.jsx("div",{className:"grid-cols-key-bindings grid gap-x-4 gap-y-1",children:s.map(o=>w.jsxs(A.Fragment,{children:[w.jsx(PD,{binding:o.key}),w.jsx("span",{children:o.name})]},o.key))})]},r)})})})]})}),PD=e=>{const t=e.binding.split(ou);return w.jsx("div",{className:`grid grid-cols-${t.length} w-fit gap-x-0.5`,children:t.map(n=>w.jsx("kbd",{children:$1(n)},n))})},$1=e=>{switch(e){case"$mod":return $1(no?"Command":"Control");case"ArrowDown":return"";case"ArrowLeft":return"";case"ArrowRight":return"";case"ArrowUp":return"";case"Alt":return no?"":"Alt";case"Command":return"";case"Control":return no?"":"Ctrl";case"Return":return"";case"Shift":return no?"":"Shift";case"Space":case" ":return"";case"Escape":return"Esc";default:return e}},CD=()=>{const t="https://github.com/thegedge/muzart/tree/a26af1b2cef644d3de374785b91d9e9be6d94cc7";return w.jsx("div",{className:"fixed z-50 -translate-x-1/2 -translate-y-1/2 -rotate-45 bg-white text-center text-gray-700 opacity-50 shadow-lg transition-opacity duration-300 ease-in-out hover:opacity-100",children:w.jsx("a",{href:t,className:"flex h-48 w-48 items-end justify-center py-4 underline",title:t,children:w.jsx("svg",{viewBox:"0 0 17 17",version:"1.1",width:"48",height:"48",children:w.jsx("path",{fillRule:"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})})})})},TD=()=>w.jsxs("div",{className:"min-h-screen min-w-max bg-gray-400",children:[w.jsx(CD,{}),w.jsx(M4,{hook:$D,children:w.jsx(lj,{children:w.jsxs(nj,{children:[w.jsx(kD,{}),w.jsx(A.Suspense,{fallback:w.jsx(Sb,{}),children:w.jsx(ED,{})})]})})})]}),kD=()=>{const e=oj();return w.jsx(AD,{bindings:e})},l3=()=>window.location.hash.replace(/^#/,"")||"/",ND=e=>{window.location.hash=e},$D=()=>{const[e,t]=A.useState(l3());return A.useEffect(()=>{const n=()=>t(l3());return window.addEventListener("hashchange",n),()=>window.removeEventListener("hashchange",n)},[]),[e,ND]},MD=async()=>{const e=document.getElementById("root");if(!e)throw new Error("couldn't find #root element");w4(e).render(w.jsx(TD,{}))};MD();
